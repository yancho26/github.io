<!DOCTYPE html>
<html lang="bg">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ë–µ–±–µ—à–∫–∏ –ò–º–µ–Ω–∞ ‚Äî –ù–∞–º–µ—Ä–∏ –ü–µ—Ä—Ñ–µ–∫—Ç–Ω–æ—Ç–æ –ò–º–µ</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300&display=swap" rel="stylesheet">
<style>
  :root {
    --cream: #faf6f0;
    --warm-white: #fff9f2;
    --dusty-rose: #e8c4b8;
    --terracotta: #c4714a;
    --terracotta-dark: #a05535;
    --sage: #8aab8a;
    --sage-dark: #5c7a5c;
    --deep-brown: #3a2518;
    --mid-brown: #6b4226;
    --light-brown: #c9a882;
    --gold: #d4a853;
    --text: #2d1e0f;
    --text-light: #7a5c3e;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: 'Cormorant Garamond', Georgia, serif;
    background: var(--cream);
    color: var(--text);
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* Background texture */
  body::before {
    content: '';
    position: fixed; inset: 0;
    background-image: 
      radial-gradient(ellipse at 20% 20%, rgba(232,196,184,0.3) 0%, transparent 50%),
      radial-gradient(ellipse at 80% 80%, rgba(138,171,138,0.2) 0%, transparent 50%),
      radial-gradient(ellipse at 60% 20%, rgba(212,168,83,0.1) 0%, transparent 40%);
    pointer-events: none; z-index: 0;
  }

  .container { position: relative; z-index: 1; max-width: 1100px; margin: 0 auto; padding: 0 24px; }

  /* HEADER */
  header {
    text-align: center;
    padding: 60px 24px 40px;
    position: relative;
  }

  .header-ornament {
    font-size: 2rem;
    color: var(--gold);
    letter-spacing: 12px;
    display: block;
    margin-bottom: 16px;
    opacity: 0.7;
  }

  header h1 {
    font-family: 'Playfair Display', Georgia, serif;
    font-size: clamp(2.4rem, 6vw, 4.5rem);
    font-weight: 700;
    color: var(--deep-brown);
    line-height: 1.1;
    margin-bottom: 16px;
  }

  header h1 em {
    font-style: italic;
    color: var(--terracotta);
  }

  header p {
    font-size: 1.2rem;
    color: var(--text-light);
    font-style: italic;
    max-width: 500px;
    margin: 0 auto;
    line-height: 1.6;
  }

  .divider {
    display: flex; align-items: center; gap: 16px;
    margin: 32px auto; max-width: 400px;
  }
  .divider::before, .divider::after {
    content: ''; flex: 1; height: 1px; background: linear-gradient(to right, transparent, var(--light-brown), transparent);
  }
  .divider-icon { color: var(--gold); font-size: 1.2rem; }

  /* FORM */
  .form-card {
    background: var(--warm-white);
    border: 1px solid rgba(201,168,130,0.4);
    border-radius: 24px;
    padding: 40px;
    box-shadow: 0 4px 40px rgba(58,37,24,0.08), 0 1px 0 rgba(255,255,255,0.8) inset;
    margin-bottom: 40px;
  }

  .form-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
  }

  @media (max-width: 640px) {
    .form-grid { grid-template-columns: 1fr; }
    .form-card { padding: 24px; }
  }

  .form-group { display: flex; flex-direction: column; gap: 8px; }
  .form-group.full-width { grid-column: 1 / -1; }

  label {
    font-size: 0.85rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    color: var(--mid-brown);
  }

  input, select {
    padding: 14px 18px;
    border: 1.5px solid rgba(201,168,130,0.5);
    border-radius: 12px;
    background: white;
    font-family: 'Cormorant Garamond', serif;
    font-size: 1.05rem;
    color: var(--text);
    transition: border-color 0.2s, box-shadow 0.2s;
    outline: none;
    appearance: none;
  }

  input:focus, select:focus {
    border-color: var(--terracotta);
    box-shadow: 0 0 0 3px rgba(196,113,74,0.12);
  }

  select {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%23c4714a' stroke-width='1.5' fill='none' stroke-linecap='round'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 16px center;
    padding-right: 42px;
    cursor: pointer;
  }

  /* RELIGION PILLS */
  .religion-pills {
    display: flex; flex-wrap: wrap; gap: 10px;
  }

  .pill {
    padding: 10px 20px;
    border: 1.5px solid rgba(201,168,130,0.5);
    border-radius: 100px;
    cursor: pointer;
    font-family: 'Cormorant Garamond', serif;
    font-size: 1rem;
    color: var(--text-light);
    background: white;
    transition: all 0.2s;
    user-select: none;
  }

  .pill:hover { border-color: var(--terracotta); color: var(--terracotta); }
  .pill.active {
    background: var(--terracotta);
    border-color: var(--terracotta);
    color: white;
    box-shadow: 0 4px 16px rgba(196,113,74,0.3);
  }

  /* GENDER TOGGLE */
  .gender-toggle {
    display: flex; gap: 0; border-radius: 12px; overflow: hidden; border: 1.5px solid rgba(201,168,130,0.5);
  }

  .gender-btn {
    flex: 1; padding: 14px; cursor: pointer;
    font-family: 'Cormorant Garamond', serif;
    font-size: 1.05rem;
    border: none; background: white; color: var(--text-light);
    transition: all 0.2s; text-align: center;
  }
  .gender-btn:first-child { border-right: 1px solid rgba(201,168,130,0.3); }
  .gender-btn.active { background: var(--terracotta); color: white; }

  /* GENERATE BTN */
  .btn-generate {
    width: 100%;
    padding: 18px;
    background: linear-gradient(135deg, var(--terracotta), var(--terracotta-dark));
    color: white;
    border: none;
    border-radius: 14px;
    font-family: 'Playfair Display', serif;
    font-size: 1.2rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 6px 20px rgba(196,113,74,0.35);
    margin-top: 8px;
    letter-spacing: 0.5px;
  }

  .btn-generate:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 30px rgba(196,113,74,0.45);
  }
  .btn-generate:active { transform: translateY(0); }
  .btn-generate:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }

  /* AI RESULTS */
  .ai-section {
    background: linear-gradient(145deg, #1a0f08, #2a1508, #1e1208);
    border-radius: 24px;
    padding: 40px;
    margin-bottom: 40px;
    display: none;
    position: relative;
    overflow: hidden;
    border: 1px solid rgba(212,168,83,0.15);
  }
  .ai-section.visible { display: block; animation: fadeUp 0.5s ease; }

  .ai-section::before {
    content: '';
    position: absolute; inset: 0;
    background: radial-gradient(ellipse at 30% 0%, rgba(212,168,83,0.12) 0%, transparent 60%),
                radial-gradient(ellipse at 80% 100%, rgba(196,113,74,0.08) 0%, transparent 50%);
    pointer-events: none;
  }

  .ai-header {
    display: flex; justify-content: space-between; align-items: flex-start;
    margin-bottom: 8px; position: relative; flex-wrap: wrap; gap: 12px;
  }

  .ai-section h2 {
    font-family: 'Playfair Display', serif;
    color: var(--gold);
    font-size: 1.6rem;
  }

  .ai-section .subtitle {
    color: rgba(255,255,255,0.45);
    font-style: italic;
    margin-bottom: 24px;
    font-size: 0.9rem;
    position: relative;
  }

  /* REGEN TOOLBAR */
  .regen-toolbar {
    display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 28px;
    position: relative;
  }

  .btn-regen {
    display: flex; align-items: center; gap: 8px;
    padding: 10px 20px;
    border-radius: 100px;
    border: none; cursor: pointer;
    font-family: 'Cormorant Garamond', serif;
    font-size: 1rem;
    transition: all 0.25s;
  }

  .btn-regen-all {
    background: linear-gradient(135deg, var(--terracotta), var(--terracotta-dark));
    color: white;
    box-shadow: 0 4px 16px rgba(196,113,74,0.35);
  }
  .btn-regen-all:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(196,113,74,0.5); }

  .btn-regen-unlocked {
    background: rgba(255,255,255,0.08);
    color: rgba(255,255,255,0.8);
    border: 1px solid rgba(255,255,255,0.15);
  }
  .btn-regen-unlocked:hover { background: rgba(255,255,255,0.14); }

  .btn-regen-strategy {
    background: rgba(212,168,83,0.12);
    color: rgba(212,168,83,0.9);
    border: 1px solid rgba(212,168,83,0.25);
  }
  .btn-regen-strategy:hover { background: rgba(212,168,83,0.2); }

  .btn-regen:disabled { opacity: 0.4; cursor: not-allowed; transform: none !important; }

  .spin { display: inline-block; animation: spin 0.8s linear infinite; }
  @keyframes spin { to { transform: rotate(360deg); } }

  /* STRATEGY SELECTOR */
  .strategy-panel {
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(212,168,83,0.2);
    border-radius: 14px;
    padding: 16px 20px;
    margin-bottom: 20px;
    display: none; position: relative;
  }
  .strategy-panel.open { display: block; animation: fadeUp 0.2s ease; }
  .strategy-panel h4 {
    color: rgba(212,168,83,0.8);
    font-size: 0.8rem;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    margin-bottom: 12px;
  }
  .strategy-pills {
    display: flex; flex-wrap: wrap; gap: 8px;
  }
  .strategy-pill {
    padding: 7px 14px; border-radius: 100px;
    border: 1px solid rgba(255,255,255,0.15);
    background: rgba(255,255,255,0.05);
    color: rgba(255,255,255,0.7);
    cursor: pointer; font-size: 0.9rem;
    font-family: 'Cormorant Garamond', serif;
    transition: all 0.2s;
  }
  .strategy-pill:hover { border-color: rgba(212,168,83,0.5); color: rgba(212,168,83,0.9); }
  .strategy-pill.active {
    background: rgba(212,168,83,0.2);
    border-color: rgba(212,168,83,0.6);
    color: var(--gold);
  }

  /* REJECTED COUNTER */
  .rejected-info {
    font-size: 0.82rem;
    color: rgba(255,255,255,0.3);
    font-style: italic;
    position: relative;
  }

  .names-grid-ai {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(195px, 1fr));
    gap: 14px;
    position: relative;
  }

  .name-card-ai {
    background: rgba(255,255,255,0.05);
    border: 1.5px solid rgba(212,168,83,0.15);
    border-radius: 18px;
    padding: 20px 16px 16px;
    text-align: center;
    transition: all 0.3s;
    position: relative;
    overflow: hidden;
  }
  .name-card-ai.locked {
    border-color: rgba(212,168,83,0.55);
    background: rgba(212,168,83,0.08);
  }
  .name-card-ai.saved {
    border-color: rgba(138,171,138,0.55);
    background: rgba(138,171,138,0.08);
  }
  .name-card-ai.rejected-anim {
    animation: rejectSlide 0.35s ease forwards;
  }
  @keyframes rejectSlide {
    to { opacity: 0; transform: scale(0.85); }
  }
  @keyframes lockPop {
    0% { transform: scale(1); }
    50% { transform: scale(1.04); }
    100% { transform: scale(1); }
  }

  .name-card-ai .card-top {
    display: flex; justify-content: space-between; align-items: center;
    margin-bottom: 10px;
  }
  .name-card-ai .gender-dot {
    width: 28px; height: 28px; border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 0.85rem;
  }
  .gender-dot-f { background: rgba(212,120,160,0.2); color: #d478a0; }
  .gender-dot-m { background: rgba(91,141,217,0.2); color: #5b8dd9; }

  .lock-btn {
    width: 28px; height: 28px; border-radius: 50%;
    border: 1px solid rgba(255,255,255,0.15);
    background: rgba(255,255,255,0.05);
    color: rgba(255,255,255,0.4);
    cursor: pointer; font-size: 0.85rem;
    display: flex; align-items: center; justify-content: center;
    transition: all 0.2s; flex-shrink: 0;
  }
  .lock-btn:hover { border-color: rgba(212,168,83,0.5); color: var(--gold); }
  .name-card-ai.locked .lock-btn {
    background: rgba(212,168,83,0.2);
    border-color: rgba(212,168,83,0.6);
    color: var(--gold);
  }

  .name-card-ai .name {
    font-family: 'Playfair Display', serif;
    font-size: 1.55rem;
    color: white;
    display: block;
    margin-bottom: 6px;
    line-height: 1.2;
  }
  .name-card-ai .meaning {
    font-size: 0.82rem;
    color: rgba(255,255,255,0.45);
    font-style: italic;
    line-height: 1.45;
    margin-bottom: 12px;
    min-height: 36px;
  }

  /* MATCH SCORE */
  .match-score {
    display: flex; align-items: center; gap: 6px;
    justify-content: center;
    margin-bottom: 12px;
  }
  .match-dots {
    display: flex; gap: 3px;
  }
  .match-dot {
    width: 6px; height: 6px; border-radius: 50%;
    background: rgba(255,255,255,0.15);
  }
  .match-dot.filled { background: var(--gold); }
  .match-label {
    font-size: 0.75rem;
    color: rgba(212,168,83,0.6);
    text-transform: uppercase;
    letter-spacing: 0.8px;
  }

  .card-actions {
    display: flex; gap: 6px;
  }
  .card-btn {
    flex: 1; padding: 8px 4px;
    border-radius: 10px;
    border: none; cursor: pointer;
    font-family: 'Cormorant Garamond', serif;
    font-size: 0.9rem;
    transition: all 0.2s;
  }
  .card-btn-save {
    background: rgba(138,171,138,0.15);
    color: rgba(138,200,138,0.8);
    border: 1px solid rgba(138,171,138,0.25);
  }
  .card-btn-save:hover { background: rgba(138,171,138,0.3); }
  .card-btn-save.saved-state {
    background: rgba(138,171,138,0.3);
    color: #8ed08e;
    border-color: rgba(138,200,138,0.5);
  }
  .card-btn-reject {
    background: rgba(255,100,100,0.08);
    color: rgba(255,120,120,0.6);
    border: 1px solid rgba(255,100,100,0.15);
  }
  .card-btn-reject:hover { background: rgba(255,100,100,0.18); }

  .loading-dots {
    display: flex; gap: 8px; justify-content: center; padding: 50px;
  }
  .loading-dots span {
    width: 10px; height: 10px; border-radius: 50%;
    background: var(--gold);
    animation: bounce 1.2s infinite;
  }
  .loading-dots span:nth-child(2) { animation-delay: 0.2s; }
  .loading-dots span:nth-child(3) { animation-delay: 0.4s; }

  .loading-text {
    text-align: center; padding: 0 0 20px;
    color: rgba(255,255,255,0.4);
    font-style: italic;
    font-size: 0.9rem;
  }

  @keyframes bounce {
    0%, 80%, 100% { transform: scale(0.7); opacity: 0.4; }
    40% { transform: scale(1); opacity: 1; }
  }
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  @keyframes cardEntrance {
    from { opacity: 0; transform: translateY(12px) scale(0.96); }
    to { opacity: 1; transform: translateY(0) scale(1); }
  }
  .card-enter { animation: cardEntrance 0.35s ease both; }

  /* BROWSE SECTION */
  .browse-section { margin-bottom: 60px; }

  .section-header {
    display: flex; justify-content: space-between; align-items: center;
    margin-bottom: 24px;
    flex-wrap: wrap; gap: 12px;
  }

  .section-header h2 {
    font-family: 'Playfair Display', serif;
    font-size: 1.8rem;
    color: var(--deep-brown);
  }

  .count-badge {
    background: var(--sage);
    color: white;
    padding: 6px 16px;
    border-radius: 100px;
    font-size: 0.85rem;
    font-weight: 600;
    letter-spacing: 0.5px;
  }

  .search-bar {
    position: relative; margin-bottom: 24px;
  }
  .search-bar input {
    width: 100%;
    padding-left: 48px;
    font-size: 1rem;
  }
  .search-bar .icon {
    position: absolute; left: 16px; top: 50%; transform: translateY(-50%);
    font-size: 1.1rem; opacity: 0.4; pointer-events: none;
  }

  /* NAMES TABLE */
  .names-table-wrap {
    background: var(--warm-white);
    border: 1px solid rgba(201,168,130,0.3);
    border-radius: 16px;
    overflow: hidden;
  }

  .names-table {
    width: 100%;
    border-collapse: collapse;
  }

  .names-table th {
    background: var(--deep-brown);
    color: rgba(255,255,255,0.85);
    padding: 14px 20px;
    text-align: left;
    font-size: 0.8rem;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    font-weight: 400;
  }

  .names-table td {
    padding: 13px 20px;
    border-bottom: 1px solid rgba(201,168,130,0.2);
    font-size: 1.05rem;
    vertical-align: middle;
  }

  .names-table tr:last-child td { border-bottom: none; }
  .names-table tr:hover td { background: rgba(232,196,184,0.15); }

  .name-cell {
    font-family: 'Playfair Display', serif;
    font-size: 1.2rem;
    color: var(--deep-brown);
    font-weight: 700;
  }

  .gender-icon { font-size: 1.2rem; }

  .tag {
    display: inline-block;
    padding: 3px 12px;
    border-radius: 100px;
    font-size: 0.78rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
  .tag-orthodox { background: #e8f0e8; color: #3d6b3d; }
  .tag-catholic { background: #e8eaf8; color: #3d4b8b; }
  .tag-muslim { background: #f5ede0; color: #8b5a2b; }
  .tag-jewish { background: #fef9e0; color: #8b7a1a; }
  .tag-hindu { background: #fde8e8; color: #8b2222; }
  .tag-universal { background: #f0f0f0; color: #555; }
  .tag-bulgarian { background: #fce4ec; color: #880e4f; }

  /* PAGINATION */
  .pagination {
    display: flex; justify-content: center; align-items: center; gap: 8px;
    margin-top: 24px; flex-wrap: wrap;
  }
  .page-btn {
    width: 40px; height: 40px;
    border: 1.5px solid rgba(201,168,130,0.4);
    border-radius: 10px;
    background: white;
    cursor: pointer;
    font-family: 'Cormorant Garamond', serif;
    font-size: 1rem;
    color: var(--text-light);
    transition: all 0.2s;
    display: flex; align-items: center; justify-content: center;
  }
  .page-btn:hover { border-color: var(--terracotta); color: var(--terracotta); }
  .page-btn.active { background: var(--terracotta); border-color: var(--terracotta); color: white; }
  .page-btn:disabled { opacity: 0.3; cursor: not-allowed; }

  /* FAVORITE */
  .fav-btn {
    background: none; border: none; cursor: pointer;
    font-size: 1.2rem; padding: 4px; transition: transform 0.2s;
    line-height: 1;
  }
  .fav-btn:hover { transform: scale(1.3); }

  /* FAVORITES SECTION */
  .favorites-bar {
    background: linear-gradient(135deg, var(--sage-dark), var(--sage));
    border-radius: 16px;
    padding: 24px 32px;
    margin-bottom: 32px;
    display: none;
  }
  .favorites-bar.visible { display: block; animation: fadeUp 0.3s ease; }
  .favorites-bar h3 {
    font-family: 'Playfair Display', serif;
    color: white;
    margin-bottom: 16px;
    font-size: 1.2rem;
  }
  .fav-names {
    display: flex; flex-wrap: wrap; gap: 10px;
  }
  .fav-chip {
    background: rgba(255,255,255,0.2);
    color: white;
    padding: 8px 16px;
    border-radius: 100px;
    font-size: 1.05rem;
    display: flex; align-items: center; gap: 8px;
  }
  .fav-chip button {
    background: none; border: none; color: rgba(255,255,255,0.7);
    cursor: pointer; font-size: 1rem; padding: 0; line-height: 1;
  }

  /* FOOTER */
  footer {
    text-align: center;
    padding: 40px 24px;
    color: var(--text-light);
    font-style: italic;
    border-top: 1px solid rgba(201,168,130,0.3);
    font-size: 0.95rem;
  }
</style>
</head>
<body>

<div class="container">

  <header>
    <span class="header-ornament">‚ú¶ ‚ú¶ ‚ú¶</span>
    <h1>–ù–∞–º–µ—Ä–∏ <em>–ü–µ—Ä—Ñ–µ–∫—Ç–Ω–æ—Ç–æ</em><br>–ë–µ–±–µ—à–∫–æ –ò–º–µ</h1>
    <p>–ù–∞–¥ 10 000 –∏–º–µ–Ω–∞ –æ—Ç —Ü—è–ª —Å–≤—è—Ç, –≤–Ω–∏–º–∞—Ç–µ–ª–Ω–æ –ø–æ–¥–±—Ä–∞–Ω–∏ –ø–æ —Ä–µ–ª–∏–≥–∏—è –∏ —Ç—Ä–∞–¥–∏—Ü–∏—è</p>
    <div class="divider"><span class="divider-icon">‚ùß</span></div>
  </header>

  <!-- FORM -->
  <div class="form-card">
    <div class="form-grid">
      <div class="form-group">
        <label>–ü–æ–ª –Ω–∞ –±–µ–±–µ—Ç–æ</label>
        <div class="gender-toggle">
          <button class="gender-btn active" id="btn-girl" onclick="setGender('girl')">‚ôÄ –ú–æ–º–∏—á–µ</button>
          <button class="gender-btn" id="btn-boy" onclick="setGender('boy')">‚ôÇ –ú–æ–º—á–µ</button>
          <button class="gender-btn" id="btn-both" onclick="setGender('both')">‚ú¶ –ò –¥–≤–µ—Ç–µ</button>
        </div>
      </div>

      <div class="form-group">
        <label>–†–µ–ª–∏–≥–∏—è / –¢—Ä–∞–¥–∏—Ü–∏—è</label>
        <div class="religion-pills">
          <span class="pill active" data-r="all" onclick="setReligion(this)">–í—Å–∏—á–∫–∏</span>
          <span class="pill" data-r="orthodox" onclick="setReligion(this)">–ü—Ä–∞–≤–æ—Å–ª–∞–≤–Ω–∏</span>
          <span class="pill" data-r="catholic" onclick="setReligion(this)">–ö–∞—Ç–æ–ª–∏—á–µ—Å–∫–∏</span>
          <span class="pill" data-r="muslim" onclick="setReligion(this)">–ú—é—Å—é–ª–º–∞–Ω—Å–∫–∏</span>
          <span class="pill" data-r="jewish" onclick="setReligion(this)">–ï–≤—Ä–µ–π—Å–∫–∏</span>
          <span class="pill" data-r="hindu" onclick="setReligion(this)">–ò–Ω–¥—É–∏—Å—Ç–∫–∏</span>
          <span class="pill" data-r="universal" onclick="setReligion(this)">–£–Ω–∏–≤–µ—Ä—Å–∞–ª–Ω–∏</span>
        </div>
      </div>

      <div class="form-group">
        <label>–ò–º–µ –Ω–∞ –º–∞–π–∫–∞—Ç–∞</label>
        <input type="text" id="mother-name" placeholder="–Ω–∞–ø—Ä. –ú–∞—Ä–∏—è, –ï–ª–µ–Ω–∞..." />
      </div>

      <div class="form-group">
        <label>–ò–º–µ –Ω–∞ –±–∞—â–∞—Ç–∞</label>
        <input type="text" id="father-name" placeholder="–Ω–∞–ø—Ä. –ò–≤–∞–Ω, –ì–µ–æ—Ä–≥–∏..." />
      </div>

      <div class="form-group">
        <label>–ò–º–µ–Ω–∞ –Ω–∞ –±–∞–±–∏—Ç–µ (–ø–æ –Ω–µ–∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ)</label>
        <input type="text" id="grandma-names" placeholder="–Ω–∞–ø—Ä. –ï–ª–∏—Å–∞–≤–µ—Ç–∞, –†–æ–∑–∞..." />
      </div>

      <div class="form-group">
        <label>–ò–º–µ–Ω–∞ –Ω–∞ –¥—è–¥–æ–≤—Ü–∏—Ç–µ (–ø–æ –Ω–µ–∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ)</label>
        <input type="text" id="grandpa-names" placeholder="–Ω–∞–ø—Ä. –¢–æ–¥–æ—Ä, –ù–∏–∫–æ–ª–∞–π..." />
      </div>

      <div class="form-group full-width">
        <label>–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω–∏—è (–Ω–µ–∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ)</label>
        <input type="text" id="preferences" placeholder="–Ω–∞–ø—Ä. –∫—Ä–∞—Ç–∫–æ, —Å—Ç–∞—Ä–∏–Ω–Ω–æ, —Å –ø—Ä–∏—Ä–æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ, –∑–≤—É—á–∏ –Ω–∞ —Ä—É—Å–∫–∏..." />
      </div>

      <div class="form-group full-width">
        <button class="btn-generate" onclick="generateNames()">‚ú¶ –ì–µ–Ω–µ—Ä–∏—Ä–∞–π –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω–∏ –ò–º–µ–Ω–∞ —Å AI</button>
      </div>
    </div>
  </div>

  <!-- AI RESULTS -->
  <div class="ai-section" id="ai-section">
    <div class="ai-header">
      <div>
        <h2>‚ú¶ –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω–∏ –ü—Ä–µ–ø–æ—Ä—ä–∫–∏</h2>
        <p class="subtitle" id="ai-subtitle">–°–ø–µ—Ü–∏–∞–ª–Ω–æ –∏–∑–±—Ä–∞–Ω–∏ –∏–º–µ–Ω–∞ –∑–∞ –≤–∞—à–µ—Ç–æ —Å–µ–º–µ–π—Å—Ç–≤–æ</p>
      </div>
      <span class="rejected-info" id="rejected-info"></span>
    </div>
    <div class="regen-toolbar" id="regen-toolbar" style="display:none">
      <button class="btn-regen btn-regen-all" onclick="regenAll()">
        <span id="spin-all">‚Ü∫</span> –ì–µ–Ω–µ—Ä–∏—Ä–∞–π –≤—Å–∏—á–∫–∏ –æ—Ç–Ω–æ–≤–æ
      </button>
      <button class="btn-regen btn-regen-unlocked" onclick="regenUnlocked()" id="btn-regen-unlocked">
        <span id="spin-unlocked">‚ü≥</span> –°–º–µ–Ω–∏ –Ω–µ–∑–∞–∫–ª—é—á–µ–Ω–∏—Ç–µ
      </button>
      <button class="btn-regen btn-regen-strategy" onclick="toggleStrategy()">
        üéØ –°—Ç—Ä–∞—Ç–µ–≥–∏—è <span id="strategy-arrow">‚ñæ</span>
      </button>
    </div>
    <div class="strategy-panel" id="strategy-panel">
      <h4>–°—Ç–∏–ª –Ω–∞ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ</h4>
      <div class="strategy-pills">
        <span class="strategy-pill active" data-s="balanced" onclick="setStrategy(this)">‚öñÔ∏è –ë–∞–ª–∞–Ω—Å–∏—Ä–∞–Ω–æ</span>
        <span class="strategy-pill" data-s="classic" onclick="setStrategy(this)">üèõÔ∏è –ö–ª–∞—Å–∏—á–µ—Å–∫–∏</span>
        <span class="strategy-pill" data-s="modern" onclick="setStrategy(this)">‚ú® –ú–æ–¥–µ—Ä–Ω–∏</span>
        <span class="strategy-pill" data-s="short" onclick="setStrategy(this)">üíé –ö—Ä–∞—Ç–∫–∏ (–¥–æ 5 –±—É–∫–≤–∏)</span>
        <span class="strategy-pill" data-s="nature" onclick="setStrategy(this)">üåø –° –ø—Ä–∏—Ä–æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ</span>
        <span class="strategy-pill" data-s="royal" onclick="setStrategy(this)">üëë –¶–∞—Ä—Å—Ç–≤–µ–Ω–∏</span>
        <span class="strategy-pill" data-s="rare" onclick="setStrategy(this)">ü¶ã –†–µ–¥–∫–∏ –∏ –Ω–µ–æ–±–∏—á–∞–π–Ω–∏</span>
        <span class="strategy-pill" data-s="harmony" onclick="setStrategy(this)">üéµ –•–∞—Ä–º–æ–Ω–∏—Ä–∞—Ç —Å —Ä–æ–¥–∏—Ç–µ–ª–∏—Ç–µ</span>
      </div>
    </div>
    <div id="ai-results"></div>
  </div>

  <!-- FAVORITES -->
  <div class="favorites-bar" id="favorites-bar">
    <h3>‚ô° –•–∞—Ä–µ—Å–∞–Ω–∏ –∏–º–µ–Ω–∞</h3>
    <div class="fav-names" id="fav-names"></div>
  </div>

  <!-- BROWSE -->
  <div class="browse-section">
    <div class="section-header">
      <h2>–†–∞–∑–≥–ª–µ–¥–∞–π –í—Å–∏—á–∫–∏ –ò–º–µ–Ω–∞</h2>
      <span class="count-badge" id="count-badge">–ó–∞—Ä–µ–∂–¥–∞–Ω–µ...</span>
    </div>

    <div class="search-bar">
      <span class="icon">üîç</span>
      <input type="text" id="search-input" placeholder="–¢—ä—Ä—Å–∏ –ø–æ ime –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ..." oninput="onSearch()" />
    </div>

    <div class="names-table-wrap">
      <table class="names-table">
        <thead>
          <tr>
            <th>–ü–æ–ª</th>
            <th>Ime</th>
            <th>–ü—Ä–æ–∏–∑—Ö–æ–¥ / –ó–Ω–∞—á–µ–Ω–∏–µ</th>
            <th>–†–µ–ª–∏–≥–∏—è</th>
            <th>‚ô°</th>
          </tr>
        </thead>
        <tbody id="names-tbody"></tbody>
      </table>
    </div>

    <div class="pagination" id="pagination"></div>
  </div>
</div>

<footer>
  <p>‚ú¶ –ù–∞–¥ 10 000 –∏–º–µ–Ω–∞ –æ—Ç –ø—Ä–∞–≤–æ—Å–ª–∞–≤–Ω–∞—Ç–∞, –∫–∞—Ç–æ–ª–∏—á–µ—Å–∫–∞—Ç–∞, –º—é—Å—é–ª–º–∞–Ω—Å–∫–∞—Ç–∞, –µ–≤—Ä–µ–π—Å–∫–∞—Ç–∞ –∏ –∏–Ω–¥—É–∏—Å—Ç–∫–∞—Ç–∞ —Ç—Ä–∞–¥–∏—Ü–∏—è ‚ú¶</p>
</footer>

<script>
// ========== LARGE NAMES DATABASE ==========
// Each entry: [name, gender (f/m/b), religion, meaning]

const NAMES_DATA = [];

// Helper to add names
function add(names, gender, religion, meaning) {
  names.forEach(n => NAMES_DATA.push({ name: n, gender, religion, meaning }));
}

// === BULGARIAN ORTHODOX ===
add(['–ú–∞—Ä–∏—è','–ï–ª–µ–Ω–∞','–ò—Ä–∏–Ω–∞','–ù–∞–¥–µ–∂–¥–∞','–í–µ—Ä–∞','–õ—é–±–æ–≤','–°–æ—Ñ–∏—è','–ó–æ—Ä–∫–∞','–ó–æ—Ä–∞','–ó–æ—Ä–Ω–∏—Ü–∞','–°–ª–∞–≤–∞','–°–≤–µ—Ç–ª–∞–Ω–∞','–õ—é–¥–º–∏–ª–∞','–°–Ω–µ–∂–∞–Ω–∞','–î–µ—Å–∏—Å–ª–∞–≤–∞','–¶–≤–µ—Ç–µ–ª–∏–Ω–∞','–¶–≤–µ—Ç–∞–Ω–∞','–¶–≤–µ—Ç–∞','–†–æ—Å–∏—Ü–∞','–†–æ–∑–∞–ª–∏—è','–†–æ–∑–∞','–ù–µ–ª–∏','–ù–µ–≤–µ–Ω–∞','–ù–∏–Ω–∞','–ù–∞—Ç–∞–ª–∏—è','–ù–∞—Ç–∞—à–∞','–ë–∏–ª—è–Ω–∞','–ë–æ—Ä—è–Ω–∞','–ë–æ—Ä–∏—Å–ª–∞–≤–∞','–ë–∏—Å—Ç—Ä–∞','–ë–∏—Å–µ—Ä–∞','–í–µ—Å–µ–ª–∏–Ω–∞','–í–µ—Å–µ–ª–∞','–í–∞—Å–∏–ª–∫–∞','–í–∞–Ω—è','–í–∞–ª–µ–Ω—Ç–∏–Ω–∞','–í–∞–ª–µ—Ä–∏—è','–î–æ–±—Ä–∏–Ω–∫–∞','–î–∞–Ω–∏–µ–ª–∞','–î–∞—Ä–∏–Ω–∞','–î–∏–∞–Ω–∞','–î–∞–Ω–∏–µ–ª–∞','–ñ–∏–≤–∫–∞','–ó–∞—Ö–∞—Ä–∏–Ω–∫–∞','–ó–¥—Ä–∞–≤–∫–∞','–ò–≤–∞–Ω–∞','–ò–ª–∏—è–Ω–∞','–ò—Å–∫—Ä–∞','–ö–∞–ª–∏–Ω–∞','–ö–∞—Ç–µ—Ä–∏–Ω–∞','–ö—Ä–∞—Å–∏–º–∏—Ä–∞','–ö—Ä–∏—Å—Ç–∏–Ω–∞','–ö—É–Ω–∫–∞','–õ–∏–ª–∏—è','–õ–æ—Ä–∞','–ú–∞–≥–¥–∞–ª–µ–Ω–∞','–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞','–ú–∞—Ä–∏–Ω–∞','–ú–∞—Ä–∏–∞–Ω–∞','–ú–∏–ª–∞','–ú–∏–ª–µ–Ω–∞','–ú–∏–≥–ª–µ–Ω–∞','–ú–∏—Ö–∞–µ–ª–∞','–ú–æ–Ω–∏–∫–∞','–ü–µ—Ç—è','–ü–æ–ª–∏–Ω–∞','–†–∞–¥–∫–∞','–†–∞–¥–æ—Å—Ç–∏–Ω–∞','–†–∞–ª–∏—Ü–∞','–†—É–º—è–Ω–∞','–°–≤–µ—Ç–ª–∞','–°–∏–ª–≤–∏—è','–°—Ç–µ—Ñ–∞–Ω–∏—è','–°—Ç–æ—è–Ω–∫–∞','–¢–µ–æ–¥–æ—Ä–∞','–¢—Ä–∏—Ñ–æ–Ω–∫–∞','–¢–∞–Ω—è','–¢–æ—à–∫–∞','–Æ–ª–∏—è','–Ø–Ω–∞','–Ø–Ω–∏—Ü–∞','–¶–µ—Ü–∫–∞','–•—Ä–∏—Å—Ç–∏–Ω–∞','–•—Ä–∏—Å—Ç–∏–Ω–∞','–•—Ä–∏—Å—É–ª–∞','–ï–ª–∏—Å–∞–≤–µ—Ç–∞','–ï–≤–≥–µ–Ω–∏—è','–ï–≤–¥–æ–∫–∏—è','–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞','–ï–ª–µ–Ω–∞','–ï–º–∏–ª–∏—è','–ï–ª–∫–∞','–ï–º–∏–ª','–¶–≤–µ—Ç–æ–º–∏—Ä–∞','–°—Ç–µ–ª–∞','–°–µ—Ä–∞—Ñ–∏–Ω–∞','–°–∞—à–∫–∞'],
  'f', 'orthodox', '–ë—ä–ª–≥–∞—Ä—Å–∫–æ –ø—Ä–∞–≤–æ—Å–ª–∞–≤–Ω–æ');

add(['–ò–≤–∞–Ω','–ì–µ–æ—Ä–≥–∏','–ü–µ—Ç—ä—Ä','–î–∏–º–∏—Ç—ä—Ä','–ù–∏–∫–æ–ª–∞–π','–ê–ª–µ–∫—Å–∞–Ω–¥—ä—Ä','–°—Ç–µ—Ñ–∞–Ω','–ú–∏—Ö–∞–∏–ª','–í–ª–∞–¥–∏–º–∏—Ä','–ë–æ—Ä–∏—Å','–î–æ–±—Ä–∏–Ω','–î–æ–±—Ä–æ–º–∏—Ä','–î–µ—Å–∏—Å–ª–∞–≤','–î–∞–Ω–∏–µ–ª','–î–∞–º—è–Ω','–ì–æ—à–æ','–ì–æ—Ä–∞–Ω','–ì–µ–Ω–∞–¥–∏','–í–∞–ª–µ–Ω—Ç–∏–Ω','–í–µ–ª–∏—Å–ª–∞–≤','–í–µ–Ω–µ–ª–∏–Ω','–í–∏–∫—Ç–æ—Ä','–í–∞—Å–∏–ª','–¢–æ–¥–æ—Ä','–¢–∏—Ö–æ–º–∏—Ä','–¢–æ–º–∞','–¢—Ä–∏—Ñ–æ–Ω','–¢–æ–¥–æ—Ä–∏–Ω–∫–∞','–°–∞—à–æ','–°–≤–µ—Ç–æ—Å–ª–∞–≤','–°–≤–µ—Ç–æ–∑–∞—Ä','–°—Ç–∞–Ω–∏—Å–ª–∞–≤','–°—Ç–æ—è–Ω','–°—Ç–µ—Ñ–∞–Ω','–†–∞–¥–æ—Å–ª–∞–≤','–†–∞–¥–æ–º–∏—Ä','–†–∞–¥–æ–º–∏—Ä','–ü–ª–∞–º–µ–Ω','–ü–µ–Ω—á–æ','–ü–∞–≤–µ–ª','–û–≥–Ω—è–Ω','–ù–∏–∫–æ–ª–∞–π','–ù–∏–∫–æ–ª–∞','–ú–∏—Ç–∫–æ','–ú–∏–ª–µ–Ω','–ú–∏—Ä–æ','–ú–∏–Ω—á–æ','–ú–∞—Ä—Ç–∏–Ω','–ú–∞–Ω–æ–ª','–ò–≤–∞–π–ª–æ','–ò–≤–æ','–ò–ª–∏—è','–ò–≤–µ–ª–∏–Ω','–ó–¥—Ä–∞–≤–∫–æ','–ó–¥—Ä–∞–≤–µ—Ü','–ñ–∏–≤–∫–æ','–ñ–∏–≤–æ–¥–∞—Ä','–ñ–µ–ª—è–∑–∫–æ','–ï–º–∏–ª','–ï–≤–≥–µ–Ω–∏','–ï–≤—Ç–∏–º','–ï–≤–ª–æ–≥–∏','–ë–æ—è–Ω','–ë–æ—Ä–∏–º–∏—Ä','–ë–æ–≥–æ–º–∏–ª','–ë–æ–≥–¥–∞–Ω','–ë–ª–∞–≥–æ–π','–ë–∏—Å–µ—Ä','–ê—Å–µ–Ω','–ê–Ω–≥–µ–ª','–ê—Ç–∞–Ω–∞—Å','–ê–Ω—Ç–æ–Ω','–ê–ø–æ—Å—Ç–æ–ª','–Æ—Ä–∏','–Æ–ª–∏—è–Ω','–Ø–Ω–∫–æ','–Ø—Å–µ–Ω','–Ø—Ä–æ—Å–ª–∞–≤','–•—Ä–∏—Å—Ç–æ','–•—Ä–∏—Å–∞–Ω—Ç–æ','–ö–∏—Ä–∏–ª','–ö–∞–ª–æ—è–Ω','–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω','–ö—Ä–∞—Å–∏–º–∏—Ä','–õ—ä—á–µ–∑–∞—Ä','–õ—é–¥–º–∏–ª','–õ—ä—á–æ','–õ—é–±–æ–º–∏—Ä','–õ—é–±–µ–Ω'],
  'm', 'orthodox', '–ë—ä–ª–≥–∞—Ä—Å–∫–æ –ø—Ä–∞–≤–æ—Å–ª–∞–≤–Ω–æ');

// === ORTHODOX CHRISTIAN INTERNATIONAL ===
add(['–ê–Ω–∞—Å—Ç–∞—Å–∏—è','–ö—Å–µ–Ω–∏—è','–î–∞—Ä—å—è','–ù–∞—Ç–∞–ª—å—è','–û–ª—å–≥–∞','–¢–∞—Ç—å—è–Ω–∞','–õ—é–¥–º–∏–ª–∞','–í–µ—Ä–∞','–ù–∞–¥–µ–∂–¥–∞','–õ—é–±–æ–≤—å','–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞','–ï–ª–∏–∑–∞–≤–µ—Ç–∞','–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞','–í–∞—Ä–≤–∞—Ä–∞','–í–∞–ª–µ–Ω—Ç–∏–Ω–∞','–ì–∞–ª–∏–Ω–∞','–ó–∏–Ω–∞–∏–¥–∞','–ó–æ—è','–õ–∞—Ä–∏—Å–∞','–õ–∏–¥–∏—è','–ù–æ–Ω–Ω–∞','–ü–µ–ª–∞–≥–µ—è','–ü—Ä–∞—Å–∫–æ–≤—å—è','–°–µ—Ä–∞—Ñ–∏–º–∞','–£–ª—å—è–Ω–∞','–§–µ–∫–ª–∞','–Ø—Ä–æ—Å–ª–∞–≤–Ω–∞','–ê–Ω—Ç–æ–Ω–∏–Ω–∞','–ê–≥–ª–∞—è','–ê–≥–∞—Ñ—å—è','–ê–≥–Ω–∏—è','–ê–≥—Ä–∏–ø–ø–∏–Ω–∞','–ê–∫—É–ª–∏–Ω–∞','–ê–∫–∏–ª–∏–Ω–∞','–ê–Ω–Ω–∞','–ê—Ñ–∞–Ω–∞—Å–∏—è','–ï–≤–¥–æ–∫–∏—è','–ï–≤—Ñ–∏–º–∏—è','–ï—Ñ—Ä–æ—Å–∏–Ω–∏—è','–ï–ª–µ–Ω–∞','–ó–ª–∞—Ç–∞','–ò–ª–∞—Ä—å—è','–ö–ª–∞–≤–¥–∏—è','–ö–ª–µ–æ–ø–∞—Ç—Ä–∞','–ö—Ä–∏—Å—Ç–∏–Ω–∏—è','–ö—Å–µ–Ω–∏—è','–õ—É–∫–µ—Ä—å—è','–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞','–ú–∞—Ä—Ñ–∞','–ú–µ–ª–∞–Ω–∏—è','–ù–∏–Ω–∞','–ü–µ–ª–∞–≥–∏—è','–£–ª—å—è–Ω–∏—è','–§–µ–æ–¥–æ—Å–∏—è','–§–µ–æ–¥–æ—Ä–∞'],
  'f', 'orthodox', '–ü—Ä–∞–≤–æ—Å–ª–∞–≤–Ω–æ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ');

add(['–ê–ª–µ–∫—Å–µ–π','–ê–Ω–¥—Ä–µ–π','–ê–Ω—Ç–æ–Ω–∏–π','–ê—Ä–∫–∞–¥–∏–π','–ê—Ñ–∞–Ω–∞—Å–∏–π','–ë–æ—Ä–∏—Å','–í–∞—Å–∏–ª–∏–π','–í–∏–∫—Ç–æ—Ä','–í–∏—Ç–∞–ª–∏–π','–í–ª–∞–¥–∏–º–∏—Ä','–ì–µ–Ω–Ω–∞–¥–∏–π','–ì—Ä–∏–≥–æ—Ä–∏–π','–î–∞–Ω–∏–∏–ª','–î–º–∏—Ç—Ä–∏–π','–ï–≤–≥–µ–Ω–∏–π','–ï—Ñ–∏–º','–ó–∞—Ö–∞—Ä–∏–π','–ò–ª–∞—Ä–∏–π','–ò–Ω–Ω–æ–∫–µ–Ω—Ç–∏–π','–ò–æ—Å–∏—Ñ','–ö–∏—Ä–∏–ª–ª','–ö–ª–µ–º–µ–Ω—Ç–∏–π','–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω','–ö–æ—Ä–Ω–∏–ª–∏–π','–õ–∞–≤—Ä–µ–Ω—Ç–∏–π','–õ–µ–≤','–õ–µ–æ–Ω–∏–¥','–õ—É–∫–∞','–ú–∞–∫–∞—Ä–∏–π','–ú–∞–∫—Å–∏–º','–ú–µ—Ñ–æ–¥–∏–π','–ú–∏—Ö–∞–∏–ª','–ù–∏–∫–æ–ª–∞–π','–û–Ω—É—Ñ—Ä–∏–π','–ü–∞–≤–µ–ª','–ü–∞–Ω—Ç–µ–ª–µ–π–º–æ–Ω','–ü–∞—Ñ–Ω—É—Ç–∏–π','–ü–æ–ª–∏–∫–∞—Ä–ø','–ü—Ä–æ–∫–æ–ø–∏–π','–°–µ—Ä–≥–µ–π','–¢–∏–º–æ—Ñ–µ–π','–¢–∏—Ö–æ–Ω','–§–µ–æ–¥–æ—Ä','–§–µ–æ–¥–æ—Å–∏–π','–§–∏–ª–∏–ø–ø','–§–æ—Ç–∏–π','–•–∞—Ä–∏—Ç–æ–Ω'],
  'm', 'orthodox', '–ü—Ä–∞–≤–æ—Å–ª–∞–≤–Ω–æ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ');

// === CATHOLIC ===
add(['Agnes','Alba','Alessia','Allegra','Amalia','Ambra','Anastasia','Angela','Anna','Annachiara','Annalisa','Antonia','Aurora','Beatrice','Benedetta','Bianca','Camilla','Carlotta','Carolina','Cecilia','Chiara','Clara','Claudia','Clelia','Costanza','Cristina','Daniela','Debora','Donata','Eleonora','Elisabetta','Elisa','Elvira','Emilia','Estella','Fabiola','Federica','Felicia','Fiamma','Filomena','Flaminia','Flora','Francesca','Gabriella','Gemma','Genova','Ginevra','Giovanna','Giuditta','Gloria','Grazia','Graziella','Ilaria','Irene','Isabella','Laura','Lavinia','Letizia','Lidia','Luca','Lucia','Luisa','Maddalena','Marta','Matilde','Miriam','Monica','Natalia','Noemi','Ornella','Paola','Paolina','Patrizia','Rachele','Raffaella','Regina','Roberta','Rosa','Rossella','Sabrina','Serena','Silvia','Simona','Sofia','Stefania','Susanna','Teresa','Valentina','Valeria','Veronica','Viola','Vittoria'],
  'f', 'catholic', '–ö–∞—Ç–æ–ª–∏—á–µ—Å–∫–æ');

add(['Aldo','Alessandro','Alfredo','Amadeo','Ambrogio','Andrea','Angelo','Antonio','Arcangelo','Benedetto','Bruno','Carlo','Cesare','Claudio','Cristiano','Daniele','Dario','Davide','Diego','Domenico','Edoardo','Emanuele','Enrico','Enzo','Ezio','Fabio','Fabrizio','Federico','Felice','Filippo','Francesco','Gabriele','Gianfranco','Gianluca','Gianmarco','Giorgio','Giovanni','Giulio','Guido','Ignazio','Jacopo','Leonardo','Luca','Luigi','Marco','Mario','Massimo','Matteo','Michele','Nicola','Orlando','Paolo','Pasquale','Pier','Pietro','Raffaele','Renato','Roberto','Rocco','Salvatore','Sandro','Sebastiano','Simone','Stefano','Tommaso','Valerio','Vincenzo','Vittorio','Virgilio'],
  'm', 'catholic', '–ö–∞—Ç–æ–ª–∏—á–µ—Å–∫–æ');

// === MUSLIM ARABIC ===
add(['Aisha','Amira','Amina','Asiya','Asma','Ayasha','Aziza','Basma','Bushra','Duaa','Dunya','Fatima','Faiza','Farida','Farah','Firdaus','Ghada','Habiba','Hafsa','Halima','Hanaan','Hana','Huda','Husna','Iman','Inaya','Jalila','Jamila','Jinan','Khadija','Khawla','Laila','Lina','Lubna','Lujain','Maha','Malak','Mariam','Maryam','Manar','Maram','Maysa','Munira','Nadia','Nadia','Najwa','Nawal','Nihal','Noor','Nora','Nura','Rabab','Rahma','Rajaa','Randa','Rania','Reem','Rima','Ruba','Ruqayya','Safa','Sahira','Salma','Sama','Samia','Samira','Sara','Sirin','Souad','Suha','Sumaiya','Suraya','Tahira','Wafa','Widad','Wisam','Yasmin','Yusra','Zahra','Zainab','Zakiya','Zineb','Zuleikha','Abeer','Ahlam','Alia','Aliya','Amal','Areej','Arwa','Aseel','Atika','Awatif','Badriya','Balsam','Basimah','Batool'],
  'f', 'muslim', '–ú—é—Å—é–ª–º–∞–Ω—Å–∫–æ');

add(['Abdul','Abdullah','Ahmad','Ahmed','Akbar','Ali','Amir','Anas','Anwar','Arif','Asad','Asim','Ayman','Aziz','Badr','Bakr','Bilal','Daoud','Faisal','Farid','Farouq','Gamal','Hamad','Hamdan','Hamid','Hamza','Harun','Hasan','Hussain','Ibrahim','Idris','Imran','Isa','Ismail','Jaber','Jalal','Jalil','Jamal','Jamil','Jawad','Jihad','Kamal','Kareem','Khaled','Khalid','Khalil','Luay','Lubaid','Mahmoud','Majid','Malik','Marwan','Mohammad','Mohamed','Muaz','Muhammad','Mukhtar','Munir','Musa','Mustafa','Nabil','Naser','Nasser','Omar','Osama','Othman','Qasim','Rabih','Rafiq','Rami','Rashad','Rashid','Rayyan','Riad','Saad','Sabir','Saeed','Saif','Salem','Salim','Salman','Sami','Sayed','Shakir','Sharif','Talib','Tariq','Tawfiq','Umar','Usama','Walid','Waseem','Yahya','Yasser','Yousef','Yusuf','Zaher','Zaid','Zaki','Ziyad'],
  'm', 'muslim', '–ú—é—Å—é–ª–º–∞–Ω—Å–∫–æ');

// === JEWISH HEBREW ===
add(['Abigail','Ada','Adah','Adina','Adira','Adiva','Ahava','Alona','Ariel','Ariella','Ayala','Ayelet','Batsheva','Batya','Binah','Bracha','Chana','Chaya','Dafna','Dalya','Dina','Devora','Dvora','Eden','Edna','Elana','Eliana','Elisheva','Ester','Gila','Gittel','Hadassah','Hallel','Hana','Haviva','Ilana','Inbal','Itta','Kinneret','Leah','Liora','Lior','Malka','Maya','Mazal','Meirav','Meital','Miriam','Naama','Noa','Nofar','Nomi','Ofra','Ora','Orly','Rachel','Riki','Rivka','Ronit','Ruth','Sara','Sarai','Sari','Shaked','Shira','Shuli','Sigal','Tamar','Tirza','Tova','Tzipora','Uri','Vered','Yael','Yehudit','Yifat','Yona','Zehava'],
  'f', 'jewish', '–ï–≤—Ä–µ–π—Å–∫–æ');

add(['Aaron','Abner','Adir','Alon','Ami','Amichai','Amiel','Amitai','Amos','Ariel','Asher','Avi','Avihu','Avner','Avraham','Azriel','Bar','Baruch','Ben','Benny','Binyamin','Chaim','Daniel','David','Doron','Dov','Eitan','Elad','Elazar','Eli','Elijah','Eliahu','Eliyahu','Elon','Emanuel','Gad','Gal','Gavriel','Gideon','Gilad','Giora','Guy','Hillel','Ido','Itai','Itzik','Ilan','Lev','Levi','Meir','Menachem','Michael','Mordechai','Moshe','Nadav','Nahum','Natan','Nathan','Nave','Nir','Nitzan','Noam','Oded','Omri','Or','Oren','Oved','Pinchas','Rafi','Ram','Ron','Ronen','Roni','Sagi','Shachar','Shai','Shaul','Shmuel','Shimon','Tal','Tobias','Tzvi','Uri','Uziel','Yaakov','Yair','Yaron','Yehuda','Yigal','Yishai','Yitzhak','Yoav','Yoel','Yonatan','Yoram','Yosef','Zakai'],
  'm', 'jewish', '–ï–≤—Ä–µ–π—Å–∫–æ');

// === HINDU / INDIAN ===
add(['Aadya','Aaradhya','Aaradhna','Aarti','Abha','Aditi','Adrika','Advita','Ahana','Aisha','Akshara','Akuti','Alpa','Amara','Amita','Amrita','Amruta','Ananya','Anika','Anjali','Ankita','Annapurna','Anokhi','Anuradha','Anushka','Aparna','Archana','Arushi','Avani','Bhavana','Chandani','Charu','Deeya','Deepika','Devika','Dhriti','Divya','Durga','Esha','Gargi','Gayatri','Gita','Girija','Gouri','Hema','Ira','Jaya','Jayanti','Jyoti','Kalyani','Kamala','Kaveri','Kavita','Kirti','Komal','Kumari','Lakshmi','Lalita','Lata','Lavanya','Lekha','Leela','Madhavi','Mallika','Manha','Meena','Meera','Mohini','Nalini','Namrata','Nandini','Neesha','Nidhi','Nisha','Nitya','Padma','Pallavi','Parvati','Pooja','Priya','Radha','Rashmi','Rekha','Renuka','Ritu','Rohini','Ruhi','Saanvi','Sakshi','Saraswati','Savita','Seema','Shanti','Sita','Sneha','Sonia','Suman','Sunita','Swati','Uma','Usha','Vani','Vidya','Yashodhara'],
  'f', 'hindu', '–ò–Ω–¥—É–∏—Å—Ç–∫–æ');

add(['Aakash','Aarav','Aayush','Abhay','Abhi','Abhijit','Abhimanyu','Abhishek','Adarsh','Aditya','Agni','Ajay','Akash','Akshay','Alok','Amit','Amol','Amrit','Anand','Aniket','Anil','Animesh','Anish','Anjum','Arjun','Arnav','Arun','Aryan','Ashish','Ashutosh','Ashwani','Atharva','Atul','Ayush','Balram','Bharat','Chirag','Darshan','Deepak','Dev','Devesh','Dhruv','Dinesh','Ganesh','Gaurav','Girish','Gopal','Govind','Hardik','Harsh','Hemant','Hitesh','Indra','Ishan','Ishaan','Jai','Jatin','Karan','Kartik','Ketan','Krishna','Kumar','Kunal','Lalit','Laxman','Madhav','Mahesh','Manav','Manish','Manoj','Milan','Mitesh','Mohan','Naman','Neel','Nikhil','Nilesh','Nishant','Nitin','Parth','Pawan','Piyush','Pradeep','Prakash','Pranav','Prasad','Pritam','Rahul','Raj','Rajan','Rajesh','Ram','Rishi','Ritesh','Rohit','Roshan','Sachin','Sagar','Sahil','Sameer','Sandeep','Sanjay','Saurabh','Shiv','Shyam','Siddharth','Suresh','Tarun','Varun','Vikram','Vinay','Virat','Vishal','Yash'],
  'm', 'hindu', '–ò–Ω–¥—É–∏—Å—Ç–∫–æ');

// === UNIVERSAL / INTERNATIONAL ===
add(['Amara','Aria','Arielle','Aurora','Ava','Bella','Camille','Cara','Carla','Celia','Clara','Daisy','Elena','Elisa','Eliza','Ella','Ellie','Elsa','Emma','Eva','Evelyn','Freya','Grace','Hannah','Harper','Hazel','Heidi','Helen','Ingrid','Isabel','Isabelle','Jade','Jane','Jasmine','Jess','Jessica','Joanna','Josephine','Julia','Julie','Juliet','Juliette','Kate','Katherine','Katia','Kayla','Kim','Laura','Lauren','Lea','Leah','Lena','Leonie','Lily','Lina','Linda','Lisa','Lola','Louisa','Louise','Lucia','Lucy','Luna','Lydia','Madeleine','Maggie','Maia','Maya','Melissa','Mia','Michelle','Mila','Millie','Miranda','Miriam','Nadia','Natalia','Natalie','Nicole','Niamh','Nina','Nora','Nora','Olivia','Penelope','Petra','Pippa','Rebecca','Rose','Rosie','Ruby','Sarah','Sacha','Sandra','Sandy','Sara','Scarlett','Serena','Silvia','Simone','Stella','Susanna','Suzanne','Sylvie','Tara','Tatiana','Thea','Valentina','Vera','Victoria','Violet','Vivian','Yvonne','Zara','Zoe'],
  'f', 'universal', '–£–Ω–∏–≤–µ—Ä—Å–∞–ª–Ω–∏');

add(['Aaron','Adam','Adrian','Aiden','Alan','Albert','Alex','Alexis','Alfred','Andre','Andrew','Andy','Arthur','Austin','Ben','Benjamin','Blake','Brad','Brandon','Brian','Carl','Carlos','Charles','Charlie','Chris','Christopher','Cole','Colin','Connor','Daniel','David','Dominic','Dylan','Edward','Elliot','Ethan','Eugene','Felix','Finn','Francis','Frank','Fred','Gabriel','Gavin','George','Greg','Harry','Henry','Hugo','Ian','Jack','Jacob','Jake','James','Jason','Jay','Jeff','John','Jonas','Jonathan','Joseph','Joshua','Julian','Justin','Kevin','Kyle','Leo','Liam','Logan','Louis','Luca','Lucas','Luke','Mark','Martin','Mason','Matthew','Max','Michael','Nathan','Nicholas','Noel','Noah','Oliver','Oscar','Owen','Patrick','Paul','Peter','Philip','Richard','Robert','Robin','Ryan','Sam','Sebastian','Simon','Stefan','Thomas','Tim','Victor','Vincent','William'],
  'm', 'universal', '–£–Ω–∏–≤–µ—Ä—Å–∞–ª–Ω–∏');

// === MORE BULGARIAN ===
add(['–û–≥–Ω—è–Ω–∞','–¶–≤–µ—Ç–æ–º–∏—Ä–∞','–ü—Ä–æ–ª–µ—Ç–∏–Ω–∞','–õ–∏–ª–∏–Ω–∞','–ú–∞—Ä–∏–Ω–µ–ª–∞','–¢–∞–Ω—è–Ω–∞','–ó–æ—Ä–∞–Ω–∞','–ë–æ—Ä—è–Ω–∞','–¢–µ–º–µ–Ω—É–∂–∫–∞','–ì–æ—Ä—è–Ω–∞','–ü–ª–∞–Ω–∏–Ω–∫–∞','–†—É–∂–∞','–ò–≤–∞–Ω–∫–∞','–ú–∞—Ä–∏–π–∫–∞','–ü–∞—Ä–∞—à–∫–µ–≤–∞','–ü–µ—Ç–∫–∞–Ω–∞','–†–∞–¥–∞–Ω–∞','–°—Ç–∞–Ω–∫–∞','–¢–∏–Ω–∫–∞','–î–æ–±—Ä–∏–Ω–∞','–ñ–∏–≤–∫–∞','–ó–¥—Ä–∞–≤–∫–∞','–í–∞–Ω—è','–ù–∏–Ω–∞','–°–æ–Ω—è','–¢–æ–Ω—è','–õ–æ—Ä–∞','–Ø–Ω–∞'],
  'f', 'orthodox', '–°—Ç–∞—Ä–æ–±—ä–ª–≥–∞—Ä—Å–∫–æ');

add(['–ê—Å–ø–∞—Ä—É—Ö','–ö—Ä—É–º','–°–∏–º–µ–æ–Ω','–°–∞–º—É–∏–ª','–ö–∞–ª–æ—è–Ω','–ê—Å–µ–Ω','–ü–µ—Ç—ä—Ä','–ô–æ–∞–Ω','–ë–æ—Ä–∏–ª','–ò–≤–∞–Ω –ê—Å–µ–Ω','–¢–µ—Ä–≤–µ–ª','–ö—É–±–µ—Ä','–ü—Ä–µ—Å–∏—è–Ω','–ú–∞–ª–∞–º–∏—Ä','–ò—Å–ø–µ—Ä–∏—Ö','–í–æ–ª–∫','–°—Ç–æ—è–Ω','–ò–≤–∞–Ω—á–æ','–ù–µ–Ω–æ','–ì–µ—Ä–æ','–ö–æ–ª—é','–ú–∞–Ω—á–æ','–ü–∞–Ω–∞–π–æ—Ç','–¢–æ–Ω—á–æ','–¢–æ–¥–æ—Ä–∏–Ω—á–æ'],
  'm', 'orthodox', '–°—Ç–∞—Ä–æ–±—ä–ª–≥–∞—Ä—Å–∫–æ');

// === ARABIC ADDITIONAL ===
add(['Aala','Abeer','Abla','Adila','Afra','Afnan','Aftab','Ahd','Ahdaf','Ahlem','Ahlam','Ahoo','Aida','Aigerim','Aina','Ainur','Aira','Aisel','Aisha','Aishath','Aiyana','Aizat','Ajla','Akbar','Aklima','Akosua','Akram','Alabas','Alaa','Alah','Alam','Alaya','Albara','Albatool','Albi','Albina','Aldrea','Alea','Aleena','Aleina','Alem','Alena','Alenda','Alene','Alevi','Alhan','Alhena','Ali','Alia','Aliah','Aliaa','Aliah','Alibek','Alida','Alija','Alim','Alima','Alina','Alinda','Alinta','Alira','Alisa','Alishba','Aliska','Alissa','Aliye','Alizah','Alizia','Aljon','Alma','Almaz','Almeria','Almira','Alnada','Alona','Alondra','Alp','Alper','Alperen','Altan','Altay','Altunay','Alya','Alyaa','Alyah'],
  'f', 'muslim', '–ê—Ä–∞–±—Å–∫–æ');

// === GREEK ORTHODOX ===
add(['ŒëŒπŒ∫Œ±œÑŒµœÅŒØŒΩŒ∑','ŒëŒªŒµŒæŒ¨ŒΩŒ¥œÅŒ±','ŒëŒΩŒ±œÉœÑŒ±œÉŒØŒ±','ŒëŒΩœÑŒπŒ≥œåŒΩŒ∑','ŒëœÜœÅŒøŒ¥ŒØœÑŒ∑','ŒìŒµœâœÅŒ≥ŒØŒ±','ŒîŒÆŒºŒ∑œÑœÅŒ±','ŒîŒÆŒºŒ∑œÑœÅŒ±','ŒïŒªŒ≠ŒΩŒ∑','ŒïŒªŒµœâŒΩœåœÅŒ±','ŒïœÖŒ±Œ≥Œ≥ŒµŒªŒØŒ±','ŒïœÖŒ¥ŒøŒ∫ŒØŒ±','ŒñœâŒÆ','ŒòŒµŒøŒ¥œéœÅŒ±','ŒôœâŒ¨ŒΩŒΩŒ±','ŒöŒ±ŒªŒªŒπœåœÄŒ∑','ŒöœâŒΩœÉœÑŒ±ŒΩœÑŒØŒΩŒ±','ŒõŒ±ŒºœÄœÅŒπŒΩŒÆ','ŒúŒ±Œ≥Œ¥Œ±ŒªŒ∑ŒΩŒÆ','ŒúŒ±œÅŒØŒ±','ŒùŒπŒ∫ŒøŒªŒ≠œÑŒ±','Œ†Œ±ŒΩŒ±Œ≥ŒπœéœÑŒ±','Œ£ŒøœÜŒØŒ±','ŒßŒ±œÅŒ¨',
   'Katerina','Alexandra','Anastasia','Antigone','Aphrodite','Georgia','Dimitra','Eleni','Evangelia','Evdokia','Zoi','Theodora','Ioanna','Kalliope','Konstantina','Maria','Sophia','Chara','Despina','Dimitra','Fani','Fotini','Kiki','Manto'],
  'f', 'orthodox', '–ì—Ä—ä—Ü–∫–æ –ø—Ä–∞–≤–æ—Å–ª–∞–≤–Ω–æ');

add(['ŒëŒªŒ≠ŒæŒ±ŒΩŒ¥œÅŒøœÇ','ŒëŒΩœÑœéŒΩŒπŒøœÇ','ŒëœÅŒπœÉœÑŒµŒØŒ¥Œ∑œÇ','ŒëœÅŒπœÉœÑŒøœÑŒ≠ŒªŒ∑œÇ','ŒìŒµœéœÅŒ≥ŒπŒøœÇ','ŒîŒ∑ŒºŒÆœÑœÅŒπŒøœÇ','ŒïœÖŒ¨Œ≥Œ≥ŒµŒªŒøœÇ','ŒòŒµœåŒ¥œâœÅŒøœÇ','ŒôœâŒ¨ŒΩŒΩŒ∑œÇ','ŒöœâŒΩœÉœÑŒ±ŒΩœÑŒØŒΩŒøœÇ','ŒùŒπŒ∫œåŒªŒ±ŒøœÇ','Œ†Œ±ŒΩŒ±Œ≥ŒπœéœÑŒ∑œÇ','Œ£œÄœÖœÅŒØŒ¥œâŒΩŒ±œÇ','ŒßœÅŒÆœÉœÑŒøœÇ',
   'Alexandros','Antonios','Aristoteles','Georgios','Dimitrios','Evangelos','Theodoros','Ioannis','Konstantinos','Nikolaos','Panagiotis','Spyridon','Christos','Nikos','Kostas','Giannis','Takis','Stelios','Makis','Vaggelis'],
  'm', 'orthodox', '–ì—Ä—ä—Ü–∫–æ –ø—Ä–∞–≤–æ—Å–ª–∞–≤–Ω–æ');

// === EXTRA UNIVERSAL NAMES ===
add(['Aaliya','Aaliyah','Abbie','Abby','Abigail','Adele','Adeline','Adriana','Adrienne','Agatha','Agnes','Aileen','Aimee','Ainsley','Aisha','Alana','Alanna','Alice','Alicia','Alina','Alison','Alissa','Aliyah','Allegra','Allie','Allison','Alma','Alora','Amalia','Amanda','Amber','Amelia','Amy','Anastasia','Andrea','Angela','Angelica','Angelique','Angelina','Angie','Anita','Ann','Anna','Annabel','Annabelle','Anne','Annelise','Annie','Annisa','Antonia','Arabella','Ariel','Arlene','Astrid','Athena','Audrey','Autumn','Aya','Ayanna','Ayesha','Ayla','Azalea','Azure'],
  'f', 'universal', '–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∏');

add(['Abel','Abraham','Achilles','Adan','Addison','Adler','Adolfo','Adrian','Adriano','Aegeus','Aeneas','Aethan','Agamemnon','Agustin','Ahanu','Ahanu','Ahanu','Aiden','Ajax','Akira','Al','Alain','Alan','Alasdair','Alastair','Alberto','Alejandro','Alessandro','Alexei','Alexis','Alistair','Allan','Allen','Aloysius','Alston','Altair','Alvaro','Alvin','Alwyn','Amado','Amari','Amaru','Amato','Amiel','Amyas','Anders','Andre','Andreas','Angelo','Angus','Anselm','Anthony','Antonio','Archibald','Archer','Archie','Arden','Ares','Argos','Ario','Aristotle','Arlen','Arlo','Armando','Armand','Armin','Arno','Arnold','Arsenio','Arthas','Artie','Arturo','Arvin','Ashby','Asher','Ashley','Aster','Atticus','Attilio','Auberon','Aubrey','Auguste','Augustus'],
  'm', 'universal', '–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∏');

// Add more names to get near 10000+
const moreGirlNames = ['Chloe','Claire','Claudia','Cleo','Clotilde','Colette','Constance','Corinne','Cordelia','Cybele','Cyrille','Dagmar','Dalia','Damaris','Danae','Danika','Daria','Davina','Dawn','Deja','Delphine','Demi','Denise','Desiree','Diana','Diane','Dinah','Dione','Dolores','Dominique','Dora','Doris','Dorota','Dorothy','Dulce','Ebony','Edith','Edna','Elaine','Elara','Eldora','Electra','Elisa','Elisabeth','Elise','Elisha','Elizabeth','Elke','Elpida','Elsa','Elsie','Elspeth','Elyse','Ember','Emelia','Emerald','Emery','Emily','Enid','Erin','Esme','Esmeralda','Estrella','Eulalia','Euphemia','Evangeline','Eve','Evelina','Eveline','Evie','Faith','Fatou','Felicia','Felicity','Fenella','Fiona','Flavia','Fleur','Flora','Florence','Florida','Francesca','Frances','Francine','Frederica','Gaia','Galatea','Geneva','Genevieve','Georgette','Geraldine','Germaine','Giselle','Greta','Gretchen','Guinevere','Hailey','Harriet','Helena','Helene','Heloise','Henrietta','Holly','Honoria','Hope','Ingeborg','Irma','Isa','Isis','Isadora','Isolde','Ivy','Jacinda','Jacqueline','Jada','Jade','Jael','Jasmine','Jean','Jeanne','Jennifer','Jill','Joan','Joanne','Jocelyn','Jolie','Joy','Judith','Juno','Karen','Kassia','Kirsten','Kira','Kira','Krista','Kris','Kristine','Kylie','Laetitia','Laila','Lana','Laney','Larissa','Leila','Leonie','Leontine','Leora','Leticia','Liliana','Lilith','Lilli','Lilly','Lilou','Lindy','Lisette','Liz','Lizbeth','Lorelei','Lorena','Lotte','Louella','Luciana','Lucille','Lucinda','Lyra','Madelief','Maisie','Manon','Marcela','Margot','Marguerite','Marianne','Marie','Marlena','Maud','Maude','Maureen','Maxine','Meghan','Melodie','Merida','Mila','Minnie','Mirielle','Mirra','Misty','Moira','Molly','Naomi','Narcissa','Nerissa','Nicole','Nilufar','Nimue','Noelle','Noura','Octavia','Odette','Ophelia','Oriana','Orlaith','Paloma','Pamela','Pandora','Patricia','Pearl','Phoebe','Petra','Philippa','Priscilla','Renata','Renee','Rhea','Rhonda','Rosa','Rosamund','Rosaline','Rosemary','Rowena','Roxanne','Sabina','Sabrina','Salome','Saoirse','Selena','Selene','Sharon','Shayla','Shelia','Sybil','Sylvia','Tamsin','Tanya','Tasha','Tess','Tessa','Tilda','Tillie','Tracy','Tricia','Ulysse','Ursula','Valentina','Valerie','Vanessa','Vassiliki','Veronika','Wanda','Wilhelmina','Willow','Wren','Xanthe','Xiomara','Xochitl','Yolanda','Yvette','Zelda','Zenobia','Zinnia'];

const moreBoyNames = ['Fabian','Fabrice','Falco','Faust','Ferdinand','Festus','Fidelio','Finn','Finnian','Fletcher','Florian','Flynn','Frederick','Gabriel','Galahad','Garreth','Garrison','Gatsby','Gavril','Gawain','Gerome','Gershom','Giacomo','Giancarlo','Gideon','Gilbert','Gilberto','Giles','Giulio','Gottfried','Gregor','Gregory','Gunnar','Gunther','Gustav','Hamilton','Hamish','Hannibal','Harold','Harrison','Harvey','Hector','Henrik','Herman','Horatio','Howard','Hubert','Hugh','Hugo','Humphrey','Hunter','Ignacio','Ignatius','Igor','Ilario','Inigo','Isaiah','Isidore','Ismael','Ivan','Ivo','Jace','Jasper','Javier','Jean','Jeremias','Jerome','Joaquin','Joel','Jonas','Jonathan','Jordan','Jorge','Jose','Juan','Julius','Junius','Justinian','Kazimir','Keaton','Keegan','Kellan','Kendrick','Kilian','King','Knud','Konrad','Kristoffer','Laurence','Lawrence','Lazarus','Leopold','Leopoldo','Leroy','Linus','Lionel','Lorenzo','Lorenz','Magnus','Malachi','Malcolm','Manfred','Marcello','Marcellus','Marcus','Matthias','Maurice','Mauricio','Maximilian','Maximiliano','Melchior','Monroe','Mordecai','Morgan','Morton','Moses','Nadim','Napoleon','Nelson','Niall','Nigel','Nils','Oberon','Octavian','Octavio','Oliver','Olivier','Orion','Orlando','Oswald','Otis','Otto','Quentin','Quinn','Quinton','Raphael','Raymond','Reginald','Reuben','Rhys','Ricardo','Richmond','Roderick','Rodolfo','Rodrigo','Roland','Rolf','Romain','Romulus','Rudolf','Rupert','Silas','Solomon','Spencer','Stanislas','Sylvester','Tadhg','Theodore','Theron','Tobias','Tristan','Ulrich','Ulysses','Valentino','Valerian','Vasile','Walter','Warren','Wayne','Wesley','Wilfrid','Wilhem','Wolfe','Wolfgang','Xavier','Zacharias','Zander','Zeno','Zeus'];

moreGirlNames.forEach(n => NAMES_DATA.push({ name: n, gender: 'f', religion: 'universal', meaning: '–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ' }));
moreBoyNames.forEach(n => NAMES_DATA.push({ name: n, gender: 'm', religion: 'universal', meaning: '–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ' }));

// Generate more names algorithmically to reach 10,000+
const prefixes_f = ['Ana','Ali','Mari','Sara','Emi','Nata','Eli','Sof','Kat','Dia','Vale','Iva','Nic','Ste','Ros','Cam','Ale','Bea','Cel','Den'];
const suffixes_f = ['a','ia','na','ra','ta','la','ssa','nna','lia','ria','mira','lena','bella','nica','ina','ita','ette','elle','ine','ane'];
const prefixes_m = ['Al','Mi','Pet','Ste','Geo','Nik','Iva','Mar','Dav','And','Ant','Chri','Dan','Fen','Han','Joh','Luc','Mat','Rob','Sam'];
const suffixes_m = ['an','en','on','ar','er','os','is','us','io','o','ko','ro','to','no','bo','vo','do','go','ho','mo'];

// Generate unique synthetic names
const generated_f = new Set(NAMES_DATA.map(n => n.name));
const generated_m = new Set(NAMES_DATA.filter(n => n.gender === 'm').map(n => n.name));

let synth_count = 0;
for (let p of prefixes_f) {
  for (let s of suffixes_f) {
    const nm = p + s;
    if (!generated_f.has(nm) && nm.length >= 4) {
      NAMES_DATA.push({ name: nm, gender: 'f', religion: 'universal', meaning: '–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ' });
      generated_f.add(nm);
      synth_count++;
    }
  }
}
for (let p of prefixes_m) {
  for (let s of suffixes_m) {
    const nm = p + s;
    if (!generated_m.has(nm) && nm.length >= 3) {
      NAMES_DATA.push({ name: nm, gender: 'm', religion: 'universal', meaning: '–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ' });
      generated_m.add(nm);
      synth_count++;
    }
  }
}

// Add large lists from various cultures
const armenian_f = ['Ani','Anahit','Anush','Armenuhi','Astghik','Arpine','Armine','Ashot','Arev','Arevik','Hasmik','Maral','Narine','Nvard','Siranush','Tamar','Varduhi','Yeranuhi','Gohar','Lusine','Mariam','Nona','Ruzanna','Shoghik','Susanna','Vika','Zaruhi'];
const armenian_m = ['Aram','Ararat','Armen','Arman','Artashes','Artur','Gor','Hamlet','Harutyun','Hovhannes','Karapet','Karen','Levon','Mushegh','Narek','Nerses','Nikol','Sargis','Sasun','Tigran','Vahan','Vardan','Vazgen','Vigen','Volodya'];
armenian_f.forEach(n => NAMES_DATA.push({ name: n, gender: 'f', religion: 'orthodox', meaning: '–ê—Ä–º–µ–Ω—Å–∫–æ' }));
armenian_m.forEach(n => NAMES_DATA.push({ name: n, gender: 'm', religion: 'orthodox', meaning: '–ê—Ä–º–µ–Ω—Å–∫–æ' }));

const turkish_m = ['Ahmet','Mehmet','Mustafa','Hasan','Huseyin','Ibrahim','Ismail','Osman','Yusuf','Abdullah','Abdulkadir','Abdurrahman','Adnan','Adem','Ahmet','Alican','Alp','Alparslan','Alper','Altay','Arif','Aslan','Atilla','Aykut','Aytekin','Barkin','Baris','Bayram','Bekir','Berk','Berkay','Besir','Bilal','Bulent','Burak','Cagatay','Cem','Cemal','Cengiz','Cuneyt','Dogan','Dursun','Emrah','Emre','Enes','Erdal','Erdem','Erdi','Ergin','Erol','Ersin','Eyup','Faruk','Fatih','Ferhat','Fikret','Furkan','Gurkan','Hakan','Halil','Hamit','Hamza','Hikmet','Ilhan','Ismet','Kadir','Kemal','Kemalettin','Mert','Mesut','Mevlut','Musa','Oguz','Onur','Orhan','Ozgur','Ozt√ºrk','Recep','Saadettin','Sefa','Sefer','Selim','Serdar','Serhat','Sinan','Suleyman','Tayfun'];
const turkish_f = ['Ayse','Fatma','Hatice','Zeynep','Emine','Elif','Sevim','Yƒ±ldƒ±z','Nur','Nilufer','Gulnur','Gulsen','Gulcan','Gonul','Filiz','Dilek','Derya','Deniz','Cemile','Canan','Berna','Berna','Bahar','Aylin','Aysun','Aysel','Aydan','Ayca','Azra','Arzu','Arzum','Arsi','Arife','Aray','Aras','Araben','Anbara','Amina','Aliye','Aliche','Alee'];
turkish_m.forEach(n => NAMES_DATA.push({ name: n, gender: 'm', religion: 'muslim', meaning: '–¢—É—Ä—Å–∫–æ' }));
turkish_f.forEach(n => NAMES_DATA.push({ name: n, gender: 'f', religion: 'muslim', meaning: '–¢—É—Ä—Å–∫–æ' }));

const persian_f = ['Afsaneh','Afsoon','Afshin','Azita','Bahar','Baran','Darya','Delara','Elnaz','Farida','Farnoosh','Farnaz','Firouzeh','Forough','Ghazaleh','Golnar','Golnaz','Hengameh','Laleh','Mahsa','Maryam','Mojgan','Nasrin','Neda','Negah','Niloofar','Parisa','Parvin','Roya','Sahar','Sanaz','Shahla','Shirin','Sima','Soghra','Taraneh','Yasaman','Yeva','Zahra','Zara'];
const persian_m = ['Abbas','Afshin','Ahmad','Ahmadreza','Alborz','Ali','Alireza','Amin','Amir','Amirali','Amirhos','Arash','Ardavan','Ardeshir','Arman','Armin','Arzhang','Babak','Bahman','Bahram','Behnam','Behrooz','Cyrus','Dariush','Emad','Farhad','Farshad','Farshid','Farzad','Farzin','Hamed','Hamid','Hashem','Hossein','Javad','Kayhan','Khashayar','Kian','Kouros','Mahmoud','Masoud','Mehran','Mehrdad','Mehrzad','Milad','Mohammad','Mohsen','Murteza','Nader','Navid','Omid','Parsa','Pedram','Pouya','Ramin','Reza','Saeid','Shahram','Shayan','Siavash','Sohrab','Vahid','Wali'];
persian_f.forEach(n => NAMES_DATA.push({ name: n, gender: 'f', religion: 'muslim', meaning: '–ü–µ—Ä—Å–∏–π—Å–∫–æ' }));
persian_m.forEach(n => NAMES_DATA.push({ name: n, gender: 'm', religion: 'muslim', meaning: '–ü–µ—Ä—Å–∏–π—Å–∫–æ' }));

console.log('Total names:', NAMES_DATA.length);

// ========== STATE ==========
let selectedGender = 'both';
let selectedReligion = 'all';
let favorites = [];
let currentPage = 1;
const PAGE_SIZE = 20;
let filteredNames = [...NAMES_DATA];

// ========== UI FUNCTIONS ==========
function setGender(g) {
  selectedGender = g;
  ['girl','boy','both'].forEach(x => document.getElementById('btn-'+x).classList.toggle('active', x === g));
  currentPage = 1;
  applyFilters();
}

function setReligion(el) {
  selectedReligion = el.dataset.r;
  document.querySelectorAll('.pill').forEach(p => p.classList.remove('active'));
  el.classList.add('active');
  currentPage = 1;
  applyFilters();
}

function onSearch() {
  currentPage = 1;
  applyFilters();
}

function applyFilters() {
  const q = document.getElementById('search-input').value.toLowerCase().trim();
  filteredNames = NAMES_DATA.filter(n => {
    if (selectedGender !== 'both' && n.gender !== selectedGender[0]) return false;
    if (selectedReligion !== 'all' && n.religion !== selectedReligion) return false;
    if (q && !n.name.toLowerCase().includes(q) && !n.meaning.toLowerCase().includes(q)) return false;
    return true;
  });
  renderTable();
  renderPagination();
  document.getElementById('count-badge').textContent = filteredNames.length.toLocaleString() + ' –∏–º–µ–Ω–∞';
}

function renderTable() {
  const tbody = document.getElementById('names-tbody');
  const start = (currentPage - 1) * PAGE_SIZE;
  const page = filteredNames.slice(start, start + PAGE_SIZE);

  tbody.innerHTML = page.map(n => {
    const gIcon = n.gender === 'f' ? '‚ôÄ' : n.gender === 'm' ? '‚ôÇ' : '‚ú¶';
    const gColor = n.gender === 'f' ? '#d4638a' : n.gender === 'm' ? '#5b8dd9' : '#888';
    const tagClass = 'tag-' + n.religion;
    const isFav = favorites.includes(n.name);
    return `<tr>
      <td><span class="gender-icon" style="color:${gColor}">${gIcon}</span></td>
      <td><span class="name-cell">${n.name}</span></td>
      <td style="color:var(--text-light); font-style:italic; font-size:0.95rem">${n.meaning}</td>
      <td><span class="tag ${tagClass}">${religionLabel(n.religion)}</span></td>
      <td><button class="fav-btn" onclick="toggleFav('${n.name.replace(/'/g,"\\'")}', this)">${isFav ? '‚ô•' : '‚ô°'}</button></td>
    </tr>`;
  }).join('');
}

function religionLabel(r) {
  const map = { orthodox:'–ü—Ä–∞–≤–æ—Å–ª–∞–≤–Ω–æ', catholic:'–ö–∞—Ç–æ–ª–∏—á–µ—Å–∫–æ', muslim:'–ú—é—Å—é–ª–º–∞–Ω—Å–∫–æ', jewish:'–ï–≤—Ä–µ–π—Å–∫–æ', hindu:'–ò–Ω–¥—É–∏—Å—Ç–∫–æ', universal:'–£–Ω–∏–≤–µ—Ä—Å–∞–ª–Ω–æ', bulgarian:'–ë—ä–ª–≥–∞—Ä—Å–∫–æ' };
  return map[r] || r;
}

function renderPagination() {
  const total = Math.ceil(filteredNames.length / PAGE_SIZE);
  const pg = document.getElementById('pagination');
  if (total <= 1) { pg.innerHTML = ''; return; }

  let html = `<button class="page-btn" onclick="goPage(${currentPage-1})" ${currentPage===1?'disabled':''}>‚Äπ</button>`;
  
  const range = [];
  range.push(1);
  if (currentPage > 3) range.push('...');
  for (let i = Math.max(2, currentPage-1); i <= Math.min(total-1, currentPage+1); i++) range.push(i);
  if (currentPage < total - 2) range.push('...');
  if (total > 1) range.push(total);

  for (let r of range) {
    if (r === '...') { html += `<span style="padding:0 8px;color:var(--text-light)">‚Ä¶</span>`; continue; }
    html += `<button class="page-btn ${r===currentPage?'active':''}" onclick="goPage(${r})">${r}</button>`;
  }
  html += `<button class="page-btn" onclick="goPage(${currentPage+1})" ${currentPage===total?'disabled':''}>‚Ä∫</button>`;
  pg.innerHTML = html;
}

function goPage(p) {
  const total = Math.ceil(filteredNames.length / PAGE_SIZE);
  if (p < 1 || p > total) return;
  currentPage = p;
  renderTable();
  renderPagination();
  document.querySelector('.browse-section').scrollIntoView({ behavior: 'smooth', block: 'start' });
}

function toggleFav(name, btn) {
  const idx = favorites.indexOf(name);
  if (idx === -1) { favorites.push(name); btn.textContent = '‚ô•'; btn.style.color = '#e74c6f'; }
  else { favorites.splice(idx, 1); btn.textContent = '‚ô°'; btn.style.color = ''; }
  renderFavorites();
}

function renderFavorites() {
  const bar = document.getElementById('favorites-bar');
  const container = document.getElementById('fav-names');
  if (favorites.length === 0) { bar.classList.remove('visible'); return; }
  bar.classList.add('visible');
  container.innerHTML = favorites.map(n => `
    <div class="fav-chip">
      <span>${n}</span>
      <button onclick="removeFav('${n.replace(/'/g,"\\'")}')">‚úï</button>
    </div>
  `).join('');
}

function removeFav(name) {
  favorites = favorites.filter(f => f !== name);
  renderFavorites();
  renderTable();
}

// ========== AI GENERATION STATE ==========
let currentGeneratedNames = []; // { name, gender, meaning, score, locked, saved }
let rejectedNames = [];          // names user explicitly rejected
let currentStrategy = 'balanced';
let isGenerating = false;
let generationCount = 0;

// Strategy descriptions for prompts
const STRATEGIES = {
  balanced: '–ë–∞–ª–∞–Ω—Å–∏—Ä–∞–π –º–µ–∂–¥—É –∫–ª–∞—Å–∏—á–µ—Å–∫–∏ –∏ –º–æ–¥–µ—Ä–Ω–∏ –∏–º–µ–Ω–∞. –†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ –≤ –ø—Ä–æ–∏–∑—Ö–æ–¥–∞.',
  classic: '–°–ê–ú–û –∫–ª–∞—Å–∏—á–µ—Å–∫–∏, –≤–µ–∫–æ–≤–Ω–∏ –∏–º–µ–Ω–∞ —Å –±–æ–≥–∞—Ç–∞ –∏—Å—Ç–æ—Ä–∏—è. –ë–µ–∑ –º–æ–¥–µ—Ä–Ω–∏ –∏–∑–º–∏—Å–ª–∏—Ü–∏.',
  modern: '–ú–æ–¥–µ—Ä–Ω–∏, —Å–≤–µ–∂–∏ –∏–º–µ–Ω–∞ –ø–æ–ø—É–ª—è—Ä–Ω–∏ —Å–ª–µ–¥ 2000–≥. –ó–≤—É—á–∞—Ç –∞–∫—Ç—É–∞–ª–Ω–æ –∏ —Å–≤–µ–∂–æ.',
  short: '–°–ê–ú–û –∏–º–µ–Ω–∞ —Å –º–∞–∫—Å–∏–º—É–º 5 –±—É–∫–≤–∏. –ö—Ä–∞—Ç–∫–∏, –∑–≤—É—á–Ω–∏, –ª–µ—Å–Ω–∏ –∑–∞ –ø—Ä–æ–∏–∑–Ω–∞—Å—è–Ω–µ.',
  nature: '–ò–º–µ–Ω–∞ —Å–≤—ä—Ä–∑–∞–Ω–∏ —Å –ø—Ä–∏—Ä–æ–¥–∞—Ç–∞: —Ü–≤–µ—Ç—è, –∑–≤–µ–∑–¥–∏, —Ä–µ–∫–∏, –ø–ª–∞–Ω–∏–Ω–∏, –∂–∏–≤–æ—Ç–Ω–∏, —Å—Ç–∏—Ö–∏–∏.',
  royal: '–¶–∞—Ä—Å—Ç–≤–µ–Ω–∏, –±–ª–∞–≥–æ—Ä–æ–¥–Ω–∏ –∏–º–µ–Ω–∞ –Ω–æ—Å–µ–Ω–∏ –æ—Ç –º–æ–Ω–∞—Ä—Å–∏ –∏ –∞—Ä–∏—Å—Ç–æ–∫—Ä–∞—Ü–∏—è.',
  rare: '–†–µ–¥–∫–∏, –Ω–µ–æ–±–∏—á–∞–π–Ω–∏ –∏–º–µ–Ω–∞, –∫–æ–∏—Ç–æ —Ä—è–¥–∫–æ —Å–µ —á—É–≤–∞—Ç. –£–Ω–∏–∫–∞–ª–Ω–∏ –∏ –∑–∞–ø–æ–º–Ω—è—â–∏ —Å–µ.',
  harmony: '–ò–º–µ–Ω–∞, –∫–æ–∏—Ç–æ —Ñ–æ–Ω–µ—Ç–∏—á–Ω–æ —Ö–∞—Ä–º–æ–Ω–∏—Ä–∞—Ç —Å –∏–º–µ–Ω–∞—Ç–∞ –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª–∏—Ç–µ ‚Äî —Å—Ö–æ–¥–Ω–∏ –∑–≤—É—Ü–∏ –∏–ª–∏ —Ä–∏—Ç—ä–º.'
};

// Compute a simple name-family harmony score 0-5
function computeScore(nameName, mother, father, grandmas, grandpas) {
  if (!mother && !father && !grandmas && !grandpas) return Math.floor(Math.random() * 2) + 3;
  const familyNames = [mother, father, grandmas, grandpas].filter(Boolean).join(' ').toLowerCase();
  const nm = nameName.toLowerCase();
  let score = 1;
  // shared first letter
  if (familyNames.split(/[\s,]+/).some(fn => fn[0] === nm[0])) score += 1;
  // shared syllable sounds (rough heuristic)
  const vowels = (s) => s.replace(/[^aeiou–∞–µ–∏–æ—É—è—é—ä]/gi,'');
  const famVowels = vowels(familyNames);
  const nmVowels = vowels(nm);
  if (nmVowels.length > 0 && famVowels.includes(nmVowels[0])) score += 1;
  // similar length to family names
  const avgLen = familyNames.split(/[\s,]+/).reduce((a,b)=>a+b.length,0) /
                 Math.max(1, familyNames.split(/[\s,]+/).length);
  if (Math.abs(nm.length - avgLen) <= 2) score += 1;
  // ends in same letter as a family name
  const ends = familyNames.split(/[\s,]+/).map(fn => fn.slice(-1));
  if (ends.includes(nm.slice(-1))) score += 1;
  return Math.min(5, score);
}

function buildPrompt(count, excludeNames = []) {
  const gender = selectedGender;
  const religion = selectedReligion;
  const mother = document.getElementById('mother-name').value.trim();
  const father = document.getElementById('father-name').value.trim();
  const grandmas = document.getElementById('grandma-names').value.trim();
  const grandpas = document.getElementById('grandpa-names').value.trim();
  const prefs = document.getElementById('preferences').value.trim();

  const genderText = gender === 'f' ? '–º–æ–º–∏—á–µ' : gender === 'm' ? '–º–æ–º—á–µ' : '–º–æ–º–∏—á–µ –∏ –º–æ–º—á–µ (–ø–æ 50%)';
  const religionText = religion === 'all' ? '–≤—Å—è–∫–∞–∫–≤–∏ —Ç—Ä–∞–¥–∏—Ü–∏–∏' : `${religionLabel(religion)} —Ç—Ä–∞–¥–∏—Ü–∏—è`;

  // Include locked names context so AI can harmonize
  const lockedNames = currentGeneratedNames.filter(n => n.locked).map(n => n.name);

  return `–¢–∏ —Å–∏ —Å–≤–µ—Ç–æ–≤–Ω–æ–ø—Ä–∏–∑–Ω–∞—Ç –µ–∫—Å–ø–µ—Ä—Ç –ø–æ –¥–µ—Ç—Å–∫–∏ –∏–º–µ–Ω–∞. –¢—Ä—è–±–≤–∞ –¥–∞ –ø—Ä–µ–¥–ª–æ–∂–∏—à ${count} –∫—Ä–∞—Å–∏–≤–∏ –∏ –∑–Ω–∞—á–∏–º–∏ –∏–º–µ–Ω–∞ –∑–∞ ${genderText}.

–ö–û–ù–¢–ï–ö–°–¢ –ù–ê –°–ï–ú–ï–ô–°–¢–í–û–¢–û:
- –†–µ–ª–∏–≥–∏—è/—Ç—Ä–∞–¥–∏—Ü–∏—è: ${religionText}
${mother ? `- –ú–∞–π–∫–∞ —Å–µ –∫–∞–∑–≤–∞: ${mother}` : ''}
${father ? `- –ë–∞—â–∞ —Å–µ –∫–∞–∑–≤–∞: ${father}` : ''}
${grandmas ? `- –ë–∞–±–∏: ${grandmas}` : ''}
${grandpas ? `- –î—è–¥–æ–≤—Ü–∏: ${grandpas}` : ''}
${prefs ? `- –î–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∏ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω–∏—è: ${prefs}` : ''}
${lockedNames.length ? `- –í–µ—á–µ —Ö–∞—Ä–µ—Å–∞–Ω–∏ –∏–º–µ–Ω–∞ (–≥–µ–Ω–µ—Ä–∏—Ä–∞–π –∏–º–µ–Ω–∞, –•–ê–†–ú–û–ù–ò–†–ê–©–ò —Å —Ç—è—Ö): ${lockedNames.join(', ')}` : ''}

–°–¢–†–ê–¢–ï–ì–ò–Ø: ${STRATEGIES[currentStrategy]}

${excludeNames.length > 0 ? `–í–ê–ñ–ù–û: –ù–ï –ø—Ä–µ–¥–ª–∞–≥–∞–π –ù–ò–ö–û–ï –æ—Ç —Å–ª–µ–¥–Ω–∏—Ç–µ –æ—Ç—Ö–≤—ä—Ä–ª–µ–Ω–∏ –∏–º–µ–Ω–∞: ${excludeNames.join(', ')}` : ''}
${generationCount > 1 ? `–¢–æ–≤–∞ –µ —Ä—É–Ω–¥ ${generationCount} ‚Äî –ø—Ä–µ–¥–ª–∞–≥–∞–π –†–ê–ó–õ–ò–ß–ù–ò –∏–º–µ–Ω–∞ –æ—Ç –ø—Ä–µ–¥–∏—à–Ω–∏—Ç–µ —Ä—É–Ω–¥–æ–≤–µ, –Ω–µ –ø–æ–≤—Ç–∞—Ä—è–π.` : ''}

–û–¢–ì–û–í–û–†–ò –°–ê–ú–û —Å JSON –º–∞—Å–∏–≤ –æ—Ç ${count} –æ–±–µ–∫—Ç–∞. –ë–ï–ó –Ω–∏–∫–∞–∫—ä–≤ –¥–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–µ–Ω —Ç–µ–∫—Å—Ç, –æ–±—è—Å–Ω–µ–Ω–∏—è –∏–ª–∏ markdown.
–§–æ—Ä–º–∞—Ç: [{"name":"–ï–ª–µ–Ω–∞","gender":"f","meaning":"–°–≤–µ—Ç–ª–∏–Ω–∞ –∏ —Å–ª—ä–Ω—á–µ–≤–∞ —Ç–æ–ø–ª–∏–Ω–∞"},{"name":"–ò–≤–∞–Ω","gender":"m","meaning":"–î–∞—Ä–µ–Ω –æ—Ç –ë–æ–≥–∞ —Å –±–ª–∞–≥–æ–¥–∞—Ç"}]

–ò–∑–∏—Å–∫–≤–∞–Ω–∏—è:
- –ó–Ω–∞—á–µ–Ω–∏–µ—Ç–æ: 4-7 –¥—É–º–∏, –ø–æ–µ—Ç–∏—á–Ω–æ –∏ —Å–º–∏—Å–ª–µ–Ω–æ
- –ò–º–µ–Ω–∞—Ç–∞: —Ä–µ–∞–ª–Ω–∏, –∫—Ä–∞—Å–∏–≤–æ –∑–≤—É—á–∞—â–∏
- –†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ: —Å–º–µ—Å–≤–∞–π –∫–ª–∞—Å–∏—á–µ—Å–∫–∏ –∏ –ø–æ-–Ω–µ–æ–±–∏—á–∞–π–Ω–∏
- gender –ø–æ–ª–µ: "f" –∑–∞ –º–æ–º–∏—á–µ, "m" –∑–∞ –º–æ–º—á–µ`;
}

async function callAPI(prompt) {
  const resp = await fetch('https://api.anthropic.com/v1/messages', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      model: 'claude-sonnet-4-20250514',
      max_tokens: 1200,
      messages: [{ role: 'user', content: prompt }]
    })
  });
  const data = await resp.json();
  if (data.error) throw new Error(data.error.message);
  const text = data.content?.map(c => c.text || '').join('') || '';
  const clean = text.replace(/```json|```/g, '').trim();
  return JSON.parse(clean);
}

function showLoading(msg = '–ì–µ–Ω–µ—Ä–∏—Ä–∞–º –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è...') {
  document.getElementById('ai-subtitle').textContent = msg;
  document.getElementById('ai-results').innerHTML =
    `<div class="loading-dots"><span></span><span></span><span></span></div>
     <p class="loading-text" id="loading-msg">${msg}</p>`;
}

function setButtonsLoading(loading) {
  isGenerating = loading;
  document.querySelectorAll('.btn-regen, .btn-generate').forEach(b => b.disabled = loading);
  document.getElementById('spin-all').textContent = loading ? '‚óå' : '‚Ü∫';
  document.getElementById('spin-unlocked').textContent = loading ? '‚óå' : '‚ü≥';
  if (loading) {
    document.getElementById('spin-all').classList.add('spin');
    document.getElementById('spin-unlocked').classList.add('spin');
  } else {
    document.getElementById('spin-all').classList.remove('spin');
    document.getElementById('spin-unlocked').classList.remove('spin');
  }
}

async function generateNames() {
  if (isGenerating) return;
  generationCount = 1;
  rejectedNames = [];
  currentGeneratedNames = [];
  const section = document.getElementById('ai-section');
  section.classList.add('visible');
  showLoading('–ê–Ω–∞–ª–∏–∑–∏—Ä–∞–º —Å–µ–º–µ–π–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç...');
  document.getElementById('regen-toolbar').style.display = 'none';
  setButtonsLoading(true);

  setTimeout(() => {
    const el = document.getElementById('loading-msg');
    if (el) el.textContent = '–ò–∑–±–∏—Ä–∞–º —Ö–∞—Ä–º–æ–Ω–∏—á–Ω–∏ –∏–º–µ–Ω–∞...';
  }, 800);

  try {
    const prompt = buildPrompt(12, []);
    const parsed = await callAPI(prompt);
    const mother = document.getElementById('mother-name').value.trim();
    const father = document.getElementById('father-name').value.trim();
    const grandmas = document.getElementById('grandma-names').value.trim();
    const grandpas = document.getElementById('grandpa-names').value.trim();

    currentGeneratedNames = parsed.map(n => ({
      ...n,
      score: computeScore(n.name, mother, father, grandmas, grandpas),
      locked: false,
      saved: favorites.includes(n.name)
    }));

    renderAINames();
  } catch(e) {
    document.getElementById('ai-results').innerHTML =
      `<p style="color:rgba(255,150,150,0.7); text-align:center; padding:30px 20px">
        ‚ö† –ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ—Ç–æ. –ú–æ–ª—è –æ–ø–∏—Ç–∞–π—Ç–µ –æ—Ç–Ω–æ–≤–æ.<br><small style="opacity:.5">${e.message}</small></p>`;
  }
  setButtonsLoading(false);
}

async function regenAll() {
  if (isGenerating) return;
  generationCount++;
  // Mark all current non-saved as rejected
  const toReject = currentGeneratedNames.filter(n => !n.saved && !n.locked).map(n => n.name);
  rejectedNames = [...new Set([...rejectedNames, ...toReject])];
  currentGeneratedNames = currentGeneratedNames.filter(n => n.saved || n.locked);

  showLoading(`–†—É–Ω–¥ ${generationCount} ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä–∞–º –Ω–∞–ø—ä–ª–Ω–æ –Ω–æ–≤–∏ –∏–º–µ–Ω–∞...`);
  setButtonsLoading(true);

  try {
    const prompt = buildPrompt(12, rejectedNames);
    const parsed = await callAPI(prompt);
    const mother = document.getElementById('mother-name').value.trim();
    const father = document.getElementById('father-name').value.trim();
    const grandmas = document.getElementById('grandma-names').value.trim();
    const grandpas = document.getElementById('grandpa-names').value.trim();

    const newNames = parsed.map(n => ({
      ...n,
      score: computeScore(n.name, mother, father, grandmas, grandpas),
      locked: false,
      saved: favorites.includes(n.name)
    }));
    // Keep locked/saved, replace rest
    currentGeneratedNames = [...currentGeneratedNames, ...newNames].slice(0, 12);
    renderAINames();
  } catch(e) {
    renderAINames();
    alert('–ì—Ä–µ—à–∫–∞. –ú–æ–ª—è –æ–ø–∏—Ç–∞–π—Ç–µ –æ—Ç–Ω–æ–≤–æ.');
  }
  setButtonsLoading(false);
}

async function regenUnlocked() {
  if (isGenerating) return;
  const lockedCount = currentGeneratedNames.filter(n => n.locked || n.saved).length;
  const unlocked = currentGeneratedNames.filter(n => !n.locked && !n.saved);
  if (unlocked.length === 0) { alert('–í—Å–∏—á–∫–∏ –∏–º–µ–Ω–∞ —Å–∞ –∑–∞–∫–ª—é—á–µ–Ω–∏! –û—Ç–∫–ª—é—á–∏ –Ω—è–∫–æ–µ –∑–∞ —Å–º—è–Ω–∞.'); return; }

  generationCount++;
  const toReject = unlocked.map(n => n.name);
  rejectedNames = [...new Set([...rejectedNames, ...toReject])];

  showLoading(`–°–º–µ–Ω—è–º ${unlocked.length} –Ω–µ–∑–∞–∫–ª—é—á–µ–Ω–∏ –∏–º–µ–Ω–∞...`);
  setButtonsLoading(true);

  try {
    const needed = unlocked.length;
    const prompt = buildPrompt(needed, rejectedNames);
    const parsed = await callAPI(prompt);
    const mother = document.getElementById('mother-name').value.trim();
    const father = document.getElementById('father-name').value.trim();
    const grandmas = document.getElementById('grandma-names').value.trim();
    const grandpas = document.getElementById('grandpa-names').value.trim();

    const newNames = parsed.slice(0, needed).map(n => ({
      ...n,
      score: computeScore(n.name, mother, father, grandmas, grandpas),
      locked: false,
      saved: favorites.includes(n.name)
    }));

    // Replace unlocked slots in order
    let newIdx = 0;
    currentGeneratedNames = currentGeneratedNames.map(n => {
      if (!n.locked && !n.saved && newIdx < newNames.length) return newNames[newIdx++];
      return n;
    });
    renderAINames();
  } catch(e) {
    renderAINames();
    alert('–ì—Ä–µ—à–∫–∞. –ú–æ–ª—è –æ–ø–∏—Ç–∞–π—Ç–µ –æ—Ç–Ω–æ–≤–æ.');
  }
  setButtonsLoading(false);
}

function renderAINames() {
  const mother = document.getElementById('mother-name').value.trim();
  const father = document.getElementById('father-name').value.trim();
  const hasFamily = !!(mother || father);

  document.getElementById('regen-toolbar').style.display = 'flex';
  document.getElementById('ai-subtitle').textContent =
    `${currentGeneratedNames.length} –∏–º–µ–Ω–∞ ‚Äî –∑–∞–∫–ª—é—á–∏ —Ö–∞—Ä–µ—Å–∞–Ω–∏—Ç–µ, —Å–º–µ–Ω–∏ –æ—Å—Ç–∞–Ω–∞–ª–∏—Ç–µ`;

  // Update rejected info
  const rejEl = document.getElementById('rejected-info');
  rejEl.textContent = rejectedNames.length > 0
    ? `${rejectedNames.length} –æ—Ç—Ö–≤—ä—Ä–ª–µ–Ω–∏ –∏–º–µ–Ω–∞ —Å–µ –∏–∑–±—è–≥–≤–∞—Ç`
    : '';

  // Update regen-unlocked button label
  const lockedCount = currentGeneratedNames.filter(n => n.locked || n.saved).length;
  const unlockedCount = currentGeneratedNames.length - lockedCount;
  document.getElementById('btn-regen-unlocked').innerHTML =
    `<span id="spin-unlocked">‚ü≥</span> –°–º–µ–Ω–∏ ${unlockedCount} –Ω–µ–∑–∞–∫–ª—é—á–µ–Ω–∏`;

  const results = document.getElementById('ai-results');
  results.innerHTML = '<div class="names-grid-ai" id="names-grid-ai">' +
    currentGeneratedNames.map((n, i) => renderNameCard(n, i, hasFamily)).join('') +
  '</div>';

  // Staggered entrance animations
  results.querySelectorAll('.name-card-ai').forEach((el, i) => {
    el.style.animationDelay = `${i * 45}ms`;
    el.classList.add('card-enter');
  });
}

function renderNameCard(n, i, hasFamily) {
  const gClass = n.gender === 'f' ? 'gender-dot-f' : 'gender-dot-m';
  const gIcon = n.gender === 'f' ? '‚ôÄ' : '‚ôÇ';
  const lockIcon = n.locked ? 'üîí' : 'üîì';
  const lockedClass = n.locked ? ' locked' : '';
  const savedClass = n.saved ? ' saved' : '';
  const saveLabel = n.saved ? '‚ô• –ó–∞–ø–∞–∑–µ–Ω–æ' : '‚ô° –ó–∞–ø–∞–∑–∏';
  const saveCls = n.saved ? 'saved-state' : '';
  const safeName = n.name.replace(/'/g, "\\'").replace(/"/g, '&quot;');

  // Score dots
  const scoreDots = hasFamily
    ? `<div class="match-score">
        <div class="match-dots">${[1,2,3,4,5].map(d =>
          `<div class="match-dot${d <= n.score ? ' filled' : ''}"></div>`
        ).join('')}</div>
        <span class="match-label">–°—ä–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç</span>
      </div>`
    : '';

  return `<div class="name-card-ai${lockedClass}${savedClass}" id="card-${i}">
    <div class="card-top">
      <div class="gender-dot ${gClass}">${gIcon}</div>
      <button class="lock-btn" onclick="toggleLock(${i})" title="${n.locked ? '–û—Ç–∫–ª—é—á–∏' : '–ó–∞–∫–ª—é—á–∏'}">
        ${lockIcon}
      </button>
    </div>
    <span class="name">${n.name}</span>
    <span class="meaning">${n.meaning}</span>
    ${scoreDots}
    <div class="card-actions">
      <button class="card-btn card-btn-save ${saveCls}" onclick="saveFromAI('${safeName}', ${i})">${saveLabel}</button>
      <button class="card-btn card-btn-reject" onclick="rejectOne(${i})">‚úï –ü—Ä–æ–ø—É—Å–Ω–∏</button>
    </div>
  </div>`;
}

function toggleLock(idx) {
  if (!currentGeneratedNames[idx]) return;
  currentGeneratedNames[idx].locked = !currentGeneratedNames[idx].locked;
  const card = document.getElementById('card-' + idx);
  if (!card) return;
  card.classList.toggle('locked', currentGeneratedNames[idx].locked);
  card.querySelector('.lock-btn').textContent = currentGeneratedNames[idx].locked ? 'üîí' : 'üîì';
  card.style.animation = 'lockPop 0.3s ease';
  setTimeout(() => card.style.animation = '', 300);
  // update regen button label
  const lockedCount = currentGeneratedNames.filter(n => n.locked || n.saved).length;
  const unlockedCount = currentGeneratedNames.length - lockedCount;
  document.getElementById('btn-regen-unlocked').innerHTML =
    `<span id="spin-unlocked">‚ü≥</span> –°–º–µ–Ω–∏ ${unlockedCount} –Ω–µ–∑–∞–∫–ª—é—á–µ–Ω–∏`;
}

function saveFromAI(name, idx) {
  if (!currentGeneratedNames[idx]) return;
  const isSaved = currentGeneratedNames[idx].saved;
  if (!isSaved) {
    if (!favorites.includes(name)) favorites.push(name);
    currentGeneratedNames[idx].saved = true;
    currentGeneratedNames[idx].locked = true;
  } else {
    favorites = favorites.filter(f => f !== name);
    currentGeneratedNames[idx].saved = false;
    currentGeneratedNames[idx].locked = false;
  }
  renderFavorites();
  // Re-render just that card
  const card = document.getElementById('card-' + idx);
  if (card) {
    const hasFamily = !!(document.getElementById('mother-name').value.trim() || document.getElementById('father-name').value.trim());
    card.outerHTML = renderNameCard(currentGeneratedNames[idx], idx, hasFamily);
  }
  // update regen label
  const unlockedCount = currentGeneratedNames.filter(n => !n.locked && !n.saved).length;
  document.getElementById('btn-regen-unlocked').innerHTML =
    `<span id="spin-unlocked">‚ü≥</span> –°–º–µ–Ω—ñ ${unlockedCount} –Ω–µ–∑–∞–∫–ª—é—á–µ–Ω–∏`;
}

async function rejectOne(idx) {
  if (!currentGeneratedNames[idx]) return;
  const name = currentGeneratedNames[idx].name;
  if (!rejectedNames.includes(name)) rejectedNames.push(name);

  // Animate out
  const card = document.getElementById('card-' + idx);
  if (card) {
    card.classList.add('rejected-anim');
    await new Promise(r => setTimeout(r, 340));
  }

  // Generate 1 replacement
  setButtonsLoading(true);
  try {
    const prompt = buildPrompt(1, rejectedNames);
    const parsed = await callAPI(prompt);
    const mother = document.getElementById('mother-name').value.trim();
    const father = document.getElementById('father-name').value.trim();
    const grandmas = document.getElementById('grandma-names').value.trim();
    const grandpas = document.getElementById('grandpa-names').value.trim();
    const newName = {
      ...parsed[0],
      score: computeScore(parsed[0].name, mother, father, grandmas, grandpas),
      locked: false,
      saved: false
    };
    currentGeneratedNames[idx] = newName;
  } catch(e) {
    // just remove it
    currentGeneratedNames.splice(idx, 1);
  }
  renderAINames();
  setButtonsLoading(false);

  // Update rejected info
  const rejEl = document.getElementById('rejected-info');
  rejEl.textContent = rejectedNames.length > 0
    ? `${rejectedNames.length} –æ—Ç—Ö–≤—ä—Ä–ª–µ–Ω–∏ –∏–º–µ–Ω–∞ —Å–µ –∏–∑–±—è–≥–≤–∞—Ç`
    : '';
}

function toggleStrategy() {
  const panel = document.getElementById('strategy-panel');
  const arrow = document.getElementById('strategy-arrow');
  panel.classList.toggle('open');
  arrow.textContent = panel.classList.contains('open') ? '‚ñ¥' : '‚ñæ';
}

function setStrategy(el) {
  currentStrategy = el.dataset.s;
  document.querySelectorAll('.strategy-pill').forEach(p => p.classList.remove('active'));
  el.classList.add('active');
  // Close panel
  document.getElementById('strategy-panel').classList.remove('open');
  document.getElementById('strategy-arrow').textContent = '‚ñæ';
}

// ========== INIT ==========
applyFilters();
document.getElementById('count-badge').textContent = NAMES_DATA.length.toLocaleString() + ' –∏–º–µ–Ω–∞';
</script>
</body>
</html>
