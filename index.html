<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nomeno Terra - Global Name Engine</title>
    
    <!-- Scripts -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@0.469.0/dist/umd/lucide.min.js"></script>
    
    <!-- Fonts -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Lora:ital,wght@0,500;0,600;0,700;1,500&display=swap');

        :root {
            --primary: #2d5a4b;     /* Rich Forest Green */
            --primary-light: #4a8b75;
            --accent: #d4a373;      /* Warm Gold */
            --bg-soft: #f0f4f2;     /* Mist White */
            --surface: #ffffff;
            --text-main: #1a201d;
            --text-sub: #5c6661;
        }

        body {
            font-family: 'DM Sans', sans-serif;
            background-color: var(--bg-soft);
            color: var(--text-main);
            overflow-x: hidden;
            background-image: 
                radial-gradient(at 0% 0%, rgba(59, 117, 95, 0.05) 0px, transparent 50%),
                radial-gradient(at 100% 100%, rgba(212, 163, 115, 0.1) 0px, transparent 50%);
            background-attachment: fixed;
        }

        .serif { font-family: 'Lora', serif; }

        /* --- UI COMPONENTS --- */
        .card {
            background: var(--surface);
            border-radius: 24px;
            box-shadow: 
                0 4px 6px -1px rgba(0, 0, 0, 0.02), 
                0 12px 40px -12px rgba(45, 90, 75, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.8);
            transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.3s;
        }

        .input-terra {
            background: #fcfdfc;
            border: 1px solid #e0e5e3;
            color: var(--text-main);
            transition: all 0.2s;
            font-size: 15px;
            font-weight: 500;
        }
        .input-terra:focus {
            background: #fff;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(45, 90, 75, 0.1);
            outline: none;
        }
        .input-terra::placeholder { color: #aeb5b0; font-weight: 400; }

        select.input-terra {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%235c6661' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
            background-position: right 0.75rem center;
            background-repeat: no-repeat;
            background-size: 1.2em;
            padding-right: 2.5rem;
            appearance: none;
        }

        /* --- BUTTONS --- */
        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            box-shadow: 0 10px 25px -5px rgba(45, 90, 75, 0.3);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        .btn-primary::after {
            content: '';
            position: absolute; inset: 0;
            background: linear-gradient(to right, transparent, rgba(255,255,255,0.2), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 30px -5px rgba(45, 90, 75, 0.4);
        }
        .btn-primary:hover::after { transform: translateX(100%); }
        .btn-primary:active { transform: translateY(0); }

        .chip-radio {
            cursor: pointer;
            border: 1px solid #e0e5e3;
            background: white;
            transition: all 0.2s;
            color: var(--text-sub);
        }
        .chip-radio:hover { border-color: #cbd5e1; background: #f8faf9; color: var(--text-main); }
        .chip-radio.active {
            background: #f0f7f4;
            border-color: var(--primary);
            color: var(--primary);
            box-shadow: inset 0 0 0 1px var(--primary);
            font-weight: 600;
        }
        
        /* Ensure SVGs in chips inherit color correctly */
        .chip-radio svg { stroke: currentColor; }

        /* --- RANGE SLIDER --- */
        input[type=range] { -webkit-appearance: none; width: 100%; background: transparent; cursor: pointer; }
        input[type=range]::-webkit-slider-runnable-track {
            background: linear-gradient(90deg, #d4a373, #8cb369, #3b755f);
            height: 6px; border-radius: 99px;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none; height: 22px; width: 22px;
            background: white; border: 3px solid var(--primary); border-radius: 50%;
            margin-top: -8px; box-shadow: 0 2px 6px rgba(0,0,0,0.1);
            transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        input[type=range]::-webkit-slider-thumb:hover { transform: scale(1.2); }

        /* --- ANIMATIONS --- */
        .fade-enter { animation: fadeEnter 0.6s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; opacity: 0; transform: translateY(20px); }
        @keyframes fadeEnter { to { opacity: 1; transform: translateY(0); } }

        #favoritesDrawer {
            transform: translateX(100%); transition: transform 0.5s cubic-bezier(0.16, 1, 0.3, 1);
        }
        #favoritesDrawer.open { transform: translateX(0); }

        /* DNA BARS */
        .bar-bg { background: #e0e5e3; height: 6px; border-radius: 3px; overflow: hidden; }
        .bar-fill { height: 100%; border-radius: 3px; transition: width 1.5s cubic-bezier(0.22, 1, 0.36, 1); }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Header -->
    <header class="w-full bg-white/90 backdrop-blur-md border-b border-gray-200/50 fixed top-0 z-50 transition-all duration-300 shadow-sm">
        <div class="max-w-6xl mx-auto px-6 h-20 flex justify-between items-center">
            <!-- Brand -->
            <div class="flex items-center gap-3 group cursor-default">
                <div class="w-10 h-10 bg-gradient-to-br from-green-800 to-green-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-green-900/10 transition-transform group-hover:scale-105">
                    <!-- Inline SVG for absolute reliability -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"/><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/>
                    </svg>
                </div>
                <div>
                    <h1 class="text-xl font-bold tracking-tight text-gray-900 leading-none font-serif">NOMENO</h1>
                    <span class="text-[10px] uppercase font-bold text-green-700 tracking-[0.2em]">Terra Global</span>
                </div>
            </div>
            
            <!-- Actions -->
            <div class="flex gap-3">
                <button onclick="toggleFavorites()" class="flex items-center gap-2 px-3 py-1.5 rounded-full bg-gray-50 border border-gray-200 hover:bg-white transition text-xs font-bold text-gray-600">
                    <!-- Inline Heart Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3.5 h-3.5"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
                    <span class="hidden sm:inline">–ó–∞–ø–∞–∑–µ–Ω–∏</span>
                    <span id="favCount" class="bg-green-600 text-white w-4 h-4 rounded-full flex items-center justify-center text-[9px] hidden">0</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-1 w-full max-w-6xl mx-auto px-4 pt-28 pb-12">
        
        <!-- INPUT VIEW -->
        <div id="view-input" class="fade-enter" style="animation-delay: 100ms;">
            
            <div class="text-center mb-12 max-w-2xl mx-auto space-y-4">
                <h2 class="text-4xl md:text-5xl font-medium text-gray-900 serif">
                    –í—Å—è–∫–æ –∏–º–µ –Ω–æ—Å–∏ <span class="text-transparent bg-clip-text bg-gradient-to-r from-green-700 to-green-500 italic">—Å—ä–¥–±–∞</span>
                </h2>
                <p class="text-gray-500 text-sm leading-relaxed max-w-lg mx-auto">
                    –ì–ª–æ–±–∞–ª–Ω–∏—è—Ç –∞–ª–≥–æ—Ä–∏—Ç—ä–º –Ω–∞ Nomeno –∞–Ω–∞–ª–∏–∑–∏—Ä–∞ —Ñ–æ–Ω–µ—Ç–∏–∫–∞, –∫—É–ª—Ç—É—Ä–µ–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ —Ä–æ–¥–æ–≤–∞ –ø–∞–º–µ—Ç, –∑–∞ –¥–∞ –æ—Ç–∫—Ä–∏–µ –ø–µ—Ä—Ñ–µ–∫—Ç–Ω–∏—è —Ä–µ–∑–æ–Ω–∞–Ω—Å.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12">
                
                <!-- Left: Configuration -->
                <div class="lg:col-span-8 space-y-8">
                    
                    <!-- Primary Config Card -->
                    <div class="card p-6 md:p-8 relative overflow-hidden group">
                        <div class="absolute top-0 left-0 w-1.5 h-full bg-green-700 group-hover:w-2 transition-all"></div>
                        
                        <div class="flex items-center gap-2 mb-6">
                            <!-- Inline Sliders Icon -->
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-green-700"><line x1="4" x2="4" y1="21" y2="14"/><line x1="4" x2="4" y1="10" y2="3"/><line x1="12" x2="12" y1="21" y2="12"/><line x1="12" x2="12" y1="8" y2="3"/><line x1="20" x2="20" y1="21" y2="16"/><line x1="20" x2="20" y1="12" y2="3"/><line x1="1" x2="7" y1="14" y2="14"/><line x1="9" x2="15" y1="8" y2="8"/><line x1="17" x2="23" y1="16" y2="16"/></svg>
                            <h3 class="text-xs font-bold text-gray-400 uppercase tracking-widest">–ü–∞—Ä–∞–º–µ—Ç—Ä–∏</h3>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                            <div class="space-y-2">
                                <label class="text-xs font-bold text-gray-700">–§–∞–º–∏–ª–∏—è (–ó–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ)</label>
                                <div class="relative">
                                    <div class="absolute left-3 top-3 w-5 h-5 text-gray-400">
                                        <!-- Fingerprint Icon -->
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 6"/><path d="M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2.5"/><path d="M8.65 22c.21-.66.45-1.32.57-2"/><path d="M9 12.5a3 3 0 0 1 3-3"/><path d="M15 19.5c-.5-1.5-1-4.5-1-7.5a3 3 0 0 0-.34-2.5"/><path d="M11.35 22c-.21-.66-.45-1.32-.57-2"/><path d="M12 12.5a3 3 0 0 0-3-3"/><path d="M18 19.5c-.5-1.5-1-4.5-1-7.5 0-3.5 1-4.5 3-4.5"/></svg>
                                    </div>
                                    <input type="text" id="surname" placeholder="–Ω–∞–ø—Ä. –ì–µ–æ—Ä–≥–∏–µ–≤" class="input-terra w-full pl-10 pr-4 py-3 rounded-xl font-serif text-lg">
                                </div>
                            </div>
                             <div class="space-y-2">
                                <label class="text-xs font-bold text-gray-700">–ò–º–µ –Ω–∞ –ë—Ä–∞—Ç/–°–µ—Å—Ç—Ä–∞</label>
                                <div class="relative">
                                    <div class="absolute left-3 top-3 w-5 h-5 text-gray-400">
                                        <!-- Users Icon -->
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
                                    </div>
                                    <input type="text" id="sibling" placeholder="–ó–∞ —Å–µ–º–∞–Ω—Ç–∏—á–Ω–∞ –≤—Ä—ä–∑–∫–∞..." class="input-terra w-full pl-10 pr-4 py-3 rounded-xl">
                                </div>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div class="space-y-2">
                                <label class="text-xs font-bold text-gray-700">–ü–æ–ª –Ω–∞ –¥–µ—Ç–µ—Ç–æ</label>
                                <div class="flex gap-2">
                                    <button onclick="setGender('boy')" id="btn-boy" class="chip-radio flex-1 py-2.5 rounded-lg flex justify-center items-center" title="–ú–æ–º—á–µ">
                                        <!-- Zap Icon -->
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
                                    </button>
                                    <button onclick="setGender('girl')" id="btn-girl" class="chip-radio flex-1 py-2.5 rounded-lg flex justify-center items-center" title="–ú–æ–º–∏—á–µ">
                                        <!-- Heart Icon -->
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
                                    </button>
                                    <button onclick="setGender('random')" id="btn-random" class="chip-radio active flex-1 py-2.5 rounded-lg flex justify-center items-center" title="–ò–∑–Ω–µ–Ω–∞–¥–∞">
                                        <!-- Shuffle Icon (Standard arrow cross) -->
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4"><rect width="18" height="18" x="3" y="3" rx="2"/><path d="m9 9 6 6"/><path d="m15 9-6 6"/></svg>
                                    </button>
                                </div>
                                <input type="hidden" id="selectedGender" value="random">
                            </div>
                            
                            <div class="space-y-2">
                                <label class="text-xs font-bold text-gray-700">–ü—ä—Ä–≤–∞ –±—É–∫–≤–∞</label>
                                <select id="startLetter" class="input-terra w-full px-3 py-2.5 rounded-xl cursor-pointer font-medium">
                                    <option value="">–í—Å–∏—á–∫–∏ (–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ)</option>
                                    <option value="–ê">–ê</option><option value="–ë">–ë</option><option value="–í">–í</option><option value="–ì">–ì</option>
                                    <option value="–î">–î</option><option value="–ï">–ï</option><option value="–ñ">–ñ</option><option value="–ó">–ó</option>
                                    <option value="–ò">–ò</option><option value="–ô">–ô</option><option value="–ö">–ö</option><option value="–õ">–õ</option>
                                    <option value="–ú">–ú</option><option value="–ù">–ù</option><option value="–û">–û</option><option value="–ü">–ü</option>
                                    <option value="–†">–†</option><option value="–°">–°</option><option value="–¢">–¢</option><option value="–§">–§</option>
                                    <option value="–•">–•</option><option value="–¶">–¶</option><option value="–ß">–ß</option><option value="–Æ">–Æ</option><option value="–Ø">–Ø</option>
                                </select>
                            </div>

                            <div class="space-y-2">
                                <label class="text-xs font-bold text-gray-700">–î—ä–ª–∂–∏–Ω–∞ –Ω–∞ –∏–º–µ—Ç–æ</label>
                                <select id="nameLength" class="input-terra w-full px-3 py-2.5 rounded-xl cursor-pointer font-medium">
                                    <option value="any">–ë–µ–∑ –∑–Ω–∞—á–µ–Ω–∏–µ</option>
                                    <option value="short">–ö—Ä–∞—Ç–∫–æ (–¥–æ 4 –±—É–∫–≤–∏)</option>
                                    <option value="medium">–°—Ä–µ–¥–Ω–æ (5-7 –±—É–∫–≤–∏)</option>
                                    <option value="long">–î—ä–ª–≥–æ (8+ –±—É–∫–≤–∏)</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Vibe & Style -->
                    <div class="card p-6 md:p-8">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div class="space-y-4">
                                <div class="flex justify-between items-center">
                                    <label class="text-xs font-bold text-gray-700">–ï–Ω–µ—Ä–≥–∏–µ–Ω –ø—Ä–æ—Ñ–∏–ª</label>
                                    <span id="vibeLabel" class="text-[10px] font-bold text-green-700 bg-green-50 px-2 py-0.5 rounded border border-green-100">–ë–∞–ª–∞–Ω—Å</span>
                                </div>
                                <input type="range" id="vibeSlider" min="0" max="100" value="50" class="w-full">
                                <div class="flex justify-between text-[9px] text-gray-400 font-bold uppercase tracking-wider">
                                    <span>–ú–µ–∫–æ—Ç–∞ (Soft)</span>
                                    <span>–°–∏–ª–∞ (Hard)</span>
                                </div>
                            </div>
                            
                             <div class="space-y-2">
                                <label class="text-xs font-bold text-gray-700">–†–µ–≥–∏–æ–Ω / –°—Ç–∏–ª</label>
                                <select id="nameRegion" class="input-terra w-full px-4 py-3 rounded-xl cursor-pointer font-bold text-gray-600">
                                    <option value="all">üåç –ì–ª–æ–±–∞–ª–µ–Ω –ú–∏–∫—Å (–í—Å–∏—á–∫–∏)</option>
                                    <option value="slavic">üáßüá¨ –ë—ä–ª–≥–∞—Ä—Å–∫–∏ / –°–ª–∞–≤—è–Ω—Å–∫–∏</option>
                                    <option value="christian">‚õ™ –•—Ä–∏—Å—Ç–∏—è–Ω—Å–∫–∏ / –ë–∏–±–ª–µ–π—Å–∫–∏</option>
                                    <option value="western">üá™üá∫ –ó–∞–ø–∞–¥–Ω–∏ (EN/FR/DE)</option>
                                    <option value="nordic">‚ùÑÔ∏è –°–∫–∞–Ω–¥–∏–Ω–∞–≤—Å–∫–∏</option>
                                    <option value="mediterranean">üåä –°—Ä–µ–¥–∏–∑–µ–º–Ω–æ–º–æ—Ä—Å–∫–∏</option>
                                    <option value="nature">üåø –ü—Ä–∏—Ä–æ–¥–Ω–∏</option>
                                    <option value="royal">üëë –¶–∞—Ä—Å–∫–∏</option>
                                    <option value="myth">üèõÔ∏è –ú–∏—Ç–æ–ª–æ–≥–∏—è</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right: Heritage & Generation -->
                <div class="lg:col-span-4 flex flex-col gap-6">
                    <div class="card p-6 h-full flex flex-col justify-between">
                        <div>
                            <h3 class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-6 flex items-center gap-2">
                                <!-- Git Merge Icon -->
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 text-rose-400"><circle cx="18" cy="18" r="3"/><circle cx="6" cy="6" r="3"/><path d="M6 21V9a9 9 0 0 0 9 9"/></svg>
                                –†–æ–¥–æ–≤–∞ –ü–∞–º–µ—Ç
                            </h3>
                            
                            <div class="space-y-4">
                                <div class="p-3 bg-rose-50/50 rounded-xl border border-rose-100">
                                    <span class="text-[9px] font-bold text-rose-400 uppercase tracking-wider block mb-2">–ú–∞–π—á–∏–Ω–∞ –õ–∏–Ω–∏—è</span>
                                    <input type="text" id="parent1" placeholder="–ò–º–µ –Ω–∞ –ú–∞–π–∫–∞" class="input-terra w-full px-3 py-2 rounded-lg text-xs mb-2">
                                    <div class="flex gap-2">
                                        <input type="text" id="grandMaM" placeholder="–ë–∞–±–∞" class="input-terra w-full px-2 py-1.5 rounded-md text-[10px]">
                                        <input type="text" id="grandPaM" placeholder="–î—è–¥–æ" class="input-terra w-full px-2 py-1.5 rounded-md text-[10px]">
                                    </div>
                                </div>

                                <div class="p-3 bg-blue-50/50 rounded-xl border border-blue-100">
                                    <span class="text-[9px] font-bold text-blue-400 uppercase tracking-wider block mb-2">–ë–∞—â–∏–Ω–∞ –õ–∏–Ω–∏—è</span>
                                    <input type="text" id="parent2" placeholder="–ò–º–µ –Ω–∞ –ë–∞—â–∞" class="input-terra w-full px-3 py-2 rounded-lg text-xs mb-2">
                                    <div class="flex gap-2">
                                        <input type="text" id="grandMaD" placeholder="–ë–∞–±–∞" class="input-terra w-full px-2 py-1.5 rounded-md text-[10px]">
                                        <input type="text" id="grandPaD" placeholder="–î—è–¥–æ" class="input-terra w-full px-2 py-1.5 rounded-md text-[10px]">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <button onclick="processData()" class="btn-primary w-full py-5 rounded-xl font-bold text-sm uppercase tracking-widest flex items-center justify-center gap-3 mt-6">
                            –ì–µ–Ω–µ—Ä–∏—Ä–∞–π 
                            <!-- Arrow Right Icon -->
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
                        </button>
                    </div>
                </div>

            </div>
        </div>

        <!-- LOADING VIEW -->
        <div id="view-loading" class="hidden min-h-[600px] flex-col items-center justify-center fade-enter">
            <div class="relative w-24 h-24 mb-6">
                <div class="absolute inset-0 rounded-full border-4 border-gray-200"></div>
                <div class="absolute inset-0 rounded-full border-4 border-green-600 border-t-transparent animate-spin"></div>
            </div>
            <p class="text-xs font-bold text-gray-500 uppercase tracking-widest animate-pulse">–°–∫–∞–Ω–∏—Ä–∞–Ω–µ –Ω–∞ 50,000+ –∏–º–µ–Ω–∞...</p>
        </div>

        <!-- RESULT VIEW -->
        <div id="view-result" class="hidden card p-8 md:p-12 min-h-[600px] flex-col justify-between fade-enter relative overflow-hidden">
            <!-- Background element -->
            <div class="absolute top-0 right-0 w-64 h-64 bg-green-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"></div>

            <!-- Top Nav -->
            <div class="flex justify-between items-start mb-10 relative z-10">
                <button onclick="showInput()" class="text-gray-400 hover:text-gray-900 transition flex items-center gap-2 text-xs font-bold uppercase tracking-widest border border-gray-200 px-4 py-2 rounded-full hover:bg-gray-50">
                    <!-- Chevron Left Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3 h-3"><path d="m15 18-6-6 6-6"/></svg>
                    –†–µ–¥–∞–∫—Ü–∏—è
                </button>
                <div class="flex flex-col items-end">
                    <div class="text-[9px] text-gray-400 uppercase tracking-widest font-bold">–°—ä–≤–ø–∞–¥–µ–Ω–∏–µ</div>
                    <div class="text-2xl font-serif font-bold text-green-700" id="resScore">99.9%</div>
                </div>
            </div>

            <!-- Main Name -->
            <div class="text-center mb-12 relative z-10">
                <h2 id="resName" class="text-6xl md:text-8xl font-bold text-gray-900 mb-3 serif tracking-tight">–ò–º–µ</h2>
                <div class="flex flex-col items-center justify-center">
                    <p id="resFullName" class="text-xl md:text-2xl text-gray-500 font-light uppercase tracking-[0.2em] font-serif"></p>
                    <div id="resBadges" class="flex flex-wrap justify-center gap-2 mt-6"></div>
                </div>

                <div class="mt-8 flex justify-center gap-4">
                    <button onclick="speakName()" class="w-14 h-14 rounded-full bg-white border border-gray-100 text-gray-400 hover:text-green-700 hover:border-green-200 shadow-sm hover:shadow-md transition flex items-center justify-center group" title="–ß—É–π –∏–º–µ—Ç–æ">
                        <!-- Volume 2 Icon -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 group-hover:scale-110 transition"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/></svg>
                    </button>
                    <button onclick="saveName()" class="px-8 h-14 rounded-full bg-gray-900 text-white hover:bg-gray-800 transition flex items-center gap-3 font-bold text-xs uppercase tracking-widest shadow-lg shadow-gray-200 hover:shadow-xl transform hover:-translate-y-0.5">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>
                         –ó–∞–ø–∞–∑–∏
                    </button>
                </div>
            </div>

            <!-- Stats & Info -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 relative z-10">
                <div class="space-y-6">
                    <div class="bg-gray-50/50 p-6 rounded-2xl border border-gray-100">
                        <span class="text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-3 flex items-center gap-2">
                             <!-- Book Open Icon -->
                             <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3 h-3"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
                             –ó–Ω–∞—á–µ–Ω–∏–µ
                        </span>
                        <p id="resMeaning" class="text-xl text-gray-800 serif italic leading-relaxed">...</p>
                    </div>
                    <div>
                        <span class="text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-2">–õ–æ–≥–∏–∫–∞</span>
                        <p id="resReason" class="text-xs text-gray-500 leading-relaxed font-medium pl-3 border-l-2 border-green-200">...</p>
                    </div>
                </div>
                
                <div class="space-y-8 py-2">
                    <div class="space-y-2">
                        <div class="flex justify-between text-[10px] font-bold text-gray-500 uppercase tracking-wider">
                            <span>–ú–µ–∫–æ—Ç–∞ (Vibe)</span>
                            <span id="dnaSoftVal" class="text-gray-900">0%</span>
                        </div>
                        <div class="bar-bg"><div id="barSoft" class="bar-fill bg-rose-300" style="width: 0%"></div></div>
                    </div>
                    
                    <div class="space-y-2">
                         <div class="flex justify-between text-[10px] font-bold text-gray-500 uppercase tracking-wider">
                            <span>–£–Ω–∏–∫–∞–ª–Ω–æ—Å—Ç</span>
                            <span id="dnaUniqueVal" class="text-gray-900">0%</span>
                        </div>
                        <div class="bar-bg"><div id="barUnique" class="bar-fill bg-blue-300" style="width: 0%"></div></div>
                    </div>

                    <div class="pt-4 border-t border-gray-100 flex justify-between items-center">
                        <span class="text-[10px] font-bold text-gray-400 uppercase tracking-widest">–ù—É–º–µ—Ä–æ–ª–æ–≥–∏—è</span>
                        <div class="flex items-center gap-2">
                            <span id="resNum" class="text-xl font-bold text-gray-800 font-mono">7</span>
                            <span id="resNumText" class="text-[10px] bg-gray-100 px-2 py-1 rounded text-gray-600 font-bold uppercase">–ú–∏—Å—Ç–∏–∫</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Generate Next -->
            <div class="mt-10 pt-6 border-t border-gray-100 flex justify-center">
                <button onclick="generateNew()" class="text-xs font-bold text-green-700 uppercase tracking-widest hover:text-green-900 transition flex items-center gap-2 py-3 px-6 rounded-lg hover:bg-green-50">
                    <!-- Refresh CW Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M3 21v-5h5"/></svg>
                     –°–ª–µ–¥–≤–∞—â–æ –ò–º–µ
                </button>
            </div>

        </div>

    </main>

    <!-- DRAWER -->
    <div id="favoritesDrawer" class="fixed top-0 right-0 h-full w-full sm:w-[400px] bg-white shadow-2xl border-l border-gray-100 z-50 flex flex-col">
        <div class="p-8 border-b border-gray-100 flex justify-between items-center bg-gray-50/50">
            <h3 class="font-serif text-2xl text-gray-800 italic">–ö–æ–ª–µ–∫—Ü–∏—è</h3>
            <button onclick="toggleFavorites()" class="text-gray-400 hover:text-gray-900 transition"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg></button>
        </div>
        <div id="favoritesList" class="flex-1 overflow-y-auto p-6 space-y-3 bg-white"></div>
        <div class="p-6 border-t border-gray-100">
            <button onclick="exportFavorites()" class="w-full py-3 rounded-xl bg-gray-900 text-white text-xs font-bold uppercase tracking-widest hover:bg-black transition mb-2 shadow-lg shadow-gray-200">–ö–æ–ø–∏—Ä–∞–π</button>
            <button onclick="clearFavorites()" class="w-full py-2 text-red-400 hover:text-red-600 text-[10px] uppercase font-bold tracking-widest transition">–ò–∑—Ç—Ä–∏–π</button>
        </div>
    </div>

    <!-- JAVASCRIPT logic remains same but using document.getElementById for classes -->
    <script>
        // --- DATABASE ARCHITECTURE ---
        const DB = {
            // SLAVIC / BULGARIAN
            slavic_m: "–ë–æ–∂–∏–¥–∞—Ä:–î–∞—Ä;–í–ª–∞–¥–∏–º–∏—Ä:–í–ª–∞–¥–µ—Ç–µ–ª;–ö–∞–ª–æ—è–Ω:–•—É–±–∞–≤;–î–µ—è–Ω:–î–µ–µ–Ω;–ü–ª–∞–º–µ–Ω:–û–≥–Ω–µ–Ω;–ö—Ä–∞—Å–∏–º–∏—Ä:–ö—Ä–∞—Å–∏–≤;–ú–∏—Ä–æ—Å–ª–∞–≤:–ú–∏—Ä;–†–∞–¥–æ—Å–ª–∞–≤:–†–∞–¥–æ—Å—Ç;–ë–æ—è–Ω:–í–æ–π–Ω;–û–≥–Ω—è–Ω:–û–≥—ä–Ω;–°–≤–µ—Ç–æ—Å–ª–∞–≤:–°–≤–µ—Ç—ä–ª;–î—Ä–∞–≥–æ–º–∏—Ä:–î—Ä–∞–≥;–ú–æ–º—á–∏–ª:–ú–æ–º—ä–∫;–ë–∏—Å–µ—Ä:–¶–µ–Ω–µ–Ω;–í–µ—Å–µ–ª–∏–Ω:–í–µ—Å–µ–ª;–ñ–∏–≤–∫–æ:–ñ–∏–≤;–ó–¥—Ä–∞–≤–∫–æ:–ó–¥—Ä–∞–≤;–ö–∞–º–µ–Ω:–ö–∞–º—ä–∫;–õ—ä—á–µ–∑–∞—Ä:–õ—ä—á;–°—Ç–∞–Ω–∏–º–∏—Ä:–°—Ç–∞–Ω–∏ –º–∏—Ä;–¶–≤–µ—Ç–∞–Ω:–¶–≤–µ—Ç–µ;–Ø—Å–µ–Ω:–Ø—Å–µ–Ω;–Ø–≤–æ—Ä:–Ø–≤–æ—Ä;–ë–æ—Ä–∏—Å–ª–∞–≤:–°–ª–∞–≤–∞;–î–æ–±—Ä–æ–º–∏—Ä:–î–æ–±—ä—Ä;–õ—é–±–æ–º–∏—Ä:–õ—é–±–∏–º;–°–ª–∞–≤–∏:–°–ª–∞–≤–∞;–ß–∞–≤–¥–∞—Ä:–í–æ–¥–∞—á;–Ø–Ω–∫–æ:–ë–æ–≥ –µ –º–∏–ª–æ—Å—Ç–∏–≤;–ë–æ—Ä–∏–ª:–ë–æ—Ä–µ—Ü;–í–µ–ª–∏—Å–ª–∞–≤:–í–µ–ª–∏–∫;–ó–ª–∞—Ç–æ–º–∏—Ä:–ó–ª–∞—Ç–µ–Ω;–ò—Å–∫—Ä–µ–Ω:–ò—Å–∫—Ä–µ–Ω;–ü—Ä–µ—Å–ª–∞–≤:–ü—Ä–µ—Å–ª–∞–≤–µ–Ω;–†–æ—Å—Ç–∏—Å–ª–∞–≤:–†–∞—Å—Ç—è—â;–°—Ç—Ä–∞—Ö–∏–ª:–°—Ç—Ä–∞—Ö;–¢—Ä–∞—è–Ω:–¢—Ä–∞–µ–Ω;–•—Ä–∞–±—ä—Ä:–°–º–µ–ª;–ë—Ä–∞–Ω–∫–æ:–ó–∞—â–∏—Ç–Ω–∏–∫;–ì–æ—Ä–∞–Ω:–ü–ª–∞–Ω–∏–Ω–µ—Ü;–ñ–µ–ª—è–∑–∫–æ:–ó–¥—Ä–∞–≤;–ó–∞—Ä–∫–æ:–ó–ª–∞—Ç–æ;–ü—ä—Ä–≤–∞–Ω:–ü—ä—Ä–≤–∏;–°—Ç—Ä–∞—Ü–∏–º–∏—Ä:–ú–∏—Ä;–¢–∏—Ö–æ–Ω:–©–∞—Å—Ç–∏–µ;–ù–∞–π–¥–µ–Ω:–ù–∞–º–µ—Ä–µ–Ω;–ü—Ä–æ–¥–∞–Ω:–î–∞–¥–µ–Ω;–°–ø–∞—Å:–°–ø–∞—Å–∏—Ç–µ–ª;–†—É–º–µ–Ω:–†—É–º–µ–Ω;–ú–ª–∞–¥–µ–Ω:–ú–ª–∞–¥",
            slavic_f: "–†–∞–ª–∏—Ü–∞:–û—Ä–∏–æ–Ω;–î–µ—Å–∏—Å–ª–∞–≤–∞:–°–ª–∞–≤–∞;–ë–æ—Ä—è–Ω–∞:–ë–æ—Ä–µ—Ü;–ö–∞–ª–∏–Ω–∞:–•—É–±–∞–≤–∞;–¶–≤–µ—Ç–µ–ª–∏–Ω–∞:–¶–≤–µ—Ç–µ;–°–Ω–µ–∂–∞–Ω–∞:–°–Ω–µ–∂–Ω–∞;–ë–∏–ª—è–Ω–∞:–ë–∏–ª–∫–∞;–†–∞–¥–æ—Å—Ç–∏–Ω–∞:–†–∞–¥–æ—Å—Ç;–ú–∏—Ä–∞:–ú–∏—Ä;–ò—Å–∫—Ä–∞:–ò—Å–∫—Ä–∞;–ñ–∞–Ω–∞:–ñ–∏–≤–æ—Ç;–ó–æ—Ä–Ω–∏—Ü–∞:–ó–æ—Ä–∞;–ú–∏–ª–∞:–ú–∏–ª–∞;–ü—Ä–µ—Å–ª–∞–≤–∞:–ü—Ä–µ—Å–ª–∞–≤–Ω–∞;–í–µ—Å–µ–ª–∞:–í–µ—Å–µ–ª–∞;–í—è—Ä–∞:–í—è—Ä–∞;–î–∞—Ä–∏–Ω–∞:–î–∞—Ä;–ï–ª–∏—Ü–∞:–ï–ª–∞;–ñ–∏–≤–∫–∞:–ñ–∏–≤–∞;–ó–ª–∞—Ç–∏–Ω–∞:–ó–ª–∞—Ç–Ω–∞;–ò–≤–µ–ª–∏–Ω–∞:–í—ä—Ä–±–∞;–ö—Ä–∞—Å–∏–º–∏—Ä–∞:–ö—Ä–∞—Å–∏–≤–∞;–õ—é–¥–º–∏–ª–∞:–õ—é–±–∏–º–∞;–ú–∏–ª–µ–Ω–∞:–ú–∏–ª–∞;–ù–∞–¥–µ–∂–¥–∞:–ù–∞–¥–µ–∂–¥–∞;–†–∞–π–Ω–∞:–¶–∞—Ä–∏—Ü–∞;–°–≤–µ—Ç–ª–∞–Ω–∞:–°–≤–µ—Ç–ª–∞;–°—Ç–∞–Ω–∏—Å–ª–∞–≤–∞:–°–ª–∞–≤–∞;–¶–≤–µ—Ç–∞–Ω–∞:–¶–≤–µ—Ç–µ;–Ø–Ω–∞:–†–µ–∫–∞;–ë–æ–∂–∏–¥–∞—Ä–∞:–î–∞—Ä;–í–µ–ª–∏—Å–ª–∞–≤–∞:–°–ª–∞–≤–∞;–ì–µ—Ä–≥–∞–Ω–∞:–ó–µ–º–µ–¥–µ–ª–µ—Ü;–î–æ–±—Ä–æ–º–∏—Ä–∞:–î–æ–±—ä—Ä;–ñ–µ–Ω–∏:–ë–ª–∞–≥–æ—Ä–æ–¥–Ω–∞;–ò–≥–ª–∏–∫–∞:–¶–≤–µ—Ç–µ;–ö–∞—Ç—è:–ß–∏—Å—Ç–∞;–õ–∏–ª—è–Ω–∞:–õ–∏–ª–∏—è;–ú–∏—Ä–æ—Å–ª–∞–≤–∞:–ú–∏—Ä;–ù–µ–≤–µ–Ω–∞:–ù–µ–≤–µ–Ω;–ü–ª–∞–º–µ–Ω–∞:–û–≥–Ω–µ–Ω–∞;–†–∞–¥–æ—Å–ª–∞–≤–∞:–†–∞–¥–æ—Å—Ç;–°–∏–ª–≤–∞–Ω–∞:–ì–æ—Ä—Å–∫–∞;–¢–µ–º–µ–Ω—É–∂–∫–∞:–¶–≤–µ—Ç–µ;–•—Ä–∏—Å—Ç–∏–Ω–∞:–•—Ä–∏—Å—Ç–∏—è–Ω–∫–∞;–¶–≤–µ—Ç–∞–Ω–∫–∞:–¶–≤–µ—Ç–µ;–Ø–≥–æ–¥–∞:–ü–ª–æ–¥;–ë–ª–∞–≥–∞:–ë–ª–∞–≥–∞;–í–µ–Ω—Ü–∏—Å–ª–∞–≤–∞:–í–µ–Ω–µ—Ü;–î–∏–ª—è–Ω–∞:–°—ä—Ä—Ü–µ;–ñ–∞—Å–º–∏–Ω–∞:–ñ–∞—Å–º–∏–Ω;–ó–¥—Ä–∞–≤–∫–∞:–ó–¥—Ä–∞–≤–∞;–õ–∞–∑–∞—Ä–∞:–ë–æ–≥ –ø–æ–º–∞–≥–∞;–ú–∞–ª–∏–Ω–∞:–°–ª–∞–¥–∫–∞;–ü–µ—Ä—É–Ω–∏–∫–∞:–ü–µ—Ä—É–Ω–∏–∫–∞;–†–∞–¥–∞:–†–∞–¥–æ—Å—Ç;–°–µ–≤–¥–∞:–õ—é–±–æ–≤;–¢–∏–Ω—Ç—è–≤–∞:–¢–∏–Ω—Ç—è–≤–∞;–§–∏–¥–∞–Ω–∞:–§–∏–¥–∞–Ω–∫–∞",
            
            // CHRISTIAN / TRADITIONAL
            christian_m: "–ê–ª–µ–∫—Å–∞–Ω–¥—ä—Ä:–ó–∞—â–∏—Ç–Ω–∏–∫;–ì–µ–æ—Ä–≥–∏:–ó–µ–º–µ–¥–µ–ª–µ—Ü;–î–∏–º–∏—Ç—ä—Ä:–ü–æ—Å–≤–µ—Ç–µ–Ω;–ù–∏–∫–æ–ª–∞:–ü–æ–±–µ–¥–∞;–ò–≤–∞–Ω:–ë–æ–≥ –µ –º–∏–ª–æ—Å—Ç–∏–≤;–¢–µ–æ–¥–æ—Ä:–ë–æ–∂–∏ –¥–∞—Ä;–ë–æ—Ä–∏—Å:–ë–æ—Ä–µ—Ü;–°—Ç–µ—Ñ–∞–Ω:–í–µ–Ω–µ—Ü;–ú–∏—Ö–∞–∏–ª:–ö–æ–π –µ –∫–∞—Ç–æ –ë–æ–≥;–ü–µ—Ç—ä—Ä:–ö–∞–º—ä–∫;–í–∞—Å–∏–ª:–¶–∞—Ä—Å—Ç–≤–µ–Ω;–•—Ä–∏—Å—Ç–æ:–ü–æ–º–∞–∑–∞–Ω–∏–∫;–ê—Ç–∞–Ω–∞—Å:–ë–µ–∑—Å–º—ä—Ä—Ç–µ–Ω;–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω:–ü–æ—Å—Ç–æ—è–Ω–µ–Ω;–ò–ª–∏—è:–ë–æ–≥ –µ –Ø—Ö–≤–µ;–°–∏–º–µ–æ–Ω:–ë–æ–≥ —á—É–≤–∞;–ê–Ω–¥—Ä–µ–π:–ú—ä–∂–µ—Å—Ç–≤–µ–Ω;–¢–æ–¥–æ—Ä:–ë–æ–∂–∏ –¥–∞—Ä;–ì–∞–≤—Ä–∞–∏–ª:–ë–æ–∂–∏—è —Å–∏–ª–∞;–ô–æ—Ä–¥–∞–Ω:–°–ø—É—Å–∫–∞—â —Å–µ;–î–∞–Ω–∞–∏–ª:–ë–æ–∂–∏ —Å—ä–¥;–ï–º–∞–Ω—É–∏–ª:–ë–æ–≥ –µ —Å –Ω–∞—Å;–ú–∞—Ç–µ–π:–ë–æ–∂–∏ –¥–∞—Ä;–õ—É–∫–∞:–°–≤–µ—Ç–ª–∏–Ω–∞;–§–∏–ª–∏–ø:–û–±–∏—á–∞—â –∫–æ–Ω–µ;–ü–∞–≤–µ–ª:–°–º–∏—Ä–µ–Ω;–°—Ç–æ—è–Ω:–ó–¥—Ä–∞–≤;–ê–Ω—Ç–æ–Ω:–¶–µ–Ω–µ–Ω;–ï–º–∏–ª:–°—ä–ø–µ—Ä–Ω–∏–∫;–ö–∏—Ä–∏–ª:–ì–æ—Å–ø–æ–¥–∞—Ä;–ú–µ—Ç–æ–¥–∏–π:–ü–æ–¥—Ä–µ–¥–µ–Ω;–õ–∞–∑–∞—Ä:–ë–æ–≥ –ø–æ–º–∞–≥–∞;–ì—Ä–∏–≥–æ—Ä:–ë–¥—è—â;–Ø–∫–æ–≤:–°–ª–µ–¥–≤–∞—â;–í–∞–ª–µ—Ä–∏:–°–∏–ª–µ–Ω;–°–∞–º—É–∏–ª:–ò–∑–º–æ–ª–µ–Ω;–î–∞–≤–∏–¥:–õ—é–±–∏–º;–ú–∞—Ä–∫–æ:–í–æ–π–Ω—Å—Ç–≤–µ–Ω;–°–∏–º–æ–Ω:–°–ª—É—à–∞—â;–í–∏–∫—Ç–æ—Ä:–ü–æ–±–µ–¥–∏—Ç–µ–ª;–ú–∞—Ä—Ç–∏–Ω:–í–æ–π–Ω;–ê–ª–µ–∫—Å:–ó–∞—â–∏—Ç–Ω–∏–∫;–ú–∞–∫—Å:–í–µ–ª–∏–∫;–î–∞–Ω–∏–µ–ª:–ë–æ–∂–∏ —Å—ä–¥;–ï—Ä–∏–∫:–í–µ—á–µ–Ω;–ù–∏–∫—ä–ª—ä—Å:–ü–æ–±–µ–¥–∞;–ô–æ—Å–∏—Ñ:–ë–æ–≥ –ø—Ä–∏–±–∞–≤—è;–¢–æ–º–∞:–ë–ª–∏–∑–Ω–∞–∫;–ê–ø–æ—Å—Ç–æ–ª:–ü—Ä–∞—Ç–µ–Ω–∏–∫;–ï–≤–≥–µ–Ω–∏:–ë–ª–∞–≥–æ—Ä–æ–¥–µ–Ω;–ò–ª–∞—Ä–∏–æ–Ω:–í–µ—Å–µ–ª;–ö–ª–∏–º–µ–Ω—Ç:–ú–∏–ª–æ—Å—Ç–∏–≤;–õ–µ–æ–Ω–∏–¥:–õ—ä–≤—Å–∫–∏",
            christian_f: "–ú–∞—Ä–∏—è:–õ—é–±–∏–º–∞;–°–æ—Ñ–∏—è:–ú—ä–¥—Ä–æ—Å—Ç;–ï–ª–µ–Ω–∞:–°–≤–µ—Ç–ª–∏–Ω–∞;–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞:–ó–∞—â–∏—Ç–Ω–∏—Ü–∞;–í–∏–∫—Ç–æ—Ä–∏—è:–ü–æ–±–µ–¥–∞;–ù–∏–∫–æ–ª:–ü–æ–±–µ–¥–∞;–ì–∞–±—Ä–∏–µ–ª–∞:–ë–æ–∂–∏—è —Å–∏–ª–∞;–ô–æ–∞–Ω–∞:–ë–ª–∞–≥–æ–¥–∞—Ç;–¢–µ–æ–¥–æ—Ä–∞:–ë–æ–∂–∏ –¥–∞—Ä;–†–∞—è:–†–∞–π;–•—Ä–∏—Å—Ç–∏–Ω–∞:–•—Ä–∏—Å—Ç–∏—è–Ω–∫–∞;–ò–≤–∞–Ω–∞:–ë–æ–≥ –µ –º–∏–ª–æ—Å—Ç–∏–≤;–ú–∞–≥–¥–∞–ª–µ–Ω–∞:–û—Ç –ú–∞–≥–¥–∞–ª–∞;–ö–∞—Ç–µ—Ä–∏–Ω–∞:–ß–∏—Å—Ç–∞;–°–∏–º–æ–Ω–∞:–ë–æ–≥ —á—É–≤–∞;–ì–µ—Ä–≥–∞–Ω–∞:–ó–µ–º–µ–¥–µ–ª–µ—Ü;–°—Ç–µ—Ñ–∞–Ω–∏:–í–µ–Ω–µ—Ü;–ù–∞—Ç–∞–ª–∏—è:–†–æ–∂–¥–µ—Å—Ç–≤–æ;–î–∞–Ω–∏–µ–ª–∞:–ë–æ–≥ –µ —Å—ä–¥–∏—è;–ï–ª–µ–æ–Ω–æ—Ä–∞:–ë–æ–≥ –µ —Å–≤–µ—Ç–ª–∏–Ω–∞;–ê–Ω–Ω–∞:–ë–ª–∞–≥–æ–¥–∞—Ç;–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞:–ß–∏—Å—Ç–∞;–ú–∏—Ö–∞–µ–ª–∞:–ö–æ—è –µ –∫–∞—Ç–æ –ë–æ–≥;–í–∞—Å–∏–ª–µ–Ω–∞:–¶–∞—Ä—Å—Ç–≤–µ–Ω–∞;–°–∏–ª–≤–∏—è:–ì–æ—Ä—Å–∫–∞;–ö—Ä–∏—Å—Ç–∏–Ω–∞:–ü–æ—Å–≤–µ—Ç–µ–Ω–∞;–î–∏–∞–Ω–∞:–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–∞;–ú–æ–Ω–∏–∫–∞:–°—ä–≤–µ—Ç–Ω–∏–∫;–í–µ—Ä–æ–Ω–∏–∫–∞:–ü–æ–±–µ–¥–∞;–¢–∞—Ç—è–Ω–∞:–£—Ä–µ–¥–∏—Ç–µ–ª–∫–∞;–Æ–ª–∏—è:–ö—ä–¥—Ä–∞–≤–∞;–í–∞–ª–µ—Ä–∏—è:–°–∏–ª–Ω–∞;–ï–ª–∏—Å–∞–≤–µ—Ç–∞:–ë–æ–≥ –µ –∫–ª–µ—Ç–≤–∞;–ú–∞—Ä–∏–Ω–∞:–ú–æ—Ä—Å–∫–∞;–ò—Ä–∏–Ω–∞:–ú–∏—Ä;–ü–µ—Ç—è:–ö–∞–º—ä–∫;–†—É–º—è–Ω–∞:–†—É–º–µ–Ω–∞;–°–≤–µ—Ç–ª–∞:–°–≤–µ—Ç–ª–∞;–ó–æ—Ä–Ω–∏—Ü–∞:–ó–æ—Ä–Ω–∏—Ü–∞;–ê–Ω–∏—Ç–∞:–ë–ª–∞–≥–æ–¥–∞—Ç;–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞:–ü–µ—Ä–ª–∞;–í–∏–æ–ª–µ—Ç–∞:–¢–µ–º–µ–Ω—É–∂–∫–∞;–õ–∏–ª–∏—è:–õ–∏–ª–∏—è;–†–æ–∑–∞:–†–æ–∑–∞;–ö–∞–º–µ–ª–∏—è:–ö–∞–º–µ–ª–∏—è;–ï–º–∞:–¶—è–ª–∞;–ú–∏—è:–ú–æ—è;–°–∞—Ä–∞:–ü—Ä–∏–Ω—Ü–µ—Å–∞;–õ–µ–∞:–õ—ä–≤–∏—Ü–∞;–ò–∑–∞–±–µ–ª–∞:–û–±–µ—â–∞–Ω–∏–µ;–ë–µ–ª–∞:–ö—Ä–∞—Å–∏–≤–∞;–õ–æ—Ä–∞:–õ–∞–≤—ä—Ä;–î–∞—Ä–∞:–î–∞—Ä;–ù–∏—è:–¶–µ–ª;–ê–º–µ–ª–∏—è:–¢—Ä—É–¥–æ–ª—é–±–∏–≤–∞;–û–ª–∏–≤–∏—è:–ú–∞—Å–ª–∏–Ω–∞;–ï–º–∏–ª–∏:–°—ä–ø–µ—Ä–Ω–∏—á–∫–∞;–ê–≤–∞:–ñ–∏–≤–æ—Ç;–®–∞—Ä–ª–æ—Ç:–°–≤–æ–±–æ–¥–Ω–∞;–•–∞–Ω–∞:–ë–ª–∞–≥–æ–¥–∞—Ç;–ó–æ—è:–ñ–∏–≤–æ—Ç;–ö–ª–∞—Ä–∞:–Ø—Å–Ω–∞;–õ—É–Ω–∞:–õ—É–Ω–∞;–ú–∞—è:–ò–ª—é–∑–∏—è;–°—Ç–µ–ª–∞:–ó–≤–µ–∑–¥–∞;–ï–ª–∏–Ω–∞:–°–≤–µ—Ç–ª–∏–Ω–∞;–ò–≤–µ—Ç:–¢–∏—Å–æ–≤–æ –¥—ä—Ä–≤–æ;–ö–∞—è:–ß–∏—Å—Ç–∞",
            
            // WESTERN / MODERN
            western_m: "–û–ª–∏–≤—ä—Ä:–ú–∞—Å–ª–∏–Ω–∞;–õ–∏—ä–º:–í–æ–π–Ω;–ù–æ–∞:–ü–æ—á–∏–≤–∫–∞;–î–∂–µ–π–º—Å:–ó–∞–º–µ—Å—Ç–Ω–∏–∫;–£–∏–ª—è–º:–†–µ—à–∏—Ç–µ–ª–µ–Ω;–ë–µ–Ω–¥–∂–∞–º–∏–Ω:–°–∏–Ω;–õ—É–∫–∞—Å:–°–≤–µ—Ç—ä–ª;–•–µ–Ω—Ä–∏:–í–ª–∞–¥–µ—Ç–µ–ª;–¢–µ–æ–¥–æ—Ä:–ë–æ–∂–∏ –¥–∞—Ä;–î–∂–∞–∫:–ë–æ–≥ –µ –º–∏–ª–æ—Å—Ç–∏–≤;–õ–µ–≤–∏:–°–≤—ä—Ä–∑–∞–Ω;–°–µ–±–∞—Å—Ç–∏–∞–Ω:–ü–æ—á–∏—Ç–∞–Ω;–ú–∞—Ç–µ–æ:–ë–æ–∂–∏ –¥–∞—Ä;–õ–æ–≥–∞–Ω:–ú–∞–ª–∫–∞ –¥—É–ø–∫–∞;–û—É–µ–Ω:–ë–ª–∞–≥–æ—Ä–æ–¥–µ–Ω;–ò—Ç—ä–Ω:–°–∏–ª–µ–Ω;–°–∞–º—é–µ–ª:–ë–æ–≥ —á—É;–î–∂–µ–π–∫—ä–±:–ó–∞–º–µ—Å—Ç–Ω–∏–∫;–ê—à—ä—Ä:–©–∞—Å—Ç–ª–∏–≤;–ï–π–¥—ä–Ω:–û–≥—ä–Ω;–î–∂–æ–Ω:–ë–æ–≥ –µ –º–∏–ª–æ—Å—Ç–∏–≤;–î–∂–æ—É–∑–µ—Ñ:–ë–æ–≥ –ø—Ä–∏–±–∞–≤—è;–î–µ–π–≤–∏–¥:–õ—é–±–∏–º;–ú–∞–π–∫—ä–ª:–ö–æ–π –µ –∫–∞—Ç–æ –ë–æ–≥;–õ—é–∫:–°–≤–µ—Ç—ä–ª;–ê–Ω—Ç—ä–Ω–∏:–¶–µ–Ω–µ–Ω;–î–∏–ª—ä–Ω:–°–∏–Ω –Ω–∞ –º–æ—Ä–µ—Ç–æ;–ï–π–¥—Ä–∏—ä–Ω:–û—Ç –ê–¥—Ä–∏—è;–ö—Ä–∏—Å—Ç–æ—Ñ—ä—Ä:–•—Ä–∏—Å—Ç–æ–Ω–æ—Å–µ—Ü;–¢–æ–º–∞—Å:–ë–ª–∏–∑–Ω–∞–∫;–ß–∞—Ä–ª–∑:–°–≤–æ–±–æ–¥–µ–Ω;–ö–µ–π–ª—ä–±:–ü—Ä–µ–¥–∞–Ω;–†–∞–π—ä–Ω:–ú–∞–ª—ä–∫ –∫—Ä–∞–ª;–ù–µ–π—Ç—ä–Ω:–î–∞–¥–µ–Ω;–ï–ª–∏:–í—ä–∑–≤–∏—à–µ–Ω;–ê—Ä—ä–Ω:–ü—Ä–æ—Å–≤–µ—Ç–ª–µ–Ω;–•—ä–Ω—Ç—ä—Ä:–õ–æ–≤–µ—Ü;–ö–æ–Ω—ä—Ä:–õ—é–±–∏—Ç–µ–ª –Ω–∞ –∫—É—á–µ—Ç–∞;–î–∂–æ–Ω–∞—Ç–∞–Ω:–ë–æ–≥ –¥–∞–¥–µ;–ï–≤–∞–Ω:–ë–æ–≥ –µ –º–∏–ª–æ—Å—Ç–∏–≤;–û—Å—Ç–∏–Ω:–í–µ–ª–∏—á–µ—Å—Ç–≤–µ–Ω;–ê–¥–∞–º:–ß–æ–≤–µ–∫;–ö–µ–≤–∏–Ω:–ö—Ä–∞—Å–∏–≤;–î–∂–µ–π—Å—ä–Ω:–õ–µ—á–∏—Ç–µ–ª;–ë—Ä–∞–π—ä–Ω:–í–∏—Å–æ–∫;–ï—Ä–∏–∫:–í–µ—á–µ–Ω;–î–∂—ä—Å—Ç–∏–Ω:–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤;–ë—Ä–∞–Ω–¥—ä–Ω:–•—ä–ª–º;–¢–∞–π–ª—ä—Ä:–¢–≤–æ—Ä–µ—Ü;–ü–∞—Ç—Ä–∏–∫:–ë–ª–∞–≥–æ—Ä–æ–¥–Ω–∏–∫;–†–∏—á–∞—Ä–¥:–°–º–µ–ª;–°—Ç–∏–≤—ä–Ω:–í–µ–Ω–µ—Ü",
            western_f: "–®–∞—Ä–ª–æ—Ç:–°–≤–æ–±–æ–¥–Ω–∞;–ê–º–µ–ª–∏—è:–¢—Ä—É–¥–æ–ª—é–±–∏–≤–∞;–ï–≤–µ–ª–∏–Ω:–ñ–∏–≤–æ—Ç;–•–∞—Ä–ø—ä—Ä:–ê—Ä—Ñ–∏—Å—Ç–∫–∞;–ö–∞–º–∏–ª–∞:–°–ª—É–∂–∏—Ç–µ–ª–∫–∞;–î–∂–∏–∞–Ω–∞:–ë–æ–≥ –µ –º–∏–ª–æ—Å—Ç–∏–≤;–ï–ª–∏–∑–∞–±–µ—Ç:–ë–æ–≥ –µ –∫–ª–µ—Ç–≤–∞;–ï–ª–µ–æ–Ω–æ—Ä:–°–≤–µ—Ç–ª–∏–Ω–∞;–ï–ª–∞:–í—Å–∏—á–∫–∏;–ê–±–∏–≥–µ–π–ª:–ë–∞—â–∏–Ω–∞ —Ä–∞–¥–æ—Å—Ç;–°–æ—Ñ–∏—è:–ú—ä–¥—Ä–æ—Å—Ç;–ï–π–≤—ä—Ä–∏:–í–ª–∞–¥–µ—Ç–µ–ª–∫–∞ –Ω–∞ –µ–ª—Ñ–∏;–°–∫–∞—Ä–ª–µ—Ç:–ê–ª–µ–Ω–æ;–ï–º–∏–ª–∏:–°—ä–ø–µ—Ä–Ω–∏—á–∫–∞;–ê—Ä–∏—è:–ú–µ–ª–æ–¥–∏—è;–ü–µ–Ω–µ–ª–æ–ø–µ:–¢—ä–∫–∞—á–∫–∞;–ö–ª–æ–∏:–ó–µ–ª–µ–Ω–∏–Ω–∞;–õ–∞–π–ª–∞:–ù–æ—â;–ú–∏–ª–∞:–ú–∏–ª–∞;–ù–æ—Ä–∞:–ß–µ—Å—Ç;–•–µ–π–∑—ä–ª:–õ–µ—à–Ω–∏–∫;–õ–∏–ª–∏:–õ–∏–ª–∏—è;–í–∏–æ–ª–µ—Ç:–¢–µ–º–µ–Ω—É–∂–∫–∞;–ê—É—Ä–æ—Ä–∞:–ó–æ—Ä–∞;–°–∞–≤–∞–Ω–∞:–†–∞–≤–Ω–∏–Ω–∞;–û–¥—Ä–∏:–ë–ª–∞–≥–æ—Ä–æ–¥–Ω–∞ —Å–∏–ª–∞;–ë—Ä—É–∫–ª–∏–Ω:–ü–æ—Ç–æ–∫;–ë–µ–ª–∞:–ö—Ä–∞—Å–∏–≤–∞;–ö–ª–µ—ä—Ä:–Ø—Å–Ω–∞;–°–∫–∞–π–ª–∞—Ä:–£—á–µ–Ω–∞;–õ—é—Å–∏:–°–≤–µ—Ç–ª–∏–Ω–∞;–ü–µ–π—Å–ª–∏:–¶—ä—Ä–∫–≤–∞;–ï–≤—ä—Ä–ª–∏:–ì–ª–∏–≥–∞–Ω—Å–∫–∞ –ø–æ–ª—è–Ω–∞;–ê–Ω–Ω–∞:–ë–ª–∞–≥–æ–¥–∞—Ç;–ö–∞—Ä–æ–ª–∏–Ω:–°–≤–æ–±–æ–¥–Ω–∞;–ù–æ–≤–∞:–ù–æ–≤–∞;–î–∂–µ–Ω–µ–∑–∏—Å:–ü—Ä–æ–∏–∑—Ö–æ–¥;–ï–º–∏–ª–∏—è:–°—ä–ø–µ—Ä–Ω–∏—á–∫–∞;–ö–µ–Ω–µ–¥–∏:–ì—Ä–æ–∑–Ω–∞ –≥–ª–∞–≤–∞;–°–∞–º–∞–Ω—Ç–∞:–°–ª—É—à–∞—â–∞;–ú–∞—è:–ú–∞–π–∫–∞;–£–∏–ª–æ—É:–í—ä—Ä–±–∞;–ö–∏–Ω—Å–ª–∏:–ö—Ä–∞–ª—Å–∫–∞ –ø–æ–ª—è–Ω–∞;–ù–∞–æ–º–∏:–ü—Ä–∏—è—Ç–Ω–∞;–ï–ª–µ–Ω–∞:–°–≤–µ—Ç–ª–∏–Ω–∞;–°–∞—Ä–∞:–ü—Ä–∏–Ω—Ü–µ—Å–∞;–ê—Ä–∏–∞–Ω–∞:–ù–∞–π-—Å–≤e—Ç–∞;–ê–ª–∏—Å—ä–Ω:–ë–ª–∞–≥–æ—Ä–æ–¥–Ω–∞;–ì–∞–±—Ä–∏–µ–ª–∞:–ë–æ–∂–∏—è —Å–∏–ª–∞;–ê–ª–∏—Å:–ë–ª–∞–≥–æ—Ä–æ–¥–Ω–∞;–ú–∞–¥–µ–ª–∏–Ω:–û—Ç –ú–∞–≥–¥–∞–ª–∞",
            
            // NORDIC
            nordic_m: "–ë—å–æ—Ä–Ω:–ú–µ—á–∫–∞;–°–≤–µ–Ω:–ú–ª–∞–¥;–û–ª–∞—Ñ:–ü—Ä–µ–¥—à–µ—Å—Ç–≤–µ–Ω–∏–∫;–õ–µ–π—Ñ:–ù–∞—Å–ª–µ–¥–Ω–∏–∫;–¢–æ—Ä:–ì—Ä—ä–º;–ú–∞–≥–Ω—É—Å:–í–µ–ª–∏–∫;–ê–∫—Å–µ–ª:–ë–∞—â–∞ –Ω–∞ –º–∏—Ä–∞;–ò–≤–∞—Ä:–í–æ–π–Ω —Å –ª—ä–∫;–ï—Ä–∏–∫:–í–µ—á–µ–Ω –≤–ª–∞–¥–µ—Ç–µ–ª;–ì—É—Å—Ç–∞–≤:–°–∫–∏–ø—Ç—ä—Ä;–•–∞—Ä–∞–ª–¥:–í–æ–∂–¥;–ö–Ω—É—Ç:–í—ä–∑–µ–ª;–õ–∞—Ä—Å:–õ–∞–≤—ä—Ä;–ù–∏–ª—Å:–ü–æ–±–µ–¥–∞;–°—Ç–∏–≥:–ü—ä—Ç;–í–∞–ª—Ç–µ—Ä:–í–æ–¥–∞—á;–í–∏–≥–æ:–ë–∏—Ç–∫–∞;–ô–µ–Ω—Å:–ë–æ–≥ –µ –º–∏–ª–æ—Å—Ç–∏–≤;–°—å–æ—Ä–µ–Ω:–°—Ç—Ä–æ–≥;–ê–Ω–¥–µ—Ä—Å:–ú—ä–∂–µ—Å—Ç–≤–µ–Ω;–ï–π–Ω–∞—Ä:–°–∞–º –≤–æ–π–Ω;–†–∞–ª—Ñ:–í—ä–ª–∫;–†–æ–ª—Ñ:–í—ä–ª–∫;–¢–æ—Ä—Å—Ç–µ–Ω:–ö–∞–º—ä–∫ –Ω–∞ –¢–æ—Ä;–ì—É–Ω–Ω–∞—Ä:–ë–æ–µ–Ω;–ê—Å–≥–µ—Ä:–ë–æ–∂–∏–µ –∫–æ–ø–∏–µ;–§—Ä–µ–π:–ì–æ—Å–ø–æ–¥–∞—Ä;–•–∞–ª–≤–∞—Ä:–ü–∞–∑–∏—Ç–µ–ª –Ω–∞ —Å–∫–∞–ª–∞—Ç–∞;–£–ª—Ñ:–í—ä–ª–∫;–ê—Ä–Ω–µ:–û—Ä–µ–ª;–§–∏–Ω:–ë—è–ª;–ö–µ–ª:–ö–æ—Ç–ª–µ;–ú–æ—Ä—Ç–µ–Ω:–í–æ–π–Ω;–û–¥–∏–Ω:–í–¥—ä—Ö–Ω–æ–≤–µ–Ω–∏–µ;–†—É–Ω–µ:–¢–∞–π–Ω–∞;–°–∏–≥—É—Ä–¥:–ü–æ–±–µ–¥–µ–Ω –ø–∞–∑–∏—Ç–µ–ª;–¢–æ—Ä–±—å–æ—Ä–Ω:–ú–µ—á–∫–∞ –Ω–∞ –¢–æ—Ä;–í–∏–¥–∞—Ä:–ì–æ—Ä—Å–∫–∏ –≤–æ–π–Ω;–•–æ–ª–≥–µ—Ä:–û—Å—Ç—Ä–æ–≤–Ω–æ –∫–æ–ø–∏–µ;–ï—Å–±–µ–Ω:–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–∞ –º–µ—á–∫–∞;–ë—Ä–∞–≥–∏:–ü–æ–µ—Ç;–§—Ä–æ–¥–µ:–ú—ä–¥—ä—Ä;–ô–æ—Ä–≥–µ–Ω:–ó–µ–º–µ–¥–µ–ª–µ—Ü;–ö–ª–∞—É—Å:–ü–æ–±–µ–¥–∞;–°—Ç–µ—Ñ–∞–Ω:–í–µ–Ω–µ—Ü;–ú–∏–∫–∞–µ–ª:–ö–æ–π –µ –∫–∞—Ç–æ –ë–æ–≥;–ô–æ—Ö–∞–Ω:–ë–æ–≥ –µ –º–∏–ª–æ—Å—Ç–∏–≤;–ö—Ä–∏—Å—Ç–∏–∞–Ω:–•—Ä–∏—Å—Ç–∏—è–Ω–∏–Ω;–§—Ä–µ–¥–µ—Ä–∏–∫:–ú–∏—Ä–µ–Ω –≤–ª–∞–¥–µ—Ç–µ–ª;–•–µ–Ω—Ä–∏–∫:–í–ª–∞–¥–µ—Ç–µ–ª –Ω–∞ –¥–æ–º–∞",
            nordic_f: "–ê—Å—Ç—Ä–∏–¥:–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–∞ –∫—Ä–∞—Å–æ—Ç–∞;–§—Ä–µ—è:–ì–æ—Å–ø–æ–¥–∞—Ä–∫–∞;–ò–Ω–≥—Ä–∏–¥:–ö—Ä–∞—Å–∏–≤–∞;–°–∏–≥—Ä–∏–¥:–ö—Ä–∞—Å–∏–≤–∞ –ø–æ–±–µ–¥–∞;–°–æ–ª–≤–µ–π–≥:–°–ª—ä–Ω—á–µ–≤ –ø—ä—Ç;–õ–∏–≤:–ñ–∏–≤–æ—Ç;–¢—É–≤–µ:–ì—Ä—ä–º;–ï–ª–∑–∞:–ë–æ–≥ –µ –∫–ª–µ—Ç–≤–∞;–ö–∞—Ä–µ–Ω:–ß–∏—Å—Ç–∞;–ú–∞—Ç–∏–ª–¥–∞:–°–∏–ª–Ω–∞ –≤ –±–∏—Ç–∫–∞;–ï–±–±–∞:–°–∏–ª–Ω–∞;–ò–¥–∞:–¢—Ä—É–¥–æ–ª—é–±–∏–≤–∞;–•–∏–ª–¥–∞:–ë–∏—Ç–∫–∞;–ë—Ä–∏—Ç–∞:–í—ä–∑–≤–∏—à–µ–Ω–∞;–£–ª–ª–∞:–†–µ—à–∏—Ç–µ–ª–Ω–∞;–ì—Ä–µ—Ç–∞:–ü–µ—Ä–ª–∞;–°–∏–≥–Ω–∞:–ù–æ–≤–∞ –ø–æ–±–µ–¥–∞;–î–∞–≥–º–∞—Ä:–°–ª–∞–≤–µ–Ω –¥–µ–Ω;–•–µ–ª–≥–∞:–°–≤–µ—â–µ–Ω–∞;–†–∞–≥–Ω—Ö–∏–ª–¥:–ë–æ–µ–Ω —Å—ä–≤–µ—Ç;–¢–æ—Ä–∞:–¢–æ—Ä;–ê—Å—Ç–∞:–õ—é–±–æ–≤;–ë–∏—Ä–≥–∏—Ç–∞:–í—ä–∑–≤–∏—à–µ–Ω–∞;–ì—É–¥—Ä—É–Ω:–ë–æ–π–Ω–∞ —Ç–∞–π–Ω–∞;–•–µ–¥–≤–∏–≥:–ë–∏—Ç–∫–∞;–ò–Ω–≥–∞:–ó–∞—â–∏—Ç–∞;–ô–æ—Ä—É–Ω:–û–±–∏—á–∞—â–∞ –∫–æ–Ω–µ;–ö–∞–π—Å–∞:–ß–∏—Å—Ç–∞;–õ–æ—Ç–∞:–°–≤–æ–±–æ–¥–Ω–∞;–ú–µ—Ç—Ç–µ:–ü–µ—Ä–ª–∞;–ù–∞–Ω–Ω–∞:–°–º–µ–ª–∞;–†–∏–∫–∫–µ:–í–ª–∞–¥–µ—Ç–µ–ª–∫–∞;–°—Ç–∏–Ω–µ:–•—Ä–∏—Å—Ç–∏—è–Ω–∫–∞;–¢–∏—Ä–∞:–¢–æ—Ä;–í–∏–±–µ–∫–µ:–ë–∏—Ç–∫–∞;–ê–ª–≤–∞:–ï–ª—Ñ–∞;–ï–ª–∏–Ω:–°–≤–µ—Ç–ª–∏–Ω–∞;–§—Ä–∏–¥–∞:–ú–∏—Ä;–ì–µ—Ä–¥–∞:–ó–∞—â–∏—Ç–∞;–•–∞–Ω–Ω–∞:–ë–ª–∞–≥–æ–¥–∞—Ç;–ô–æ—Ö–∞–Ω–Ω–∞:–ë–æ–≥ –µ –º–∏–ª–æ—Å—Ç–∏–≤;–ö–ª–∞—Ä–∞:–Ø—Å–Ω–∞;–õ–∏–Ω–µ–∞:–õ–∏–ø–∞;–ú–∞–ª–∏–Ω:–ú–∞–≥–¥–∞–ª–µ–Ω–∞;–ù–æ—Ä–∞:–ß–µ—Å—Ç;–†–æ–Ω—å—è:–ï–∑–µ—Ä–æ;–°–∞–≥–∞:–í–∏–∂–¥–∞—â–∞;–¢–∏–ª–¥–∞:–ë–∏—Ç–∫–∞;–í–∏–ª–º–∞:–†–µ—à–∏—Ç–µ–ª–Ω–∞ –∑–∞—â–∏—Ç–Ω–∏—Ü–∞;–ò–ª–≤–∞:–í—ä–ª—á–∏—Ü–∞",

            // NATURE
            nature_m: "–Ø–≤–æ—Ä:–Ø–≤–æ—Ä;–û–≥–Ω—è–Ω:–û–≥—ä–Ω;–ö–∞–º–µ–Ω:–ö–∞–º—ä–∫;–ó–¥—Ä–∞–≤–∫–æ:–ó–¥—Ä–∞–≤;–Ø—Å–µ–Ω:–Ø—Å–µ–Ω;–¶–≤–µ—Ç–∞–Ω:–¶–≤–µ—Ç–µ;–ú–∞–ª–∏–Ω:–ú–∞–ª–∏–Ω–∞;–í—ä—Ä–±–∞–Ω:–í—ä—Ä–±–∞;–ì–æ—Ä–∞–Ω:–ì–æ—Ä–∞;–ï–ª—Ö–æ:–ï–ª–∞;–ñ–∏—Ç–æ–º–∏—Ä:–ñ–∏–≤–æ—Ç;–ò–≥–ª–∏–∫–æ:–ò–≥–ª–∏–∫–∞;–ö–∞–ª–∏–Ω:–ö–∞–ª–∏–Ω–∞;–†–æ—Å–µ–Ω:–†–æ—Å–µ–Ω;–¢—Ä–µ–Ω–¥–∞—Ñ–∏–ª:–†–æ–∑–∞;–§–∏–¥–∞–Ω:–§–∏–¥–∞–Ω–∫–∞;–ß–µ—Ä–µ—à:–ß–µ—Ä–µ—à–∞;–Ø–≥–æ–¥–∏–Ω:–Ø–≥–æ–¥–∞;–†–∏–≤—ä—Ä:–†–µ–∫–∞;–§–æ—Ä–µ—Å—Ç:–ì–æ—Ä–∞;–ê—à:–Ø—Å–µ–Ω;–ë—Ä—É–∫:–ü–æ—Ç–æ–∫;–ö–ª–∏—Ñ:–°–∫–∞–ª–∞;–ö–ª–µ–π:–ì–ª–∏–Ω–∞;–î–∂–∞—Å–ø—ä—Ä:–Ø—Å–ø–∏—Å;–û–Ω–∏–∫—Å:–ù–æ–∫—ä—Ç;–§–ª–∏–Ω—Ç:–ö—Ä–µ–º—ä–∫;–°–ª–µ–π—Ç:–®–∏—Å—Ç–∏;–†–∏–π–¥:–¢—Ä—ä—Å—Ç–∏–∫–∞;–†–æ—É–∞–Ω:–û—Ñ–∏–∫–∞;–°–µ–π–¥–∂:–ú—ä–¥—Ä–µ—Ü;–ë–∞–∑–∏–ª:–ë–æ—Å–∏–ª–µ–∫;–•–∏–π—Ç:–ü—É—â–∏–Ω–∞–∫;–õ–µ–æ:–õ—ä–≤;–û—Ä–∏–æ–Ω:–õ–æ–≤–µ—Ü;–°–∏—Ä–∏—É—Å:–°–≤–µ—Ç–µ—â;–î—Ä–∞–∫–æ:–î—Ä–∞–∫–æ–Ω;–§–µ–Ω–∏–∫—Å:–ü—Ç–∏—Ü–∞;–í–æ–ª—Ñ:–í—ä–ª–∫;–§–æ–∫—Å:–õ–∏—Å–∏—Ü–∞;–ë–µ—ä—Ä:–ú–µ—á–∫–∞;–•–æ—É–∫:–Ø—Å—Ç—Ä–µ–±;–§–∞–ª–∫–æ–Ω:–°–æ–∫–æ–ª;–î—Ä–µ–π–∫:–î—Ä–∞–∫–æ–Ω;–ì—Ä–∏—Ñ–∏–Ω:–ì—Ä–∏—Ñ;–†–æ–±–∏–Ω:–ß–µ—Ä–≤–µ–Ω–æ—à–∏–π–∫–∞;–î–∂–µ–π:–°–æ–π–∫–∞;–†–µ–π–≤—ä–Ω:–ì–∞—Ä–≤–∞–Ω;–õ–∞—Ä–∫:–ß—É—á—É–ª–∏–≥–∞;–†–µ–Ω:–û—Ä–µ—Ö—á–µ",
            nature_f: "–†–æ–∑–∞:–†–æ–∑–∞;–í–∏–æ–ª–µ—Ç–∞:–¢–µ–º–µ–Ω—É–∂–∫–∞;–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞:–ü–µ—Ä–ª–∞;–ò–≤–∞:–í—ä—Ä–±–∞;–õ–∏–ª–∏—è:–ù–µ–≤–∏–Ω–Ω–æ—Å—Ç;–ò–≥–ª–∏–∫–∞:–ü—ä—Ä–≤–æ —Ü–≤–µ—Ç–µ;–ù–µ–≤–µ–Ω–∞:–ù–µ–≤–µ–Ω;–î–∞–ª–∏—è:–î–∞–ª–∏—è;–ñ–∞—Å–º–∏–Ω–∞:–ñ–∞—Å–º–∏–Ω;–ö–∞–º–µ–ª–∏—è:–ö–∞–º–µ–ª–∏—è;–¶–≤–µ—Ç–µ–ª–∏–Ω–∞:–¶–≤–µ—Ç–Ω–∞;–ú–∞–ª–∏–Ω–∞:–°–ª–∞–¥–∫–∞;–ë–∏–ª—è–Ω–∞:–ë–∏–ª–∫–∞;–í—ä—Ä–±–∏–Ω–∫–∞:–í—ä—Ä–±–∞;–ì—Ä–æ–∑–¥–∞–Ω–∫–∞:–ì—Ä–æ–∑–¥–µ;–î–µ—Ç–µ–ª–∏–Ω–∞:–î–µ—Ç–µ–ª–∏–Ω–∞;–ï–ª–∏—Ü–∞:–ï–ª–∞;–ñ–∞—Å–º–∏–Ω:–ñ–∞—Å–º–∏–Ω;–ó–¥—Ä–∞–≤–∫–∞:–ó–¥—Ä–∞–≤–µ—Ü;–ö–∞–ª–∏–Ω–∞:–ö–∞–ª–∏–Ω–∞;–õ–∞—Ç–∏–Ω–∫–∞:–õ–∞—Ç–∏–Ω–∫–∞;–ú–∏–Ω–∞:–¶–≤–µ—Ç–µ;–ù–µ–∑–∞–±—Ä–∞–≤–∫–∞:–¶–≤–µ—Ç–µ;–û—Ä—Ö–∏–¥–µ—è:–û—Ä—Ö–∏–¥–µ—è;–†–∞–ª–∏—Ü–∞:–û—Ä–∏–æ–Ω;–°–∏–Ω—á–µ—Ü:–°–∏–Ω—á–µ—Ü;–¢–µ–º–µ–Ω—É–≥–∞:–¢–µ–º–µ–Ω—É–∂–∫–∞;–§–ª–æ—Ä–∞:–¶–≤–µ—Ç–µ;–¶–≤–µ—Ç–∞:–¶–≤–µ—Ç–µ;–Ø—Å–º–∏–Ω–∞:–ñ–∞—Å–º–∏–Ω;–ê–π–≤–∏:–ë—Ä—ä—à–ª—è–Ω;–•–µ–π–∑—ä–ª:–õ–µ—à–Ω–∏–∫;–£–∏–ª–æ—É:–í—ä—Ä–±–∞;–û–ª–∏–≤:–ú–∞—Å–ª–∏–Ω–∞;–î–µ–π–∑–∏:–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞;–ü–æ–ø–∏:–ú–∞–∫;–•–µ–ª–∏:–°–ª—ä–Ω—Ü–µ;–°–∞–º—ä—Ä:–õ—è—Ç–æ;–û—Ç—ä–º:–ï—Å–µ–Ω;–£–∏–Ω—Ç—ä—Ä:–ó–∏–º–∞;–°–∫–∞–π:–ù–µ–±–µ;–õ—É–Ω–Ω–∞:–õ—É–Ω–∞;–°—Ç–∞—Ä:–ó–≤–µ–∑–¥–∞;–ê—É—Ä–æ—Ä–∞:–ó–æ—Ä–∞;–î–æ—É–Ω:–ó–æ—Ä–∞;–§–∞—É–Ω:–ï–ª–µ–Ω—á–µ;–õ–∞—Ä–∫:–ß—É—á—É–ª–∏–≥–∞;–†–æ–±–∏–Ω:–ß–µ—Ä–≤–µ–Ω–æ—à–∏–π–∫–∞;–†–µ–Ω:–û—Ä–µ—Ö—á–µ;–°–µ–π–¥–∂:–ú—ä–¥—Ä–µ—Ü",

            // MYTHOLOGY
            myth_m: "–ê—Ç–ª–∞—Å:–ù–æ—Å–µ—â —Å–≤–µ—Ç–∞;–û—Ä–∏–æ–Ω:–õ–æ–≤–µ—Ü;–ê–ø–æ–ª–æ–Ω:–°–≤–µ—Ç–ª–∏–Ω–∞;–•–µ—Ä–º–µ—Å:–í–µ—Å—Ç–∏—Ç–µ–ª;–ó–µ–≤—Å:–í–ª–∞–¥–µ—Ç–µ–ª;–ê—Ä–µ—Å:–í–æ–π–Ω;–î–∏–æ–Ω–∏—Å:–í–∏–Ω–æ;–•–µ–∫—Ç–æ—Ä:–î—ä—Ä–∂–∞—â;–Ø–∑–æ–Ω:–õ–µ—á–∏—Ç–µ–ª;–ü–µ—Ä—Å–µ–π:–†–∞–∑—Ä—É—à–∏—Ç–µ–ª;–û–¥–∏—Å–µ–π:–ì–Ω–µ–≤–µ–Ω;–ê—Ö–∏–ª:–ë–æ–ª–∫–∞;–ï—Ä–æ—Å:–õ—é–±–æ–≤;–•–µ–ª–∏–æ—Å:–°–ª—ä–Ω—Ü–µ;–ï—Ñ–∏—Ä:–í—ä–∑–¥—É—Ö;–ö–∞—Å—Ç–æ—Ä:–ë–æ–±—ä—Ä;–ü–æ–ª—É–∫—Å:–ú–Ω–æ–≥–æ —Å–ª–∞–¥—ä–∫;–°–∏—Ä–∏—É—Å:–°–≤–µ—Ç–µ—â;–î—Ä–∞–∫–æ:–î—Ä–∞–∫–æ–Ω;–§–µ–Ω–∏–∫—Å:–ü—Ç–∏—Ü–∞;–õ–µ–æ:–õ—ä–≤;–û—Ä—Ñ–µ–π:–¢—ä–º–Ω–∏–Ω–∞;–ü–∞—Ä–∏—Å:–ë–æ—Ä–µ—Ü;–ï–Ω–µ–π:–•–≤–∞–ª–µ–Ω;–¢–µ–∑–µ–∏:–ü–æ–ª–∞–≥–∞—â;–ê—Ä—Ç—É—Ä:–ú–µ—á–∫–∞;–ú–µ—Ä–ª–∏–Ω:–ú–æ—Ä—Å–∫–∞ –∫—Ä–µ–ø–æ—Å—Ç;–û–¥–∏–Ω:–í–¥—ä—Ö–Ω–æ–≤–µ–Ω–∏–µ;–¢–æ—Ä:–ì—Ä—ä–º;–õ–æ–∫–∏:–û–≥—ä–Ω;–ë–∞–ª–¥—É—Ä:–°–º–µ–ª;–§—Ä–µ–π:–ì–æ—Å–ø–æ–¥–∞—Ä;–•–µ–π–º–¥–∞–ª:–°–≤–µ—Ç–µ—â;–¢–∏—Ä:–ë–æ–≥;–í–∏–¥–∞—Ä:–ì–æ—Ä—Å–∫–∏;–í–∞–ª–∏:–ò–∑–±—Ä–∞–Ω–∏–∫;–ë—Ä–∞–≥–∏:–ü–æ–µ—Ç;–ú–∏–º–∏—Ä:–ü–∞–º–µ—Ç;–§–æ—Ä—Å–µ—Ç–∏:–ü—Ä–µ–¥—Å–µ–¥–∞—Ç–µ–ª;–£–ª–µ—Ä:–°–ª–∞–≤–∞",
            myth_f: "–ê—Ç–∏–Ω–∞:–ú—ä–¥—Ä–æ—Å—Ç;–•–µ—Ä–∞:–ü–æ–∫—Ä–æ–≤–∏—Ç–µ–ª–∫–∞;–ê—Ä—Ç–µ–º–∏–¥–∞:–ó–¥—Ä–∞–≤–∞;–ê—Ñ—Ä–æ–¥–∏—Ç–∞:–†–æ–¥–µ–Ω–∞ –æ—Ç –ø—è–Ω–∞;–î–µ–º–µ—Ç—Ä–∞:–ú–∞–π–∫–∞ –ó–µ–º—è;–ò—Ä–∏–¥–∞:–î—ä–≥–∞;–°–µ–ª–µ–Ω–∞:–õ—É–Ω–∞;–†–µ—è:–ü–æ—Ç–æ–∫;–ú–∞—è:–ú–∞–π–∫–∞;–ö–ª–∏–æ:–°–ª–∞–≤–∞;–¢–∞–ª–∏—è:–¶—ä—Ñ—Ç—è—â–∞;–£—Ä–∞–Ω–∏—è:–ù–µ–±–µ—Å–Ω–∞;–ö–∞–ª–∏–æ–ø–∞:–ü—Ä–µ–∫—Ä–∞—Å–µ–Ω –≥–ª–∞—Å;–ï—Ä–∞—Ç–æ:–õ—é–±–∏–º–∞;–î–∞—Ñ–Ω–µ:–õ–∞–≤—ä—Ä;–ö–∞—Å–∏–æ–ø–µ—è:–°–∏—è–µ—â–∞;–ê–Ω–¥—Ä–æ–º–µ–¥–∞:–í–ª–∞–¥–µ—Ç–µ–ª–∫–∞;–ê—Ä–∏–∞–¥–Ω–∞:–°–≤–µ—Ç–∞;–ï–ª–µ–∫—Ç—Ä–∞:–ö–µ—Ö–ª–∏–±–∞—Ä;–õ–µ–¥–∞:–õ–µ–±–µ–¥;–ü–µ–Ω–µ–ª–æ–ø–∞:–¢—ä–∫–∞—á–∫–∞;–ö–∞–ª–∏–ø—Å–æ:–°–∫—Ä–∏—Ç–∞;–¶–∏—Ä—Ü–µ—è:–ü—Ç–∏—Ü–∞;–ü—Å–∏—Ö–µ—è:–î—É—à–∞;–ï–≤—Ä–æ–ø–∞:–®–∏—Ä–æ–∫–æ–æ–∫–∞;–ô–æ:–õ—É–Ω–∞;–•–µ–±–∞:–ú–ª–∞–¥–æ—Å—Ç;–•–∞—Ä–º–æ–Ω–∏—è:–°—ä–≥–ª–∞—Å–∏–µ;–ê—Å—Ç—Ä–µ—è:–ó–≤–µ–∑–¥–∞;–ï–æ—Å:–ó–æ—Ä–∞;–ù–∏–∫–µ:–ü–æ–±–µ–¥–∞;–•–µ—Å—Ç–∏—è:–û–≥–Ω–∏—â–µ;–ì–µ—è:–ó–µ–º—è;–ò–ª–∏—Ç–∏—è:–†–∞–∂–¥–∞–Ω–µ;–ü–µ—Ä—Å–µ—Ñ–æ–Ω–∞:–ù–æ—Å–µ—â–∞ —Å–º—ä—Ä—Ç;–§—Ä–µ—è:–ì–æ—Å–ø–æ–¥–∞—Ä–∫–∞;–ò–¥—É–Ω:–ü–æ–¥–º–ª–∞–¥—è–≤–∞—â–∞;–°–∏—Ñ:–ù–µ–≤–µ—Å—Ç–∞;–°–∫–∞–¥–∏:–°—è–Ω–∫–∞;–ù–∞–Ω–Ω–∞:–°–º–µ–ª–∞"
        };

        // Parse DB
        const db = {};
        for(let key in rawData) {
            db[key] = rawData[key].split(';').map(entry => {
                const p = entry.split(':');
                return { name: p[0], meaning: p[1], variations: p[2] ? p[2].split(',') : [] };
            });
        }

        // --- STATE & UTILS ---
        let favorites = JSON.parse(localStorage.getItem('nomeno_favorites')) || [];
        let generatedHistory = new Set();
        updateFavoritesUI();
        
        const vibeSlider = document.getElementById('vibeSlider');
        vibeSlider.addEventListener('input', () => {
            const val = vibeSlider.value;
            const label = document.getElementById('vibeLabel');
            if(val < 35) label.innerText = "–ú–µ–∫–æ—Ç–∞";
            else if(val > 65) label.innerText = "–°–∏–ª–∞";
            else label.innerText = "–ë–∞–ª–∞–Ω—Å";
        });

        // --- FUNCTIONS ---

        function toggleModal() {
            const modal = document.getElementById('algoModal');
            if(modal.classList.contains('modal-closed')) {
                modal.classList.remove('modal-closed');
                modal.classList.add('modal-open');
            } else {
                modal.classList.remove('modal-open');
                modal.classList.add('modal-closed');
            }
        }
        function toggleDrawer() {
            const drawer = document.getElementById('favoritesDrawer');
            if(drawer.classList.contains('drawer-closed')) {
                drawer.classList.remove('drawer-closed');
                drawer.classList.add('drawer-open');
            } else {
                drawer.classList.add('drawer-closed');
                drawer.classList.remove('drawer-open');
            }
        }
        function setGender(g) {
            document.getElementById('selectedGender').value = g;
            document.querySelectorAll('.chip-radio').forEach(b => {
                b.classList.remove('active');
                if(b.id === `btn-${g}`) b.classList.add('active');
            });
        }
        function showInput() {
            document.getElementById('view-result').classList.add('hidden');
            document.getElementById('view-input').classList.remove('hidden');
        }

        function startProcess() {
            const surname = document.getElementById('surname').value.trim();
            if(!surname) { alert("–ú–æ–ª—è –≤—ä–≤–µ–¥–µ—Ç–µ —Ñ–∞–º–∏–ª–∏—è."); document.getElementById('surname').focus(); return; }

            document.getElementById('view-input').classList.add('hidden');
            document.getElementById('view-result').classList.add('hidden');
            document.getElementById('view-loading').classList.remove('hidden');
            document.getElementById('view-loading').classList.add('flex');

            setTimeout(() => {
                runAlgorithm();
                document.getElementById('view-loading').classList.add('hidden');
                document.getElementById('view-loading').classList.remove('flex');
                document.getElementById('view-result').classList.remove('hidden');
                document.getElementById('view-result').classList.add('flex');
            }, 1200);
        }

        function generatePatronymic(fatherName, childGender) {
            if (!fatherName) return "";
            const name = fatherName.trim();
            const lastChar = name.slice(-1).toLowerCase();
            const suffix = childGender === 'boy' ? '–æ–≤' : '–æ–≤–∞';
            if (['–π', '–∏', '–µ'].includes(lastChar)) return name.slice(0, -1) + '–µ–≤' + (childGender === 'girl' ? '–∞' : '');
            if (lastChar === '–∞' || lastChar === '—è') {
                if (name.toLowerCase() === '–∏–ª–∏—è') return '–ò–ª–∏–µ–≤' + (childGender === 'girl' ? '–∞' : '');
                return name.slice(0, -1) + suffix;
            }
            if (lastChar === '–æ') return name.slice(0, -1) + suffix;
            return name + suffix;
        }

        function runAlgorithm() {
            const inputs = {
                surname: document.getElementById('surname').value.trim(),
                p1: document.getElementById('parent1').value.trim(),
                p2: document.getElementById('parent2').value.trim(),
                gm_m: document.getElementById('grandMaM').value.trim(),
                gp_m: document.getElementById('grandPaM').value.trim(),
                gm_d: document.getElementById('grandMaD').value.trim(),
                gp_d: document.getElementById('grandPaD').value.trim(),
                originM: document.getElementById('originMother').value,
                originF: document.getElementById('originFather').value,
                gender: document.getElementById('selectedGender').value,
                startLetter: document.getElementById('startLetter').value,
                sibling: document.getElementById('sibling').value.trim(),
                nameLength: document.getElementById('nameLength').value,
                region: document.getElementById('nameRegion').value,
                vibe: document.getElementById('vibeSlider').value
            };

            let finalGender = inputs.gender === 'random' ? (Math.random() > 0.5 ? 'boy' : 'girl') : inputs.gender;
            const genderKey = finalGender === 'boy' ? '_m' : '_f';

            // 1. Build Pool based on Region/Style
            let pool = [];
            
            if (inputs.region !== 'all') {
                 // Specific region selected
                 if(db[inputs.region + genderKey]) pool = pool.concat(db[inputs.region + genderKey]);
            } else {
                 // Global mix (default)
                 // Mix based on parents origin + general
                 const origins = [inputs.originM, inputs.originF];
                 if (origins.includes('all')) {
                     Object.keys(db).filter(k => k.endsWith(genderKey)).forEach(k => pool = pool.concat(db[k]));
                 } else {
                     origins.forEach(o => { if(db[o + genderKey]) pool = pool.concat(db[o + genderKey]); });
                     // Fallback mixing
                     if(db['modern' + genderKey]) pool = pool.concat(db['modern' + genderKey]);
                 }
            }
            
            // Safety fallback
            if(pool.length === 0) pool = pool.concat(db['modern' + genderKey]);

            // 2. Filter by Constraints
            // Unique
            pool = pool.filter((v,i,a) => a.findIndex(t => t.name === v.name) === i);
            
            // Start Letter
            if (inputs.startLetter) {
                const letterPool = pool.filter(n => n.name.toUpperCase().startsWith(inputs.startLetter));
                if (letterPool.length > 0) pool = letterPool;
            }
            
            // Name Length
            if (inputs.nameLength !== 'any') {
                 if (inputs.nameLength === 'short') pool = pool.filter(n => n.name.length <= 4);
                 else if (inputs.nameLength === 'medium') pool = pool.filter(n => n.name.length >= 5 && n.name.length <= 7);
                 else if (inputs.nameLength === 'long') pool = pool.filter(n => n.name.length >= 8);
            }

            // 3. Scoring
            let bestName = null;
            let bestScore = -9999;
            let logicText = "";
            const softSounds = ['–ª','–º','–Ω','—Ä','–π','—è','—é','–µ','–∏'];

            pool.sort(() => Math.random() - 0.5);

            for (let candidate of pool) {
                let score = 0;
                let reasons = [];
                const ancestors = [inputs.gm_m, inputs.gp_m, inputs.gm_d, inputs.gp_d].filter(Boolean);
                
                // Heritage
                ancestors.forEach(a => {
                    if (candidate.name.toUpperCase().startsWith(a[0].toUpperCase())) {
                        score += 35;
                        if (!reasons.includes('–ù–∞—Å–ª–µ–¥—Å—Ç–≤–æ')) reasons.push(`–Ω–∞—Å–ª–µ–¥—Å—Ç–≤–æ –æ—Ç ${a}`);
                    }
                });
                if(inputs.p1 && candidate.name.toUpperCase().startsWith(inputs.p1[0].toUpperCase())) score += 10;
                if(inputs.p2 && candidate.name.toUpperCase().startsWith(inputs.p2[0].toUpperCase())) score += 10;

                // Flow
                const nameEnd = candidate.name.slice(-1).toLowerCase();
                const surStart = inputs.surname.charAt(0).toLowerCase();
                if (nameEnd === surStart) score -= 20;

                // Vibe
                const nameChars = candidate.name.toLowerCase().split('');
                const softCount = nameChars.filter(c => softSounds.includes(c)).length;
                const ratio = softCount / nameChars.length;
                const targetRatio = 1 - (inputs.vibe / 100); 
                
                if (Math.abs(ratio - targetRatio) < 0.25) {
                    score += 15;
                    if(!reasons.includes('–ï–Ω–µ—Ä–≥–∏—è')) reasons.push('–µ–Ω–µ—Ä–≥–∏–µ–Ω –±–∞–ª–∞–Ω—Å');
                }

                score += Math.random() * 40; 

                if (score > bestScore) {
                    bestScore = score;
                    bestName = candidate;
                    logicText = reasons.length > 0 ? `–§–∞–∫—Ç–æ—Ä–∏: ${reasons.join(", ")}.` : "–û—Ç–ª–∏—á–µ–Ω –±–∞–ª–∞–Ω—Å.";
                }
            }

            if (!bestName) bestName = pool[0];

            let patronymic = generatePatronymic(inputs.p2, finalGender);
            let fullName = `${bestName.name} ${patronymic} ${inputs.surname}`.replace(/\s+/g, ' ').trim();

            document.getElementById('resName').innerText = bestName.name;
            document.getElementById('resFullName').innerText = fullName;
            document.getElementById('resMeaning').innerText = bestName.meaning;
            document.getElementById('resReason').innerText = logicText;
            document.getElementById('resScore').innerText = Math.floor(92 + Math.random()*7) + "%";

            // Derivatives
            const badgeContainer = document.getElementById('resDerivatives');
            badgeContainer.innerHTML = '';
            if (bestName.variations.length > 0) {
                bestName.variations.forEach(v => {
                    const el = document.createElement('span');
                    el.className = "px-3 py-1 rounded-full bg-indigo-50 text-indigo-600 text-[10px] font-bold uppercase tracking-wide border border-indigo-100";
                    el.innerText = v;
                    badgeContainer.appendChild(el);
                });
            } else {
                badgeContainer.innerHTML = '<span class="text-xs text-slate-400 italic">–ù—è–º–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏ —Å—ä–∫—Ä–∞—â–µ–Ω–∏—è</span>';
            }
            
            // DNA Visuals
            const soft = Math.floor(Math.random() * 40) + 30;
            const unique = Math.floor(Math.random() * 40) + 40;
            document.getElementById('barSoft').style.width = soft + '%';
            document.getElementById('valSoft').innerText = soft + '%';
            document.getElementById('barUnique').style.width = unique + '%';
            document.getElementById('valUnique').innerText = unique + '%';
            
            // Numerology (Simplified)
            let sum = 0;
            const cleanName = bestName.name.toUpperCase();
            for(let i=0; i<cleanName.length; i++) sum += (cleanName.charCodeAt(i) % 9) + 1;
            while(sum > 9) sum = String(sum).split('').reduce((a,b)=>parseInt(a)+parseInt(b),0);
            
            const numMeanings = { 1:"–õ–∏–¥–µ—Ä", 2:"–î–∏–ø–ª–æ–º–∞—Ç", 3:"–¢–≤–æ—Ä–µ—Ü", 4:"–ü—Ä–∞–∫—Ç–∏–∫", 5:"–°–≤–æ–±–æ–¥–µ–Ω", 6:"–ó–∞—â–∏—Ç–Ω–∏–∫", 7:"–ú–∏—Å—Ç–∏–∫", 8:"–£–ø—Ä–∞–≤–∏—Ç–µ–ª", 9:"–•—É–º–∞–Ω–∏—Å—Ç" };
            document.getElementById('resNum').innerText = sum;
            document.getElementById('resNumText').innerText = numMeanings[sum] || "–£–Ω–∏–∫–∞–ª–µ–Ω";
        }

        function saveName() {
            const name = document.getElementById('resName').innerText;
            const full = document.getElementById('resFullName').innerText;
            const meaning = document.getElementById('resMeaning').innerText;
            if(!favorites.some(f => f.name === name)) {
                favorites.unshift({ name, full, meaning });
                localStorage.setItem('nomeno_favorites', JSON.stringify(favorites));
                updateFavoritesUI();
                alert('–ó–∞–ø–∞–∑–µ–Ω–æ!');
            }
        }

        function updateFavoritesUI() {
            const list = document.getElementById('favoritesList');
            const count = document.getElementById('favCount');
            count.innerText = favorites.length;
            count.style.display = favorites.length > 0 ? 'flex' : 'none';
            if(favorites.length === 0) {
                list.innerHTML = '<div class="text-center text-slate-400 mt-10 text-sm">–ù—è–º–∞ –∑–∞–ø–∞–∑–µ–Ω–∏ –∏–º–µ–Ω–∞.</div>';
                return;
            }
            list.innerHTML = favorites.map((f, i) => `
                <div class="bg-slate-50 p-4 rounded-xl border border-slate-100 flex justify-between items-center group shadow-sm hover:shadow-md transition mb-3">
                    <div>
                        <div class="font-bold text-slate-800 text-sm">${f.full}</div>
                        <div class="text-[10px] text-slate-500 italic mt-1">${f.meaning}</div>
                    </div>
                    <button onclick="removeFavorite(${i})" class="text-slate-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg></button>
                </div>
            `).join('');
            lucide.createIcons();
        }

        function removeFavorite(index) {
            favorites.splice(index, 1);
            localStorage.setItem('nomeno_favorites', JSON.stringify(favorites));
            updateFavoritesUI();
        }
        function clearFavorites() {
            if(confirm("–ò–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ –≤—Å–∏—á–∫–æ?")) { favorites = []; localStorage.setItem('nomeno_favorites', JSON.stringify(favorites)); updateFavoritesUI(); }
        }
        function exportFavorites() {
             const text = favorites.map(f => `${f.full} - ${f.meaning}`).join('\n');
             navigator.clipboard.writeText(text).then(() => alert("–ö–æ–ø–∏—Ä–∞–Ω–æ!"));
        }
        function generateNew() { processData(); }
        function speakName() {
            const txt = document.getElementById('resFullName').innerText;
            const utt = new SpeechSynthesisUtterance(txt);
            utt.lang = 'bg-BG';
            window.speechSynthesis.speak(utt);
        }

        lucide.createIcons();
    </script>
</body>
</html>
