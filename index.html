<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>АПИМП Д-р Петя Маджарова ЕООД</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Phosphor Icons (Lucide alternative for easy web use) -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f8fafc; }
        .hero-pattern {
            background-color: #3b82f6;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
        .animate-fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- Data ---

        const teamMembers = [
            { 
                name: "Д-р Петя Маджарова", 
                role: "Общопрактикуващ лекар", 
                location: ["Дебър", "МБАЛ Първомай"]
            },
            { 
                name: "Д-р Янчо Маджаров", 
                role: "Лекар", 
                location: ["Дебър", "МБАЛ Първомай", "УМБАЛ Пълмед"]
            },
            { 
                name: "Д-р Елис Фейзула - Маджарова", 
                role: "Лекар", 
                location: ["Дебър", "МБАЛ Първомай", "УМБАЛ Пълмед"]
            },
            { 
                name: "Д-р Зюлейха Халил", 
                role: "Лекар", 
                location: ["Дебър"]
            },
            { 
                name: "Д-р Васил Топлев", 
                role: "Лекар", 
                location: ["Дебър"]
            },
            { 
                name: "Диана Михова", 
                role: "Секретар", 
                location: ["Дебър"], 
                hideLocations: true
            },
            { 
                name: "Пенка Недева", 
                role: "Фелдшер", 
                location: ["Дебър"], 
                hideLocations: true
            },
            { 
                name: "Гинка Колева", 
                role: "Медицинска сестра", 
                location: ["Дебър"], 
                hideLocations: true
            },
        ];

        const locations = [
            {
                id: "debar",
                city: "Първомай (кв. Дебър)",
                address: "ул. Цариградска 43",
                mapQuery: "ул. Цариградска 43, Първомай",
                hours: "Всеки ден: 08:00 - 14:00",
                bookingLink: "https://superdoc.bg/lekar/petya-madzharova",
                bookingLabel: "Запиши час в Superdoc",
                doctors: [
                    { day: "Всеки ден", docs: ["Д-р Петя Маджарова"] },
                    { day: "Понеделник & Вторник", docs: ["Д-р Янчо Маджаров", "Д-р Елис Фейзула - Маджарова"] },
                    { day: "Сряда & Четвъртък", docs: ["Д-р Васил Топлев"] },
                    { day: "Петък", docs: ["Д-р Зюлейха Халил"] }
                ]
            },
            {
                id: "mbal",
                city: "МБАЛ Първомай",
                address: "МБАЛ Първомай, кабинет",
                mapQuery: "МБАЛ Първомай",
                hours: "Пон, Сря, Пет: 14:00 - 17:00",
                bookingLink: "https://superdoc.bg/lekar/petya-madzharova",
                bookingLabel: "Запиши час в Superdoc",
                doctors: [
                    { day: "Понеделник", docs: ["Д-р Янчо Маджаров", "Д-р Елис Фейзула - Маджарова"] },
                    { day: "Сряда & Петък", docs: ["Д-р Петя Маджарова"] }
                ]
            },
            {
                id: "pulmed",
                city: "Пловдив (УМБАЛ Пълмед)",
                address: "ул. Перущица 1А, блок Д, кабинет 13",
                mapQuery: "ул. Перущица 1А, Пловдив",
                hours: "Вторник - Петък (различни часове)",
                bookingLink: "https://doctors-viber-bot.docup.health/1525",
                bookingLabel: "Запиши час в DocUp",
                doctors: [
                    { day: "Екип", docs: ["Д-р Янчо Маджаров", "Д-р Елис Фейзула - Маджарова"] },
                    { day: "Вторник", docs: ["14:30 - 18:00"] },
                    { day: "Сряда", docs: ["08:30 - 13:00"] },
                    { day: "Четвъртък", docs: ["12:00 - 17:00"] },
                    { day: "Петък", docs: ["08:30 - 13:00"] }
                ]
            }
        ];

        const immunizationCalendar = [
            { age: "0 - 24 часа", vaccine: "Хепатит Б (първа доза)" },
            { age: "от 48-ия час", vaccine: "БЦЖ (туберкулоза)" },
            { age: "2 месец", vaccine: "Шествалентна ваксина (Дифтерия, Тетанус, Коклюш, Полиомиелит, Хемофилус, Хепатит Б), Пневмококи" },
            { age: "3 месец", vaccine: "Шествалентна ваксина (втора доза), Пневмококи (втора доза)" },
            { age: "4 месец", vaccine: "Шествалентна ваксина (трета доза), Пневмококи (трета доза)" },
            { age: "13 месец", vaccine: "Морбили, Паротит, Рубеола (МПР), Пневмококи (реимунизация)" },
            { age: "16 месец", vaccine: "Шествалентна ваксина (реимунизация)" },
            { age: "6 години", vaccine: "Дифтерия, Тетанус, Коклюш, Полиомиелит (четиривалентна)" },
            { age: "7 години", vaccine: "БЦЖ (след проба Манту)" },
            { age: "12 години", vaccine: "Морбили, Паротит, Рубеола (втора доза), Тетанус/Дифтерия" },
            { age: "17 години", vaccine: "Тетанус и Дифтерия (повторна)" },
            { age: "На всеки 10 г. (25, 35, 45...)", vaccine: "Тетанус и Дифтерия (TD)" }
        ];

        // Данни за профилактични прегледи по Наредба № 8
        const preventiveExamsData = [
            // Деца (0-18) - опростен вариант
            { minAge: 0, maxAge: 1, gender: 'all', exams: [{ name: "Ежемесечни профилактични прегледи", freq: "Всеки месец" }] },
            { minAge: 2, maxAge: 7, gender: 'all', exams: [{ name: "Профилактичен преглед", freq: "Два пъти годишно (веднъж от ОПЛ)" }] },
            { minAge: 8, maxAge: 18, gender: 'all', exams: [{ name: "Профилактичен преглед", freq: "Веднъж годишно" }] },
            
            // Възрастни (над 18) - общи за всички
            { minAge: 19, maxAge: 120, gender: 'all', exams: [
                { name: "Анамнеза и обективен статус", freq: "Ежегодно" },
                { name: "Измерване на артериално налягане", freq: "Ежегодно" },
                { name: "ЕКГ (Електрокардиограма)", freq: "Ежегодно" },
                { name: "Изследване на урина (химическо)", freq: "Ежегодно" }
            ]},

            // Специфични по възраст и пол за над 18г.
            { minAge: 30, maxAge: 45, gender: 'female', exams: [
                { name: "Мануално изследване на млечни жлези", freq: "Ежегодно" }
            ]},
            { minAge: 30, maxAge: 120, gender: 'all', exams: [
                 { name: "Пълна кръвна картина (ПКК)", freq: "На всеки 5 години" }
            ]},
            { minAge: 40, maxAge: 120, gender: 'male', exams: [
                { name: "Общ холестерол, триглицериди, HDL/LDL холестерол", freq: "На всеки 5 години" }
            ]},
            { minAge: 40, maxAge: 120, gender: 'female', exams: [
                { name: "Общ холестерол, триглицериди, HDL/LDL холестерол", freq: "На всеки 5 години" }
            ]},
            { minAge: 46, maxAge: 65, gender: 'all', exams: [
                { name: "Пълна кръвна картина (ПКК)", freq: "Ежегодно (при риск) / На 5 г." }
            ]},
             { minAge: 46, maxAge: 65, gender: 'female', exams: [
                { name: "Мануално изследване на млечни жлези", freq: "Ежегодно" }
            ]},
            { minAge: 50, maxAge: 120, gender: 'male', exams: [
                { name: "PSA (Простатно-специфичен антиген)", freq: "На всеки 2 години" }
            ]},
            { minAge: 50, maxAge: 69, gender: 'female', exams: [
                 { name: "Мамография на млечни жлези", freq: "На всеки 2 години" }
            ]},
            { minAge: 65, maxAge: 120, gender: 'all', exams: [
                { name: "Пълна кръвна картина (ПКК)", freq: "Ежегодно" },
                { name: "Общ холестерол, триглицериди, HDL/LDL холестерол", freq: "Ежегодно (при риск)" }
            ]}
        ];

        // --- Components ---

        const Navbar = ({ activeTab, setActiveTab }) => (
            <nav className="bg-white shadow-md sticky top-0 z-50">
                <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div className="flex justify-between h-20">
                        <div className="flex items-center">
                            <i className="ph ph-first-aid text-blue-600 text-3xl mr-3"></i>
                            <div>
                                <h1 className="text-xl font-bold text-gray-900 leading-tight">АПИМП Д-р Петя Маджарова</h1>
                            </div>
                        </div>
                        <div className="hidden md:flex space-x-8 items-center">
                            {['Начало', 'Екип', 'График & Локации', 'Пациенти'].map((tab) => (
                                <button
                                    key={tab}
                                    onClick={() => setActiveTab(tab)}
                                    className={`${activeTab === tab ? 'text-blue-600 border-b-2 border-blue-600' : 'text-gray-500 hover:text-blue-500'} px-3 py-2 text-sm font-medium transition-colors`}
                                >
                                    {tab}
                                </button>
                            ))}
                            <a href="#booking" className="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-full text-sm font-bold transition-colors">
                                Запази час
                            </a>
                        </div>
                         {/* Mobile menu button could go here */}
                         <div className="md:hidden flex items-center">
                            <button className="text-gray-500 hover:text-blue-600" onClick={() => document.getElementById('mobile-menu').classList.toggle('hidden')}>
                                <i className="ph ph-list text-2xl"></i>
                            </button>
                        </div>
                    </div>
                </div>
                {/* Mobile Menu */}
                <div id="mobile-menu" className="hidden md:hidden bg-gray-50 border-t">
                     {['Начало', 'Екип', 'График & Локации', 'Пациенти'].map((tab) => (
                        <button
                            key={tab}
                            onClick={() => { setActiveTab(tab); document.getElementById('mobile-menu').classList.add('hidden'); }}
                            className="block w-full text-left px-4 py-3 text-base font-medium text-gray-700 hover:bg-gray-100"
                        >
                            {tab}
                        </button>
                    ))}
                </div>
            </nav>
        );

        const Hero = ({ setActiveTab }) => (
            <div className="hero-pattern text-white pb-20 pt-10 px-4">
                <div className="max-w-4xl mx-auto text-center animate-fade-in">
                    <h2 className="text-3xl md:text-5xl font-bold mb-6">Грижа за вашето здраве с професионализъм и внимание</h2>
                    <p className="text-lg md:text-xl text-blue-100 mb-8 max-w-2xl mx-auto">
                        Екип от специалисти в Първомай и Пловдив, посветени на профилактиката, диагностиката и лечението на цялото семейство.
                    </p>
                    <div className="flex flex-col sm:flex-row justify-center gap-4">
                        <button onClick={() => setActiveTab('График & Локации')} className="bg-white text-blue-600 hover:bg-gray-100 font-bold py-3 px-8 rounded-full shadow-lg transition-transform transform hover:scale-105">
                            Виж графика
                        </button>
                        <button onClick={() => setActiveTab('Пациенти')} className="bg-blue-700 border border-blue-400 text-white hover:bg-blue-800 font-bold py-3 px-8 rounded-full transition-transform transform hover:scale-105">
                            Инструменти за пациента
                        </button>
                    </div>
                </div>
            </div>
        );

        const TeamSection = () => (
            <div className="py-12 bg-white animate-fade-in">
                <div className="max-w-7xl mx-auto px-4">
                    <h3 className="text-2xl font-bold text-center text-gray-800 mb-10">Нашият Екип</h3>
                    <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                        {teamMembers.map((member, idx) => (
                            <div key={idx} className="bg-slate-50 rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow border border-slate-100">
                                <div>
                                    <h4 className="font-bold text-gray-900 text-lg leading-tight mb-1">
                                        {member.name}
                                    </h4>
                                    <p className="text-sm text-blue-600 font-medium mb-3">{member.role}</p>
                                    
                                    {!member.hideLocations && (
                                        <div className="text-sm text-gray-600">
                                            <div className="flex flex-wrap gap-2">
                                                {member.location.map((loc, i) => (
                                                    <span key={i} className="bg-white border border-blue-100 text-gray-600 px-2 py-1 rounded text-xs">{loc}</span>
                                                ))}
                                            </div>
                                        </div>
                                    )}
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            </div>
        );

        const LocationCard = ({ loc }) => (
            <div className="bg-white rounded-xl shadow-lg overflow-hidden border-t-4 border-blue-500 flex flex-col h-full animate-fade-in">
                <div className="p-6 flex-grow">
                    <h3 className="text-xl font-bold text-gray-800 mb-2">{loc.city}</h3>
                    <p className="text-gray-600 mb-4 flex items-start">
                        <i className="ph ph-map-pin text-blue-500 mt-1 mr-2 flex-shrink-0"></i>
                        {loc.address}
                    </p>
                    
                    <div className="mb-6">
                        <h4 className="text-sm font-bold text-gray-400 uppercase tracking-wider mb-2">График на лекарите</h4>
                        <div className="space-y-3">
                            {loc.doctors.map((schedule, idx) => (
                                <div key={idx} className="bg-blue-50 p-3 rounded-lg text-sm">
                                    <span className="font-bold text-blue-800 block mb-1">{schedule.day}</span>
                                    {schedule.docs.map((doc, dIdx) => (
                                        <div key={dIdx} className="text-gray-700 pl-2 border-l-2 border-blue-200">{doc}</div>
                                    ))}
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
                
                {/* Карта */}
                <div className="h-64 w-full bg-gray-100 border-t border-gray-200">
                    <iframe 
                        width="100%" 
                        height="100%" 
                        frameBorder="0" 
                        scrolling="no" 
                        marginHeight="0" 
                        marginWidth="0" 
                        src={`https://maps.google.com/maps?q=${encodeURIComponent(loc.mapQuery)}&t=&z=15&ie=UTF8&iwloc=&output=embed`}
                        title={`Карта за ${loc.city}`}
                    ></iframe>
                </div>

                <div className="p-4 bg-gray-50 border-t border-gray-100">
                    <a href={loc.bookingLink} target="_blank" rel="noreferrer" className="block w-full bg-blue-600 hover:bg-blue-700 text-white text-center font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2">
                        <i className="ph ph-calendar-check text-xl"></i>
                        {loc.bookingLabel}
                    </a>
                </div>
            </div>
        );

        const LocationsSection = () => (
            <div id="booking" className="py-12 bg-slate-50">
                <div className="max-w-7xl mx-auto px-4">
                    <div className="text-center mb-10">
                        <h3 className="text-2xl font-bold text-gray-800">Локации и График</h3>
                        <p className="text-gray-600">Изберете удобен за вас кабинет и запазете час онлайн</p>
                    </div>
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        {locations.map(loc => <LocationCard key={loc.id} loc={loc} />)}
                    </div>
                </div>
            </div>
        );

        const BMICalculator = () => {
            const [weight, setWeight] = useState('');
            const [height, setHeight] = useState('');
            const [bmi, setBmi] = useState(null);
            const [status, setStatus] = useState('');

            const calculateBMI = () => {
                if(weight && height) {
                    const hInMeters = height / 100;
                    const val = (weight / (hInMeters * hInMeters)).toFixed(1);
                    setBmi(val);
                    if(val < 18.5) setStatus('Поднормено тегло');
                    else if(val < 25) setStatus('Нормално тегло');
                    else if(val < 30) setStatus('Наднормено тегло');
                    else setStatus('Затлъстяване');
                }
            };

            return (
                <div className="bg-white p-6 rounded-xl shadow-md">
                    <h4 className="text-lg font-bold text-blue-800 mb-4 flex items-center">
                        <i className="ph ph-calculator mr-2"></i> BMI Калкулатор
                    </h4>
                    <div className="grid grid-cols-2 gap-4 mb-4">
                        <div>
                            <label className="block text-sm text-gray-600 mb-1">Тегло (кг)</label>
                            <input type="number" value={weight} onChange={e=>setWeight(e.target.value)} className="w-full border p-2 rounded focus:ring-2 focus:ring-blue-200 outline-none" placeholder="70" />
                        </div>
                        <div>
                            <label className="block text-sm text-gray-600 mb-1">Ръст (см)</label>
                            <input type="number" value={height} onChange={e=>setHeight(e.target.value)} className="w-full border p-2 rounded focus:ring-2 focus:ring-blue-200 outline-none" placeholder="175" />
                        </div>
                    </div>
                    <button onClick={calculateBMI} className="w-full bg-blue-600 text-white py-2 rounded font-semibold hover:bg-blue-700">Изчисли</button>
                    {bmi && (
                        <div className={`mt-4 p-3 rounded text-center ${bmi < 25 && bmi > 18.5 ? 'bg-green-100 text-green-800' : 'bg-orange-100 text-orange-800'}`}>
                            <div className="text-2xl font-bold">{bmi}</div>
                            <div className="text-sm">{status}</div>
                        </div>
                    )}
                </div>
            );
        };
        
        // Нов компонент за интерактивен калкулатор на профилактични прегледи
        const PreventiveCheckupCalculator = () => {
            const [age, setAge] = useState('');
            const [gender, setGender] = useState('male');
            const [applicableExams, setApplicableExams] = useState(null);

            const checkExams = () => {
                if (!age) {
                    setApplicableExams(null);
                    return;
                }
                const ageNum = parseInt(age);
                const results = [];
                const addedExamNames = new Set();

                preventiveExamsData.forEach(rule => {
                    if (ageNum >= rule.minAge && ageNum <= rule.maxAge) {
                        if (rule.gender === 'all' || rule.gender === gender) {
                            rule.exams.forEach(exam => {
                                // Избягване на дублиране, ако правилото се припокрива
                                if (!addedExamNames.has(exam.name)) {
                                    results.push(exam);
                                    addedExamNames.add(exam.name);
                                }
                            });
                        }
                    }
                });
                setApplicableExams(results.length > 0 ? results : []);
            };

            return (
                <div className="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                    <h4 className="text-lg font-bold text-blue-800 mb-4 flex items-center">
                        <i className="ph ph-heartbeat mr-2"></i> Проверете вашите профилактични прегледи
                    </h4>
                    <p className="text-sm text-gray-600 mb-4">Въведете вашата възраст и пол, за да видите какви изследвания ви се полагат по НЗОК.</p>
                    <div className="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4">
                         <div>
                            <label className="block text-sm font-medium text-gray-700 mb-1">Възраст (години)</label>
                            <input 
                                type="number" 
                                min="0" 
                                max="120"
                                value={age} 
                                onChange={e => setAge(e.target.value)} 
                                className="w-full border border-gray-300 p-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none" 
                                placeholder="Напр. 45" 
                            />
                        </div>
                        <div>
                            <label className="block text-sm font-medium text-gray-700 mb-1">Пол</label>
                            <select 
                                value={gender} 
                                onChange={e => setGender(e.target.value)} 
                                className="w-full border border-gray-300 p-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none bg-white"
                            >
                                <option value="male">Мъж</option>
                                <option value="female">Жена</option>
                            </select>
                        </div>
                    </div>
                    <button onClick={checkExams} className="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md transition-colors">
                        Провери
                    </button>

                    {/* Резултати */}
                    {applicableExams && (
                        <div className="mt-6 animate-fade-in">
                            <h5 className="font-bold text-gray-800 mb-3">Полагащи се прегледи и изследвания:</h5>
                            {applicableExams.length > 0 ? (
                                <div className="bg-blue-50 rounded-lg border border-blue-100 overflow-hidden">
                                    <ul className="divide-y divide-blue-100">
                                        {applicableExams.map((exam, idx) => (
                                            <li key={idx} className="p-3 flex flex-col sm:flex-row justify-between items-start sm:items-center text-sm">
                                                <span className="font-medium text-blue-900 mb-1 sm:mb-0">{exam.name}</span>
                                                <span className="text-blue-700 bg-blue-100 px-2 py-1 rounded-full text-xs whitespace-nowrap">{exam.freq}</span>
                                            </li>
                                        ))}
                                    </ul>
                                </div>
                            ) : (
                                <p className="text-gray-600 bg-gray-100 p-3 rounded">Няма намерени специфични данни за тази възраст.</p>
                            )}
                            <p className="text-xs text-gray-500 mt-3 italic">* Информацията е базирана на Наредба № 8 за профилактичните прегледи и диспансеризацията. Моля, консултирайте се с вашия лекар за конкретни назначения.</p>
                        </div>
                    )}
                </div>
            );
        };

        const Accordion = ({ title, children, defaultOpen = false }) => {
            const [isOpen, setIsOpen] = useState(defaultOpen);
            return (
                <div className="border border-gray-200 rounded-lg mb-3 overflow-hidden">
                    <button onClick={() => setIsOpen(!isOpen)} className="w-full flex justify-between items-center p-4 bg-gray-50 hover:bg-gray-100 font-semibold text-gray-700 text-left">
                        {title}
                        <i className={`ph ph-caret-down transition-transform ${isOpen ? 'rotate-180' : ''}`}></i>
                    </button>
                    {isOpen && <div className="p-4 bg-white border-t border-gray-100">{children}</div>}
                </div>
            );
        };

        const PatientTools = () => (
            <div className="py-12 bg-white animate-fade-in">
                <div className="max-w-7xl mx-auto px-4">
                    <h3 className="text-2xl font-bold text-gray-800 mb-8 text-center">Полезна информация за пациента</h3>
                    
                    <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        {/* Column 1: BMI & Contacts */}
                        <div className="space-y-8">
                            <BMICalculator />
                            <div className="bg-blue-50 p-6 rounded-xl border border-blue-100">
                                <h4 className="font-bold text-blue-800 mb-3">Спешни случаи</h4>
                                <p className="text-sm text-gray-700 mb-2">При животозастрашаващи състояния, моля незабавно позвънете на телефон 112.</p>
                                <p className="text-sm text-gray-700">За прегледи извън работно време, моля свържете се с дежурния кабинет на съответното лечебно заведение.</p>
                            </div>
                        </div>

                        {/* Column 2: Checkups & Immunizations */}
                        <div className="lg:col-span-2 space-y-6">
                            {/* Нов интерактивен калкулатор за профилактични прегледи */}
                            <PreventiveCheckupCalculator />

                            <div className="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                                <h4 className="text-lg font-bold text-blue-800 mb-4 flex items-center">
                                    <i className="ph ph-syringe mr-2"></i> Имунизационен календар
                                </h4>
                                <div className="overflow-x-auto">
                                    <table className="w-full text-sm text-left text-gray-600">
                                        <thead className="text-xs text-gray-700 uppercase bg-gray-50">
                                            <tr>
                                                <th className="px-4 py-2">Възраст</th>
                                                <th className="px-4 py-2">Имунизация</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {immunizationCalendar.map((row, idx) => (
                                                <tr key={idx} className="border-b hover:bg-gray-50">
                                                    <td className="px-4 py-2 font-medium text-gray-900 whitespace-nowrap">{row.age}</td>
                                                    <td className="px-4 py-2">{row.vaccine}</td>
                                                </tr>
                                            ))}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        );

        const Footer = ({ setActiveTab }) => (
            <footer className="bg-gray-900 text-white py-12">
                <div className="max-w-7xl mx-auto px-4 grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div>
                        <h5 className="text-lg font-bold mb-4">АПИМП Д-р Петя Маджарова</h5>
                        <p className="text-gray-400 text-sm">
                            Професионална медицинска грижа за цялото семейство. 
                            Кабинети в гр. Първомай и гр. Пловдив.
                        </p>
                    </div>
                    <div>
                        <h5 className="text-lg font-bold mb-4">Бързи връзки</h5>
                        <ul className="space-y-2 text-sm text-gray-400">
                            <li><button onClick={() => setActiveTab('Начало')} className="hover:text-blue-400">Начало</button></li>
                            <li><button onClick={() => setActiveTab('График & Локации')} className="hover:text-blue-400">График</button></li>
                            <li><button onClick={() => setActiveTab('Пациенти')} className="hover:text-blue-400">Профилактика</button></li>
                        </ul>
                    </div>
                    <div>
                        <h5 className="text-lg font-bold mb-4">Записване на час</h5>
                        <div className="flex flex-col gap-2">
                            <a href="https://superdoc.bg/lekar/petya-madzharova" target="_blank" className="text-sm bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded text-center">Superdoc (Първомай)</a>
                            <a href="https://doctors-viber-bot.docup.health/1525" target="_blank" className="text-sm bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded text-center">DocUp (Пловдив)</a>
                        </div>
                    </div>
                </div>
                <div className="border-t border-gray-800 mt-8 pt-8 text-center text-xs text-gray-500">
                    &copy; {new Date().getFullYear()} АПИМП Д-р Петя Маджарова ЕООД. Всички права запазени.
                </div>
            </footer>
        );

        const App = () => {
            const [activeTab, setActiveTab] = useState('Начало');

            // Scroll to top when tab changes
            useEffect(() => {
                window.scrollTo(0, 0);
            }, [activeTab]);

            return (
                <div className="min-h-screen flex flex-col">
                    <Navbar activeTab={activeTab} setActiveTab={setActiveTab} />
                    
                    <main className="flex-grow">
                        {activeTab === 'Начало' && (
                            <>
                                <Hero setActiveTab={setActiveTab} />
                                <div className="-mt-16 relative z-10 mb-10">
                                    <div className="max-w-7xl mx-auto px-4 grid grid-cols-1 md:grid-cols-3 gap-6">
                                        <div className="bg-white p-6 rounded-xl shadow-lg border-l-4 border-green-500">
                                            <div className="text-2xl font-bold mb-1">Дебър</div>
                                            <div className="text-gray-600 text-sm">Всеки ден: 08:00 - 14:00</div>
                                        </div>
                                        <div className="bg-white p-6 rounded-xl shadow-lg border-l-4 border-blue-500">
                                            <div className="text-2xl font-bold mb-1">Първомай</div>
                                            <div className="text-gray-600 text-sm">Пон, Сря, Пет: 14:00 - 17:00</div>
                                        </div>
                                        <div className="bg-white p-6 rounded-xl shadow-lg border-l-4 border-purple-500">
                                            <div className="text-2xl font-bold mb-1">Пълмед</div>
                                            <div className="text-gray-600 text-sm">По график (Вторник-Петък)</div>
                                        </div>
                                    </div>
                                </div>
                                <TeamSection />
                                <div className="bg-blue-600 text-white text-center py-12 px-4">
                                    <h3 className="text-2xl font-bold mb-4">Готови ли сте да запишете час?</h3>
                                    <button onClick={() => setActiveTab('График & Локации')} className="bg-white text-blue-600 font-bold py-3 px-8 rounded-full shadow hover:shadow-lg transition">Към Графика</button>
                                </div>
                            </>
                        )}
                        {activeTab === 'Екип' && <TeamSection />}
                        {activeTab === 'График & Локации' && <LocationsSection />}
                        {activeTab === 'Пациенти' && <PatientTools />}
                    </main>

                    <Footer setActiveTab={setActiveTab} />
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>